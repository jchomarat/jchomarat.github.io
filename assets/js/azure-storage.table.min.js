// Azure Storage JavaScript Client Library 3.0.100
// Copyright (c) Microsoft and contributors. All rights reserved.
/* eslint-disable */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;((e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).AzureStorage||(e.AzureStorage={})).Table=t()}}(function(){return function o(s,a,u){function l(e,t){if(!a[e]){if(!s[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(c)return c(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[e]={exports:{}};s[e][0].call(i.exports,function(t){return l(s[e][1][t]||t)},i,i.exports,o,s,a,u)}return a[e].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,r){e.exports.generateDevelopmentStorageCredentials=function(t){var e="UseDevelopmentStorage=true;";return t&&(e+="DevelopmentStorageProxyUri="+t),e};var n=t("../lib/services/table/tableservice");e.exports.TableService=n,e.exports.TableQuery=t("../lib/services/table/tablequery"),e.exports.TableBatch=t("../lib/services/table/tablebatch"),e.exports.TableUtilities=t("../lib/services/table/tableutilities"),e.exports.createTableService=function(t,e,r){return new n(t,e,r)},e.exports.createTableServiceWithSas=function(t,e){return new n(null,null,t,e)};var i=t("../lib/common/common.browser"),o=i.StorageServiceClient,s=i.SharedKey;e.exports.generateAccountSharedAccessSignature=function(t,e,r){var n=o.getStorageSettings(t,e);return new s(n._name,n._key).generateAccountSignedQueryString(r)},e.exports.Constants=i.Constants,e.exports.StorageUtilities=i.StorageUtilities,e.exports.AccessCondition=i.AccessCondition,e.exports.SR=i.SR,e.exports.StorageServiceClient=o,e.exports.Logger=i.Logger,e.exports.WebResource=i.WebResource,e.exports.Validate=i.validate,e.exports.date=i.date,e.exports.LinearRetryPolicyFilter=i.LinearRetryPolicyFilter,e.exports.ExponentialRetryPolicyFilter=i.ExponentialRetryPolicyFilter,e.exports.RetryPolicyFilter=i.RetryPolicyFilter},{"../lib/common/common.browser":2,"../lib/services/table/tablebatch":47,"../lib/services/table/tablequery":48,"../lib/services/table/tableservice":49,"../lib/services/table/tableutilities":50}],2:[function(t,e,r){var n=t("./common.core");n.BrowserFileReadStream=t("./streams/browserfilereadstream"),e.exports=n},{"./common.core":3,"./streams/browserfilereadstream":23}],3:[function(t,e,r){r=e.exports;var n=t("./util/util");t("./util/patch-xmlbuilder");var i=n.getNodeVersion();if(0===i.major&&8<i.minor&&!(10<i.minor||10===i.minor&&3<=i.patch))throw new Error("The Microsoft Azure node SDK does not work with node versions > 0.9.0 and < 0.10.3. Please upgrade to node >= 0.10.3");r.xmlbuilder=t("xmlbuilder"),r.xml2js=t("xml2js"),r.Logger=t("./diagnostics/logger"),r.WebResource=t("./http/webresource"),r.StorageServiceClient=t("./services/storageserviceclient"),r.ServicePropertiesResult=t("./models/servicepropertiesresult"),r.ServiceStatsParser=t("./models/servicestatsparser"),r.AclResult=t("./models/aclresult"),r.TokenCredential=t("./models/tokencredential"),r.LinearRetryPolicyFilter=t("./filters/linearretrypolicyfilter"),r.ExponentialRetryPolicyFilter=t("./filters/exponentialretrypolicyfilter"),r.RetryPolicyFilter=t("./filters/retrypolicyfilter"),r.SharedAccessSignature=t("./signing/sharedaccesssignature"),r.SharedKey=t("./signing/sharedkey"),r.BatchOperation=t("./streams/batchoperation"),r.ChunkAllocator=t("./streams/chunkallocator"),r.ChunkStream=t("./streams/chunkstream"),r.ChunkStreamWithStream=t("./streams/chunkstreamwithstream"),r.SpeedSummary=t("./streams/speedsummary"),r.BufferStream=t("./streams/bufferstream"),r.Constants=t("./util/constants"),r.SR=t("./util/sr"),r.date=t("./util/date"),r.ISO8061Date=t("./util/iso8061date"),r.util=t("./util/util"),r.validate=t("./util/validate"),r.StorageUtilities=t("./util/storageutilities"),r.AccessCondition=t("./util/accesscondition")},{"./diagnostics/logger":4,"./filters/exponentialretrypolicyfilter":6,"./filters/linearretrypolicyfilter":7,"./filters/retrypolicyfilter":8,"./http/webresource":9,"./models/aclresult":11,"./models/servicepropertiesresult":12,"./models/servicestatsparser":13,"./models/tokencredential":14,"./services/storageserviceclient":17,"./signing/sharedaccesssignature":19,"./signing/sharedkey":20,"./streams/batchoperation":22,"./streams/bufferstream":24,"./streams/chunkallocator":25,"./streams/chunkstream":26,"./streams/chunkstreamwithstream":27,"./streams/speedsummary":28,"./util/accesscondition":29,"./util/constants":30,"./util/date":31,"./util/iso8061date":32,"./util/patch-xmlbuilder":33,"./util/sr":34,"./util/storageutilities":35,"./util/util":36,"./util/validate":37,xml2js:193,xmlbuilder:215}],4:[function(t,e,r){function o(t,e){this.level=t,this.loggerFunction=e,this.loggerFunction||(this.loggerFunction=this.defaultLoggerFunction)}o.logPriority=[(o.LogLevels={EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warning",NOTICE:"notice",INFO:"info",DEBUG:"debug"}).EMERGENCY,o.LogLevels.ALERT,o.LogLevels.CRITICAL,o.LogLevels.ERROR,o.LogLevels.WARNING,o.LogLevels.NOTICE,o.LogLevels.INFO,o.LogLevels.DEBUG],o.prototype.log=function(t,e){this.loggerFunction(t,e)},o.prototype.emergency=function(t){this.log(o.LogLevels.EMERGENCY,t)},o.prototype.critical=function(t){this.log(o.LogLevels.CRITICAL,t)},o.prototype.alert=function(t){this.log(o.LogLevels.ALERT,t)},o.prototype.error=function(t){this.log(o.LogLevels.ERROR,t)},o.prototype.warn=function(t){this.log(o.LogLevels.WARNING,t)},o.prototype.notice=function(t){this.log(o.LogLevels.NOTICE,t)},o.prototype.info=function(t){this.log(o.LogLevels.INFO,t)},o.prototype.debug=function(t){this.log(o.LogLevels.DEBUG,t)},o.prototype.defaultLoggerFunction=function(t,e){var r=o.logPriority.indexOf(this.level),n=o.logPriority.indexOf(t),i=(new Date).toISOString();n<=r&&console.log("["+i+"]"+this.level+" : "+e)},e.exports=o},{}],5:[function(t,e,r){var n=t("util"),i=t("underscore");function o(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function s(t,e){o(this,this.constructor),this.name=this.constructor.name,this.argumentName=t,this.message=e||n.format("Invalid or missing argument supplied: %s",t)}function a(t,e){o(this,this.constructor),this.name=this.constructor.name,this.argumentName=t,this.message=e||n.format("Missing argument: %s",t)}function u(t,e){o(this,this.constructor),this.name=this.constructor.name,this.message=t,e&&i.extend(this,e)}function l(t){o(this,this.constructor),this.name=this.constructor.name,this.message=t}n.inherits(s,Error),n.inherits(a,Error),n.inherits(u,Error),n.inherits(l,Error),e.exports.ArgumentError=s,e.exports.ArgumentNullError=a,e.exports.StorageError=u,e.exports.TimeoutError=l,e.exports.captureStackTrace=o},{underscore:110,util:116}],6:[function(t,e,r){"use strict";var i=t("./retrypolicyfilter");function o(t,e,r,n){this.retryCount=t||o.DEFAULT_CLIENT_RETRY_COUNT,this.retryInterval=e||o.DEFAULT_CLIENT_RETRY_INTERVAL,this.minRetryInterval=r||o.DEFAULT_CLIENT_MIN_RETRY_INTERVAL,this.maxRetryInterval=n||o.DEFAULT_CLIENT_MAX_RETRY_INTERVAL}o.DEFAULT_CLIENT_RETRY_INTERVAL=3e4,o.DEFAULT_CLIENT_RETRY_COUNT=3,o.DEFAULT_CLIENT_MAX_RETRY_INTERVAL=9e4,o.DEFAULT_CLIENT_MIN_RETRY_INTERVAL=3e3,o.prototype.shouldRetry=function(t,e){var r=e&&e.retryContext?e.retryContext:{},n=Math.pow(2,r.retryCount)-1;return n*=.8*this.retryInterval+Math.floor(Math.random()*(1.2*this.retryInterval-.8*this.retryInterval)),r.retryInterval=Math.min(this.minRetryInterval+n,this.maxRetryInterval),i._shouldRetryOnError(t,e)},o.prototype.handle=function(t,e){i._handle(this,t,e)},e.exports=o},{"./retrypolicyfilter":8}],7:[function(t,e,r){"use strict";var n=t("./retrypolicyfilter");function i(t,e){this.retryCount=t||i.DEFAULT_CLIENT_RETRY_COUNT,this.retryInterval=e||i.DEFAULT_CLIENT_RETRY_INTERVAL}i.DEFAULT_CLIENT_RETRY_INTERVAL=3e4,i.DEFAULT_CLIENT_RETRY_COUNT=3,i.prototype.shouldRetry=function(t,e){return(e&&e.retryContext?e.retryContext:{}).retryInterval=this.retryInterval,n._shouldRetryOnError(t,e)},i.prototype.handle=function(t,e){n._handle(this,t,e)},e.exports=i},{"./retrypolicyfilter":8}],8:[function(t,e,r){var p=t("../util/util"),d=t("../util/constants"),_=t("../util/storageutilities"),n=t("util")._extend;function i(t,e){this.retryCount=t||i.DEFAULT_CLIENT_RETRY_COUNT,this.retryInterval=e||i.DEFAULT_CLIENT_RETRY_INTERVAL}i.DEFAULT_CLIENT_RETRY_INTERVAL=3e4,i.DEFAULT_CLIENT_RETRY_COUNT=3,i.prototype.handle=function(t,e){i._handle(this,t,e)},i._handle=function(u,t,e){var l,c,f=n({},t);f.retryInterval=0,f.retryContext={retryCount:0,error:null,retryInterval:f.retryInterval,locationMode:f.locationMode,currentLocation:f.currentLocation};var h=function(){e&&e(f,function(t,e,r){t.error&&(f.retryContext.error&&(t.error.innerError=f.retryContext.error),f.retryContext.error=t.error);var n=f.currentLocation===d.StorageLocation.SECONDARY&&(t.response&&404===t.response.statusCode||t.error&&"ENOTFOUND"===t.error.code),i=!f.retryContext.retryCount||f.retryContext.retryCount<=u.retryCount,o=u.shouldRetry(n?500:p.objectIsNull(t.response)?306:t.response.statusCode,f);if(f.retryContext.retryCount++,o.ignore&&(t.error=null),p.objectIsNull(o.targetLocation)&&(o.targetLocation=p.getNextLocation(f.currentLocation,f.locationMode)),p.objectIsNull(o.retryInterval)&&(o.retryInterval=u.retryInterval),!t.outputStreamSent&&t.error&&p.objectIsNull(t.retryable)&&i&&(!p.objectIsNull(t.response)&&o.retryable||"ECONNREFUSED"===t.error.code||"ETIMEDOUT"===t.error.code||"ESOCKETTIMEDOUT"===t.error.code||"ECONNRESET"===t.error.code||"EAI_AGAIN"===t.error.code||"XHR error"===t.error.message)){f.currentLocation===d.StorageLocation.PRIMARY?l=t.operationEndTime:c=t.operationEndTime,n&&f.locationMode!==_.LocationMode.SECONDARY_ONLY&&(o.locationMode=_.LocationMode.PRIMARY_ONLY,o.targetLocation=d.StorageLocation.PRIMARY);var s=o.targetLocation===d.StorageLocation.PRIMARY?l:c;if(p.objectIsNull(s))f.retryInterval=0;else{var a=(new Date).getTime()-s.getTime();a<0&&(a=0),f.retryInterval=o.retryInterval-a}p.objectIsNull(o.locationMode)||(f.locationMode=o.locationMode),f.currentLocation=o.targetLocation,h()}else r?r(t):e&&e(t)})};h()},i._shouldRetryOnError=function(t,e){var r=e&&e.retryContext?e.retryContext:{};if(300<=t&&408!=t){if(501==t||505==t)return r.retryable=!1,r;e&&e.absorbConditionalErrorsOnRetry?412==t?r.lastServerError?(r.ignore=!0,r.retryable=!0):r.retryable=!1:500<=t&&t<600&&(r.retryable=!0,r.lastServerError=!0):t<500&&(r.retryable=!1)}return r},e.exports=i},{"../util/constants":30,"../util/storageutilities":35,"../util/util":36,util:116}],9:[function(t,e,r){var a=t("../util/util"),u=t("../util/sr"),n=t("../util/constants"),l=t("../errors/errors").ArgumentError,c=n.HeaderConstants,i=n.HttpConstants,o=(i=n.HttpConstants).HttpVerbs;function s(t){return t.replace(/'/g,"%27")}function f(){this.rawResponse=!1,this.queryString={}}f.put=function(t){var e=new f;return e.path=t?s(t):null,e.method=i.HttpVerbs.PUT,e},f.get=function(t){var e=new f;return e.path=t?s(t):null,e.method=i.HttpVerbs.GET,e},f.head=function(t){var e=new f;return e.path=t?s(t):null,e.method=i.HttpVerbs.HEAD,e},f.del=function(t){var e=new f;return e.path=t?s(t):null,e.method=i.HttpVerbs.DELETE,e},f.post=function(t){var e=new f;return e.path=t?s(t):null,e.method=i.HttpVerbs.POST,e},f.merge=function(t){var e=new f;return e.path=t?s(t):null,e.method=i.HttpVerbs.MERGE,e},f.prototype.withProperty=function(t,e){return this.properties||(this.properties={}),this.properties[t]=e,this},f.prototype.withRawResponse=function(t){return this.rawResponse=t,a.objectIsNull(this.rawResponse)&&(this.rawResponse=!0),this},f.prototype.withHeadersOnly=function(t){return this.headersOnly=void 0===t||t,this},f.prototype.withQueryOption=function(t,e,r){return a.objectIsNull(e)?r&&(this.queryString[t]=r):this.queryString[t]=e,this},f.prototype.withQueryOptions=function(t){if(t)for(var e=1;e<arguments.length;e++)t[arguments[e]]&&this.withQueryOption(arguments[e],t[arguments[e]]);return this},f.prototype.withHeader=function(t,e){return this.headers||(this.headers={}),a.IsNullOrEmptyOrUndefinedOrWhiteSpace(e)||(e=e instanceof Date?e.toUTCString():e,this.headers[t]=e),this},f.prototype.withBody=function(t){return this.body=t,this},f.prototype.withHeaders=function(t){if(t)for(var e=1;e<arguments.length;e++)t[arguments[e]]&&this.withHeader(arguments[e],t[arguments[e]]);return this},f.prototype.addOptionalMetadataHeaders=function(o){var s=this;return o&&Object.keys(o).forEach(function(t){if(a.IsNullOrEmptyOrUndefinedOrWhiteSpace(t))throw new l("metadata",u.METADATA_KEY_INVALID);var e=o[t];if(a.IsNullOrEmptyOrUndefinedOrWhiteSpace(e))throw new l("metadata",u.METADATA_VALUE_INVALID);var r=c.PREFIX_FOR_STORAGE_METADATA+t,n="",i=s.headers?s.headers:{};Object.keys(i).some(function(t){return(n=t).toString().toLowerCase()===r.toLowerCase()})?s.withHeader(n,s.headers[n]+","+e):s.withHeader(r,e)}),this},f.validResponse=function(t){return 200<=t&&t<300},f.prototype.pipeInput=function(t,e){var r;return(r=this.method)!==o.PUT&&r!==o.POST&&r!==o.MERGE||this.hasOwnProperty("body")||t.pipe(e),e},e.exports=f},{"../errors/errors":5,"../util/constants":30,"../util/sr":34,"../util/util":36}],10:[function(t,e,r){var n=t("md5.js"),i=function(){};i.prototype.createMd5Hash=function(){return new n},e.exports=i},{"md5.js":68}],11:[function(t,e,r){var s=t("underscore"),n=t("xmlbuilder"),i=t("../util/util"),a=t("../util/iso8061date"),u=t("../util/constants").AclConstants;(r=e.exports).serialize=function(i){var o=n.create(u.SIGNED_IDENTIFIERS_ELEMENT,{version:"1.0",encoding:"utf-8"}),t=Object.keys(i);return 0<t.length&&t.forEach(function(t){var e=i[t];if(o=o.ele(u.SIGNED_IDENTIFIER_ELEMENT).ele(u.ID).txt(t).up().ele(u.ACCESS_POLICY),e.Start){var r=e.Start;s.isDate(r)||(r=new Date(r)),r=a.format(r),o=o.ele(u.START).txt(r).up()}if(e.Expiry){var n=e.Expiry;s.isDate(n)||(n=new Date(n)),n=a.format(n),o=o.ele(u.EXPIRY).txt(n).up()}e.Permissions&&(o=o.ele(u.PERMISSION).txt(e.Permissions).up()),o=o.up().up()}),o.doc().toString()},r.parse=function(t){var r={};return(t=i.tryGetValueChain(t,["SignedIdentifiers","SignedIdentifier"]))&&(s.isArray(t)||(t=[t]),t.forEach(function(t){var e={};t.AccessPolicy&&(t.AccessPolicy.Start&&(e.Start=a.parse(t.AccessPolicy.Start)),t.AccessPolicy.Expiry&&(e.Expiry=a.parse(t.AccessPolicy.Expiry)),t.AccessPolicy.Permission&&(e.Permissions=t.AccessPolicy.Permission)),r[t.Id]=e})),r}},{"../util/constants":30,"../util/iso8061date":32,"../util/util":36,underscore:110,xmlbuilder:215}],12:[function(t,e,r){var c=t("underscore"),f=t("xmlbuilder"),h=t("../util/constants").ServicePropertiesConstants;function p(t,e){null!==e&&(void 0===e&&(e={}),t=t.ele(h.RETENTION_POLICY_ELEMENT),t=void 0!==e.Enabled?t.ele(h.ENABLED_ELEMENT).txt(e.Enabled).up():t.ele(h.ENABLED_ELEMENT).txt(!1).up(),void 0!==e.Days?t=t.ele(h.DAYS_ELEMENT).txt(e.Days).up():!0===e.Enabled&&(t=t.ele(h.DAYS_ELEMENT).txt(1).up()),t=t.up())}function d(t,e){t=void 0!==e.Version?t.ele(h.VERSION_ELEMENT).txt(e.Version).up():t.ele(h.VERSION_ELEMENT).txt(h.DEFAULT_ANALYTICS_VERSION).up(),t=void 0!==e.Enabled?t.ele(h.ENABLED_ELEMENT).txt(e.Enabled).up():t.ele(h.ENABLED_ELEMENT).txt(!1).up(),e.Enabled&&(void 0!==e.IncludeAPIs?t=t.ele(h.INCLUDE_APIS_ELEMENT).txt(e.IncludeAPIs).up():!0===e.Enabled&&(t=t.ele(h.INCLUDE_APIS_ELEMENT).txt(!1).up())),p(t,e.RetentionPolicy)}function u(t){var e={};return void 0!==t.Enabled&&(e.Enabled="true"===t.Enabled),void 0!==t.Days&&(e.Days=parseInt(t.Days,10)),e}function l(t){var e={};return void 0!==t.Version&&(e.Version=t.Version),void 0!==t.Enabled&&(e.Enabled="true"===t.Enabled),void 0!==t.IncludeAPIs&&(e.IncludeAPIs="true"===t.IncludeAPIs),void 0!==t.RetentionPolicy&&(e.RetentionPolicy=u(t.RetentionPolicy)),e}(r=e.exports).serialize=function(t){var e,r,n,i,o,s,a,u,l=f.create(h.STORAGE_SERVICE_PROPERTIES_ELEMENT,{version:"1.0",encoding:"utf-8"});return t.Logging&&(l=l.ele(h.LOGGING_ELEMENT),e=l,r=t.Logging,e=void 0!==r.Version?e.ele(h.VERSION_ELEMENT).txt(r.Version).up():e.ele(h.VERSION_ELEMENT).txt(h.DEFAULT_ANALYTICS_VERSION).up(),e=void 0!==r.Delete?e.ele(h.DELETE_ELEMENT).txt(r.Delete).up():e.ele(h.DELETE_ELEMENT).txt(!1).up(),e=void 0!==r.Read?e.ele(h.READ_ELEMENT).txt(r.Read).up():e.ele(h.READ_ELEMENT).txt(!1).up(),p(e=void 0!==r.Write?e.ele(h.WRITE_ELEMENT).txt(r.Write).up():e.ele(h.WRITE_ELEMENT).txt(!1).up(),r.RetentionPolicy),e=e.up(),l=l.up()),t.HourMetrics&&(d(l=l.ele(h.HOUR_METRICS_ELEMENT),t.HourMetrics),l=l.up()),t.MinuteMetrics&&(d(l=l.ele(h.MINUTE_METRICS_ELEMENT),t.MinuteMetrics),l=l.up()),t.Cors&&(l=l.ele(h.CORS_ELEMENT),n=l,null!=(i=t.Cors.CorsRule)&&c.isArray(i)&&i.forEach(function(t){n=n.ele(h.CORS_RULE_ELEMENT),void 0!==t.AllowedMethods&&c.isArray(t.AllowedMethods)&&(n=n.ele(h.ALLOWED_METHODS_ELEMENT).txt(t.AllowedMethods.join(",")).up()),void 0!==t.AllowedOrigins&&c.isArray(t.AllowedOrigins)&&(n=n.ele(h.ALLOWED_ORIGINS_ELEMENT).txt(t.AllowedOrigins.join(",")).up()),n=void 0!==t.AllowedHeaders&&c.isArray(t.AllowedHeaders)?n.ele(h.ALLOWED_HEADERS_ELEMENT).txt(t.AllowedHeaders.join(",")).up():n.ele(h.ALLOWED_HEADERS_ELEMENT).txt("").up(),n=void 0!==t.ExposedHeaders&&c.isArray(t.ExposedHeaders)?n.ele(h.EXPOSED_HEADERS_ELEMENT).txt(t.ExposedHeaders.join(",")).up():n.ele(h.EXPOSED_HEADERS_ELEMENT).txt("").up(),n=(n=void 0!==t.MaxAgeInSeconds?n.ele(h.MAX_AGE_IN_SECONDS_ELEMENT).txt(t.MaxAgeInSeconds).up():n.ele(h.MAX_AGE_IN_SECONDS_ELEMENT).txt("0").up()).up()}),l=l.up()),t.DefaultServiceVersion&&(l=l.ele(h.DEFAULT_SERVICE_VERSION_ELEMENT).txt(t.DefaultServiceVersion).up()),t.DeleteRetentionPolicy&&(l=l.ele(h.DEFAULT_DELETE_RETENTION_POLICY_ELEMENT),o=l,null!==(s=t.DeleteRetentionPolicy)&&(void 0===s&&(s={}),o=void 0!==s.Enabled?o.ele(h.ENABLED_ELEMENT).txt(s.Enabled).up():o.ele(h.ENABLED_ELEMENT).txt(!1).up(),void 0!==s.Days?o=o.ele(h.DAYS_ELEMENT).txt(s.Days).up():!0===s.Enabled&&(o=o.ele(h.DAYS_ELEMENT).txt(1).up()),o=o.up()),l=l.up()),t.StaticWebsite&&(l=l.ele(h.DEFAULT_STATIC_WEBSITE_ELEMENT),a=l,null!==(u=t.StaticWebsite)&&(void 0===u&&(u={}),a=void 0!==u.Enabled?a.ele(h.ENABLED_ELEMENT).txt(u.Enabled).up():a.ele(h.ENABLED_ELEMENT).txt(!1).up(),void 0!==u.IndexDocument&&(a=a.ele(h.DEFAULT_INDEX_DOCUMENT_ELEMENT).txt(u.IndexDocument).up()),void 0!==u.ErrorDocument404Path&&(a=a.ele(h.DEFAULT_ERROR_DOCUMENT_404_PATH_ELEMENT).txt(u.ErrorDocument404Path).up()),a=a.up()),l=l.up()),l.doc().toString()},r.parse=function(t){var e,r,n,i,o,s,a={};return void 0!==t.Logging&&(a.Logging=(e=t.Logging,r={},void 0!==e.Version&&(r.Version=e.Version),void 0!==e.Delete&&(r.Delete="true"===e.Delete),void 0!==e.Read&&(r.Read="true"===e.Read),void 0!==e.Write&&(r.Write="true"===e.Write),void 0!==e.RetentionPolicy&&(r.RetentionPolicy=u(e.RetentionPolicy)),r)),void 0!==t.HourMetrics&&(a.HourMetrics=l(t.HourMetrics)),void 0!==t.MinuteMetrics&&(a.MinuteMetrics=l(t.MinuteMetrics)),void 0!==t.Cors&&(a.Cors=function(t){var r={};if(void 0!==t.CorsRule){var e=t.CorsRule;c.isArray(e)||(e=[e]),r.CorsRule=[],e.forEach(function(t){var e={};void 0!==t.AllowedMethods&&(""!==t.AllowedMethods?e.AllowedMethods=t.AllowedMethods.split(","):e.AllowedMethods=[]),void 0!==t.AllowedOrigins&&(""!==t.AllowedOrigins?e.AllowedOrigins=t.AllowedOrigins.split(","):e.AllowedOrigins=[]),void 0!==t.AllowedHeaders&&(""!==t.AllowedHeaders?e.AllowedHeaders=t.AllowedHeaders.split(","):e.AllowedHeaders=[]),void 0!==t.ExposedHeaders&&(""!==t.ExposedHeaders?e.ExposedHeaders=t.ExposedHeaders.split(","):e.ExposedHeaders=[]),void 0!==t.MaxAgeInSeconds&&(e.MaxAgeInSeconds=parseInt(t.MaxAgeInSeconds,10)),r.CorsRule.push(e)})}return r}(t.Cors)),void 0!==t.DefaultServiceVersion&&(a.DefaultServiceVersion=t.DefaultServiceVersion),void 0!==t.DeleteRetentionPolicy&&(a.DeleteRetentionPolicy=(n=t.DeleteRetentionPolicy,i={},void 0!==n.Enabled&&(i.Enabled="true"===n.Enabled),void 0!==n.Days&&(i.Days=parseInt(n.Days)),i)),void 0!==t.StaticWebsite&&(a.StaticWebsite=(o=t.StaticWebsite,s={},void 0!==o.Enabled&&(s.Enabled="true"===o.Enabled),void 0!==o.IndexDocument&&(s.IndexDocument=o.IndexDocument),void 0!==o.ErrorDocument404Path&&(s.ErrorDocument404Path=o.ErrorDocument404Path),s)),a}},{"../util/constants":30,underscore:110,xmlbuilder:215}],13:[function(t,e,r){e.exports.parse=function(t){var e={};return void 0!==t.GeoReplication&&(e.GeoReplication={},void 0!==t.GeoReplication.Status&&(e.GeoReplication.Status=t.GeoReplication.Status),void 0!==t.GeoReplication.LastSyncTime&&""!==t.GeoReplication.LastSyncTime&&(e.GeoReplication.LastSyncTime=new Date(t.GeoReplication.LastSyncTime))),e}},{}],14:[function(t,e,r){function n(t){this.token=t}n.prototype.get=function(){return this.token},n.prototype.set=function(t){this.token=t},e.exports=n},{}],15:[function(e,c,t){(function(i){var o=e("../common.browser"),r=e("stream").Duplex,s=e("extend"),a=e("http"),u=e("https"),t=e("url");function l(t,e){r.call(this),this._init(t,e),this._send()}function n(t,e){return n.defaults()(t,e)}e("util").inherits(l,r),l.prototype._init=function(t,e){this.callback=e;var r=o.util.filterOutNonReservedProperties(this,t);s(this,r),this.agent=this.agent||!1,this.timeout=this.timeout||1e3*Math.pow(2,32),this._initUri(),this._initHeaders()},l.prototype._initUri=function(){if(!this.uri)return this.emit("error",new Error("options.uri is a required argument"));"string"==typeof this.uri&&(this.uri=t.parse(this.uri)),this.uri.href||(this.uri.href=t.format(this.uri))},l.prototype._initHeaders=function(){this.headers=this.headers||{},this.headers["content-length"]=this.headers["content-length"]||0},l.prototype._send=function(){this._sent=!0;var t=this.uri.protocol||"",e="https:"===t?u:a,r={scheme:t.replace(/:$/,""),method:this.method,host:this.uri.hostname,port:Number(this.uri.port)||("https:"===t?443:80),path:this.uri.path,agent:this.agent,headers:this.headers,withCredentials:this.withCredentials,localAddress:this.localAddress,mode:this.mode};"https:"===t&&(r.pfx=this.pfx,r.key=this.key,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,r.secureProtocol=this.secureProtocol);var n=e.request(r);return this.timeout&&n.setTimeout&&n.setTimeout(this.timeout),this.httpRequest=n,this.emit("request",n),this._sendBody(),this._listenHttpResponse(),this._listenHttpError(),n},l.prototype._sendBody=function(){if(this.body)return this.httpRequest.write(this.body),void this.httpRequest.end();"0"!=this.headers["content-length"]||this.httpRequest.end()},l.prototype._listenHttpError=function(){var e=this;e.httpRequest.on("error",function(t){e.emit("error",t)}),e.on("error",function(t){e.callback&&e.callback(t)})},l.prototype._listenHttpResponse=function(){var n=this;n.httpRequest.on("response",function(t){var e=[],r=0;(n.response=t).on("data",function(t){n.push(t),e.push(t),r+=t.length}),t.on("error",function(t){n.emit("error",t)}),t.on("end",function(){n.push(null),t.body="",0<r&&(t.body=i.concat(e,r)),null!==n.encoding&&(t.body=t.body.toString(n.encoding)),n.callback&&n.callback(null,t)}),n.emit("response",t)})},l.prototype.setHeader=function(t,e){if(this._sent)throw new Error("Request already sent");return this.headers[t]=e,this},l.prototype.setLocation=function(t){return this.uri=t,this},l.prototype.end=function(t){t&&this.httpRequest.write(t),this.httpRequest.end()},l.prototype._write=function(t,e,r){this.httpRequest.write(t),r()},l.prototype._read=function(){},n.defaults=function(i){return function(t,r){var n;o.util.normalizeArgs(t,r,function(t,e){n=t,r=e});var e=o.util.filterOutNonReservedProperties(n,i);return s(n,e),new l(n,r)}},c.exports=n}).call(this,e("buffer").Buffer)},{"../common.browser":2,buffer:55,extend:59,http:88,https:61,stream:87,url:111,util:116}],16:[function(t,e,r){var u=t("util"),l=t("../util/util"),n=t("../errors/errors"),c=t("../util/sr"),i=t("../util/constants");(r=e.exports).DEFAULT_PROTOCOL=i.HTTPS;var o=function(t,e){n.captureStackTrace(this,e||this),this.message=t||"Error"};u.inherits(o,Error),o.prototype.name="NoMatchError",r.NoMatchError=o,r.noMatchConnectionString=function(t){throw new o('The provided connection string "'+t+'" does not have complete configuration settings.')},r.noMatchSettings=function(t){throw new o("The provided settings "+JSON.stringify(t)+" are not complete.")},r.parseAndValidateKeys=function(t,e){for(var r={},n=t.split(";"),i=0;i<n.length;i++)if(0!==n[i].length){var o=n[i].indexOf("=");if(o<0)throw new SyntaxError(c.INVALID_CONNECTION_STRING);if(0===o)throw new SyntaxError(c.INVALID_CONNECTION_STRING_EMPTY_KEY);var s=n[i].substring(0,o);if(!l.inArrayInsensitive(s,e))throw new SyntaxError(u.format(c.INVALID_CONNECTION_STRING_BAD_KEY,s));var a=n[i].substring(o+1);if(void 0!==r[s])throw new SyntaxError(u.format(c.INVALID_CONNECTION_STRING_DUPLICATE_KEY,s));r[s]=a}return r},r.getValidator=function(s,a,u){return function(t){var e=!1,r={};for(var n in t)t.hasOwnProperty(n)&&(r[n.toLowerCase()]=t[n]);for(var i in s)if(s.hasOwnProperty(i)){var o=s[i].SettingName.toLowerCase();if(r[o])(0,s[i].SettingConstraint)(r[o])&&(delete r[o],e=!0);else if(a)return null}return u?e?r:null:r}},r.setting=function(t){var n=Array.prototype.slice.call(arguments,1,arguments.length);return r.settingWithFunc(t,function(t){var e=JSON.stringify(n);if(0===n.length)return!0;for(var r=0;r<n.length;r++)if(t.toString()==n[r].toString())return!0;throw new RangeError("The provided config value "+t+" does not belong to the valid values subset:\n"+e)})},r.atLeastOne=function(){var t=arguments;return r.getValidator(t,!1,!0)},r.optional=function(){var t=arguments;return r.getValidator(t,!1,!1)},r.allRequired=function(){var t=arguments;return r.getValidator(t,!0,!1)},r.settingWithFunc=function(t,e){var r={};return r.SettingName=t,r.SettingConstraint=e,r},r.matchedSpecification=function(t){var e=Array.prototype.slice.call(arguments,1,arguments.length);for(var r in e)if(e.hasOwnProperty(r)){var n=e[r](t);if(!n)return!1;t=n}return 0===l.objectKeysLength(t)}},{"../errors/errors":5,"../util/constants":30,"../util/sr":34,"../util/util":36,util:116}],17:[function(H,V,t){(function(n,_){var E=H("../request-wrapper"),a=H("url"),s=H("querystring"),m=H("util"),u=H("xml2js"),t=H("events"),l=H("underscore"),i=H("uuid"),o=H("os"),c=H("extend"),f=H("json-edm-parser"),y=H("../md5-wrapper"),g=H("../util/util"),h=H("../util/validate"),b=H("../util/sr"),T=H("../http/webresource"),v=H("../streams/bufferstream.js"),r=H("./servicesettings"),p=H("./storageservicesettings"),S=H("../util/constants"),d=H("../util/storageutilities"),A=H("../models/servicepropertiesresult"),N=H("../../services/table/tableutilities"),O=H("../signing/sharedkey"),I=H("../signing/sharedaccesssignature"),R=H("../signing/tokensigner"),w=S.HeaderConstants,L=S.QueryStringConstants,C=S.HttpConstants.HttpResponseCodes,e=S.StorageServiceClientConstants,M=S.RequestLocationMode.PRIMARY_ONLY,D=S.RequestLocationMode,x=H("../diagnostics/logger"),P=H("../errors/errors"),U=P.ArgumentError,B=P.ArgumentNullError,F=P.TimeoutError,k=P.StorageError;function j(t,e,r,n,i,o){j.super_.call(this),t&&e?(this.storageAccount=t,this.storageAccessKey=e,this.storageCredentials=new O(this.storageAccount,this.storageAccessKey,n)):i?(this.sasToken=i,this.storageCredentials=new I(i)):o?(this.token=o,this.storageCredentials=new R(o)):(this.anonymous=!0,this.storageCredentials={signRequest:function(t,e){e(null)}}),r&&this.setHost(r),this.apiVersion=w.TARGET_STORAGE_VERSION,this.usePathStyleUri=n,this._initDefaultFilter(),this.logger=new x(x.LogLevels.INFO),this._setDefaultProxy(),this.xml2jsSettings=j._getDefaultXml2jsSettings(),this.defaultLocationMode=d.LocationMode.PRIMARY_ONLY}m.inherits(j,t.EventEmitter),j._getDefaultXml2jsSettings=function(){var t=l.clone(u.defaults[.2]);return t.attrkey=S.TableConstants.XML_METADATA_MARKER,t.charkey=S.TableConstants.XML_VALUE_MARKER,t.explicitArray=!1,t},j.prototype.setHost=function(t){var e=function(t){var e;return g.objectIsNull(t)||(-1===t.indexOf("http")&&0!==t.indexOf("//")&&(t="//"+t),(e=a.parse(t,!1,!0)).protocol||(e.protocol=r.DEFAULT_PROTOCOL),e.port||(e.protocol===S.HTTPS?e.port=S.DEFAULT_HTTPS_PORT:e.port=S.DEFAULT_HTTP_PORT),e=a.format({protocol:e.protocol,port:e.port,hostname:e.hostname,pathname:e.pathname})),e};h.isValidHost(t),this.host={primaryHost:e(t.primaryHost),secondaryHost:e(t.secondaryHost)}},j.prototype.performRequest=function(t,e,r,n){this._performRequest(t,{outputData:e},r,n)},j.prototype.performRequestOutputStream=function(t,e,r,n){this._performRequest(t,{outputStream:e},r,n)},j.prototype.performRequestInputStream=function(t,e,r,n,i){this._performRequest(t,{outputData:e,inputStream:r},n,i)},j.prototype._performRequest=function(a,f,t,h){var p=this;if(t.clientRequestId||(t.clientRequestId=i.v1()),a.withHeader(w.CLIENT_REQUEST_ID,t.clientRequestId),!n.browser){var e=m.format("(NODE-VERSION %s; %s %s)",n.version,o.type(),o.release());a.withHeader(w.USER_AGENT,S.USER_AGENT_PRODUCT_NAME+"/"+S.USER_AGENT_PRODUCT_VERSION+" "+e)}g.objectIsNull(t.locationMode)&&(t.locationMode=this.defaultLocationMode),g.objectIsNull(t.requestLocationMode)&&(t.requestLocationMode=M),g.objectIsNull(t.useNagleAlgorithm)&&(t.useNagleAlgorithm=this.useNagleAlgorithm),this._initializeLocation(t),this._setOperationExpiryTime(t);var d=!1,r=function(c,o){p._validateLocation(c);var s=c.currentLocation;p._buildRequestOptions(a,f,c,function(t,n){if(t)h({error:t,response:null},function(t,e){e(t)});else if(p.logger.log(x.LogLevels.DEBUG,"FINAL REQUEST OPTIONS:\n"+m.inspect(n)),p._maximumExecutionTimeExceeded(Date.now(),c.operationExpiryTime))h({error:new F(b.MAXIMUM_EXECUTION_TIMEOUT_EXCEPTION),response:null},function(t,e){e(t)});else{var u,l=function(t,e){var r;t?r={error:t,response:null}:((r=p._processResponse(a,e,c)).contentMD5=e.contentMD5,r.length=e.length),r.operationEndTime=new Date,r.targetLocation=s,r.outputStreamSent=d,h(r,o)},i=function(t,s){var a,e;p.proxy?void 0===e&&(e=E.defaults({proxy:p.proxy})):e=E,t?((a=e(n)).on("error",l),a.on("response",function(t){if(T.validResponse(t.statusCode)){s&&a.pipe(s);var e=0,r=(new y).createMd5Hash();t.on("data",function(t){e+=t.length,r.update(t)}),t.on("end",function(){(g.objectIsNull(c.disableContentMD5Validation)||!1===c.disableContentMD5Validation)&&(t.contentMD5=r.digest("base64")),t.length=e,u=t})}else{var n,i=parseInt(t.headers["content-length"]),o=0;void 0!==i&&(n=_.alloc(i)),a.on("data",function(t){void 0!==i?(t.copy(n,o),o+=t.length):n=n?_.concat([n,t]):t}),a.on("end",function(){n&&(3<n.length&&239===n[0]&&187===n[1]&&191===n[2]?t.body=n.toString("utf8",3):t.body=n.toString("utf8")),l(null,t)})}})):a=e(n,l),(g.objectIsNull(c.useNagleAlgorithm)||!1===c.useNagleAlgorithm)&&a.on("request",function(t){t.setNoDelay(!0)});var r=a.end;return a.end=function(){n.headers["content-length"]?a.headers["content-length"]=n.headers["content-length"]:a.headers["content-length"]&&delete a.headers["content-length"],r.call(a)},a.on("response",function(t){p.emit("receivedResponseEvent",t)}),a};if(f&&f.outputData&&(!g.isBrowser()&&_.isBuffer(f.outputData)?n.body=new v(f.outputData):n.body=f.outputData),f&&f.inputStream)f.inputStream.on("close",function(){u&&(l(null,u),u=null)}),f.inputStream.on("end",function(){u&&(l(null,u),u=null)}),f.inputStream.on("finish",function(){u&&(l(null,u),u=null)}),i(!0,f.inputStream);else if(f&&f.outputStream){var e=function(){var t,e,r;!g.objectIsNull(n.headers["content-length"])&&n.headers["content-length"]<30408704?(f.outputStream.pipe(i()),d=!0):(t=n.headers["content-length"]?n.headers["content-length"]:S.BlobConstants.MAX_SINGLE_UPLOAD_BLOB_SIZE_IN_BYTES,e=_.alloc(parseInt(t)),r=0,f.outputStream.on("data",function(t){d=!0,p._maximumExecutionTimeExceeded(Date.now(),c.operationExpiryTime)?l(new F(b.MAXIMUM_EXECUTION_TIMEOUT_EXCEPTION)):(t.copy(e,r),r+=t.length)}).on("end",function(){var t=i();t.write(e),t.end()})),g.isStreamPaused(f.outputStream)&&f.outputStream.resume()};f.outputStream.readable?e():0===n.headers["content-length"]?i():f.outputStream.on("open",function(){e()}),f.outputStream.on("error",function(t){l(t)})}else i()}})};p.filter(t,function(t,e){if(p._maximumExecutionTimeExceeded(Date.now()+t.retryInterval,t.operationExpiryTime))h({error:new F(b.MAXIMUM_EXECUTION_TIMEOUT_EXCEPTION),response:null},function(t,e){e(t)});else if(t.retryContext){setTimeout(function(){r(t,e)},t.retryInterval)}else r(t,e)})},j.prototype._buildRequestOptions=function(n,t,i,o){n.withHeader(w.STORAGE_VERSION,this.apiVersion),n.withHeader(w.MS_DATE,(new Date).toUTCString()),n.headers[w.ACCEPT]||n.withHeader(w.ACCEPT,"application/atom+xml,application/xml"),n.withHeader(w.ACCEPT_CHARSET,"UTF-8"),!g.isBrowser()||n.method!==S.HttpConstants.HttpVerbs.GET&&n.method!==S.HttpConstants.HttpVerbs.HEAD||n.withQueryOption(w.FORCE_NO_CACHE_IN_BROWSER,(new Date).getTime()),g.objectIsNull(i.timeoutIntervalInMs)&&(i.timeoutIntervalInMs=this.defaultTimeoutIntervalInMs),g.objectIsNull(i.clientRequestTimeoutInMs)&&(i.clientRequestTimeoutInMs=this.defaultClientRequestTimeoutInMs),!g.objectIsNull(i.timeoutIntervalInMs)&&0<i.timeoutIntervalInMs&&n.withQueryOption(L.TIMEOUT,Math.ceil(i.timeoutIntervalInMs/1e3)),i.accessConditions&&(n.withHeader(w.IF_MATCH,i.accessConditions.EtagMatch),n.withHeader(w.IF_MODIFIED_SINCE,i.accessConditions.DateModifedSince),n.withHeader(w.IF_NONE_MATCH,i.accessConditions.EtagNonMatch),n.withHeader(w.IF_UNMODIFIED_SINCE,i.accessConditions.DateUnModifiedSince),n.withHeader(w.SEQUENCE_NUMBER_EQUAL,i.accessConditions.SequenceNumberEqual),n.withHeader(w.SEQUENCE_NUMBER_LESS_THAN,i.accessConditions.SequenceNumberLessThan),n.withHeader(w.SEQUENCE_NUMBER_LESS_THAN_OR_EQUAL,i.accessConditions.SequenceNumberLessThanOrEqual),n.withHeader(w.BLOB_CONDITION_MAX_SIZE,i.accessConditions.MaxBlobSize),n.withHeader(w.BLOB_CONDITION_APPEND_POSITION,i.accessConditions.MaxAppendPosition)),i.sourceAccessConditions&&(n.withHeader(w.SOURCE_IF_MATCH,i.sourceAccessConditions.EtagMatch),n.withHeader(w.SOURCE_IF_MODIFIED_SINCE,i.sourceAccessConditions.DateModifedSince),n.withHeader(w.SOURCE_IF_NONE_MATCH,i.sourceAccessConditions.EtagNonMatch),n.withHeader(w.SOURCE_IF_UNMODIFIED_SINCE,i.sourceAccessConditions.DateUnModifiedSince)),n.headers&&void 0!==n.headers[w.CONTENT_TYPE]?n.headers&&null===n.headers[w.CONTENT_TYPE]&&delete n.headers[w.CONTENT_TYPE]:n.headers[w.CONTENT_TYPE]="",n.headers&&void 0!==n.headers[w.CONTENT_LENGTH]?n.headers&&null===n.headers[w.CONTENT_LENGTH]&&delete n.headers[w.CONTENT_LENGTH]:t&&t.outputData?n.withHeader(w.CONTENT_LENGTH,_.byteLength(t.outputData,"UTF8")):void 0===n.headers[w.CONTENT_LENGTH]&&n.withHeader(w.CONTENT_LENGTH,0);var s=this.enableGlobalHttpAgent;this._setRequestUrl(n,i),this.emit("sendingRequestEvent",n),this.storageCredentials.signRequest(n,function(t){var e=null;if(!t){var r=n.uri;e={uri:a.format(r),method:n.method,headers:n.headers,mode:"disable-fetch"},i&&(e.encoding=i.responseEncoding),i&&i.clientRequestTimeoutInMs?e.timeout=i.clientRequestTimeoutInMs:e.timeout=S.DEFAULT_CLIENT_REQUEST_TIMEOUT_IN_MS,!0!==s&&(e.forever=!0)}o(t,e)})},j.prototype._processResponse=function(t,e,r){var n,i=T.validResponse(e.statusCode),o=j._buildResponse(i,e.body,function(t){var e={};if(t){for(var r=0;r<t.length;r++)e[0===t[r].indexOf(w.PREFIX_FOR_STORAGE_METADATA)?t[r]:t[r].toLowerCase()]=t[++r];return e}}(e.rawHeaders)||e.headers,e.statusCode,e.md5);if(i&&t.rawResponse)n={error:null,response:o};else if(o=j._parseResponse(o,this.xml2jsSettings,r),i&&!o.error)n={error:null,response:o};else{o.isSuccessful=!1,(e.statusCode<400||500<=e.statusCode)&&this.logger.log(x.LogLevels.DEBUG,"ERROR code = "+e.statusCode+" :\n"+m.inspect(o.body));var s=o.body;if(o.error&&(s=o.error,delete o.error),!s)s={error:{code:Object.keys(C).filter(function(t){if(C[t]===o.statusCode)return t})[0]}};n={error:j._normalizeError(s,e),response:o}}return this.logger.log(x.LogLevels.DEBUG,"RESPONSE:\n"+m.inspect(n)),n},j.prototype.withFilter=function(r){var t=l.clone(this),n=this.filter,e=r;return void 0!==n&&(e=function(t,e){r.handle(t,function(t,i){n(t,function(t,n){e(t,function(t,e,r){n(t,r,function(t){i(t,e,r)})})})})}),t.filter=e,t},j._buildResponse=function(t,e,r,n,i){var o={isSuccessful:t,statusCode:n,body:e,headers:r,md5:i};return g.objectIsNull(r)||void 0!==r[w.REQUEST_SERVER_ENCRYPTED]&&(o.requestServerEncrypted="true"===r[w.REQUEST_SERVER_ENCRYPTED]),o},j._parseResponse=function(e,r,t){function n(t){var n;return new u.Parser(r).parseString(g.removeBOM(t.toString()),function(t,e){if(t){var r=new SyntaxError("EXMLFORMAT");throw r.innerError=t,r}n=e}),n}if(e.body&&0<_.byteLength(e.body.toString())){var i="";e.headers&&e.headers["content-type"]&&(i=e.headers["content-type"].toLowerCase());try{if(-1!==i.indexOf("application/json"))if(t&&t.payloadFormat&&t.payloadFormat!==N.PayloadFormat.NO_METADATA){var o=new f;o.onValue=function(t){e.body=t},o.write(e.body)}else e.body=JSON.parse(e.body);else-1!==i.indexOf("application/xml")||-1!==i.indexOf("application/atom+xml")?e.body=n(e.body):-1!==i.indexOf("text/html")?e.body=e.body:e.body=n(e.body)}catch(t){e.error=t}}return e},j.getStorageSettings=function(t,e,r,n,i,o){return!t||e||n?t&&e||n||o||r?p.createExplicitly(t,e,r,n,i,o):p.createFromEnvironment():p.createFromConnectionString(t)},j.prototype._setRequestUrl=function(t,e){if(t.originalPath=t.originalPath||t.path,t.path=this._getPath(t.originalPath),!this.host)throw new B("this.host",b.STORAGE_HOST_LOCATION_REQUIRED);var r=this.host.primaryHost;g.objectIsNull(e)||e.currentLocation!==S.StorageLocation.SECONDARY||(r=this.host.secondaryHost),r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");var n=a.format({pathname:t.path,query:t.queryString});t.uri=a.resolve(r,n),t.path=a.parse(t.uri).pathname},j.prototype._getPath=function(t){return null==t?t="":0===t.indexOf("/")&&(t=t.substring(1)),t},j.prototype._getUrl=function(t,e,r){var n;n=g.objectIsNull(r)||!1!==r?this.host.primaryHost:this.host.secondaryHost,(n=g.trimPortFromUri(n))&&n.lastIndexOf("/")!==n.length-1&&(n+="/");var i=s.parse(e),o=a.format({pathname:this._getPath(t),query:i});return a.resolve(n,o)},j.prototype._initDefaultFilter=function(){this.filter=function(t,e){e&&e(t,function(t,e,r){r?r(t):e&&e(t)})}},j.prototype.parseMetadataHeaders=function(t){var e={};if(!t)return e;for(var r in t){if(0===r.indexOf(w.PREFIX_FOR_STORAGE_METADATA))e[r.substr(w.PREFIX_FOR_STORAGE_METADATA.length,r.length-w.PREFIX_FOR_STORAGE_METADATA.length)]=t[r]}return e},j.prototype.getAccountServiceProperties=function(t,r){var n;g.normalizeArgs(t,r,function(t,e){n=t,r=e}),h.validateArgs("getServiceProperties",function(t){t.callback(r)});var e=c(!0,{},n),i=T.get().withQueryOption(L.COMP,"properties").withQueryOption(L.RESTYPE,"service");e.requestLocationMode=D.PRIMARY_OR_SECONDARY;this.performRequest(i,null,e,function(t,e){t.servicePropertiesResult=null,t.error||(t.servicePropertiesResult=A.parse(t.response.body.StorageServiceProperties));e(t,function(t){r(t.error,t.servicePropertiesResult,t.response)})})},j.prototype.setAccountServiceProperties=function(e,t,r){var n;g.normalizeArgs(t,r,function(t,e){n=t,r=e}),h.validateArgs("setServiceProperties",function(t){t.object(e,"serviceProperties"),t.callback(r)});var i=c(!0,{},n),o=A.serialize(e),s=T.put().withQueryOption(L.COMP,"properties").withQueryOption(L.RESTYPE,"service").withHeader(w.CONTENT_TYPE,'application/xml;charset="utf-8"').withHeader(w.CONTENT_LENGTH,_.byteLength(o)).withBody(o);this.performRequest(s,s.body,i,function(t,e){e(t,function(t){r(t.error,t.response)})})},j._normalizeError=function(t,e){if(g.objectIsString(t))return new k(t,null);if(t){var r={},n=t.Error||t.error||t["odata.error"]||t["m:error"]||t;for(var i in r.code=n.message,n)if(n.hasOwnProperty(i)){var o=i.toLowerCase();0===o.indexOf("m:")&&(o=o.substring(2)),r[o]=n[i],"message"===o&&l.isObject(n[i])&&n[i].value&&(r[o]=n[i].value)}return e&&(e.statusCode&&(r.statusCode=e.statusCode),e.headers&&e.headers["x-ms-request-id"]&&(r.requestId=e.headers["x-ms-request-id"])),new k(r.code,r)}return null},j.prototype.setProxy=function(t){this.proxy=t||null},j.prototype._setDefaultProxy=function(){var t=j._loadEnvironmentProxyValue();if(t){var e=a.parse(t);e.port||(e.port=80),this.setProxy(e)}else this.setProxy(null)},j._loadEnvironmentProxyValue=function(){var t=null;return n.env[e.EnvironmentVariables.HTTPS_PROXY]?t=n.env[e.EnvironmentVariables.HTTPS_PROXY]:n.env[e.EnvironmentVariables.HTTPS_PROXY.toLowerCase()]?t=n.env[e.EnvironmentVariables.HTTPS_PROXY.toLowerCase()]:n.env[e.EnvironmentVariables.HTTP_PROXY]?t=n.env[e.EnvironmentVariables.HTTP_PROXY]:n.env[e.EnvironmentVariables.HTTP_PROXY.toLowerCase()]&&(t=n.env[e.EnvironmentVariables.HTTP_PROXY.toLowerCase()]),t},j.prototype._initializeLocation=function(t){if(g.objectIsNull(t.locationMode))t.locationMode=d.LocationMode.PRIMARY_ONLY,t.currentLocation=S.StorageLocation.PRIMARY;else switch(t.locationMode){case d.LocationMode.PRIMARY_ONLY:case d.LocationMode.PRIMARY_THEN_SECONDARY:t.currentLocation=S.StorageLocation.PRIMARY;break;case d.LocationMode.SECONDARY_ONLY:case d.LocationMode.SECONDARY_THEN_PRIMARY:t.currentLocation=S.StorageLocation.SECONDARY;break;default:throw new RangeError(m.format(b.ARGUMENT_OUT_OF_RANGE_ERROR,"locationMode",t.locationMode))}},j.prototype._validateLocation=function(t){if(this._invalidLocationMode(t.locationMode))throw new B("host",b.STORAGE_HOST_MISSING_LOCATION);switch(t.requestLocationMode){case S.RequestLocationMode.PRIMARY_ONLY:if(t.locationMode===d.LocationMode.SECONDARY_ONLY)throw new U("host.primaryHost",b.PRIMARY_ONLY_COMMAND);t.currentLocation=S.StorageLocation.PRIMARY,t.locationMode=d.LocationMode.PRIMARY_ONLY;break;case S.RequestLocationMode.SECONDARY_ONLY:if(t.locationMode===d.LocationMode.PRIMARY_ONLY)throw new U("host.secondaryHost",b.SECONDARY_ONLY_COMMAND);t.currentLocation=S.StorageLocation.SECONDARY,t.locationMode=d.LocationMode.SECONDARY_ONLY}},j.prototype._invalidLocationMode=function(t){switch(t){case d.LocationMode.PRIMARY_ONLY:return g.objectIsNull(this.host.primaryHost);case d.LocationMode.SECONDARY_ONLY:return g.objectIsNull(this.host.secondaryHost);default:return g.objectIsNull(this.host.primaryHost)||g.objectIsNull(this.host.secondaryHost)}},j.prototype._maximumExecutionTimeExceeded=function(t,e){return!g.objectIsNull(e)&&e<t},j.prototype._setOperationExpiryTime=function(t){g.objectIsNull(t.operationExpiryTime)&&(g.objectIsNull(t.maximumExecutionTimeInMs)?this.defaultMaximumExecutionTimeInMs&&(t.operationExpiryTime=Date.now()+this.defaultMaximumExecutionTimeInMs):t.operationExpiryTime=Date.now()+t.maximumExecutionTimeInMs)},V.exports=j}).call(this,H("_process"),H("buffer").Buffer)},{"../../services/table/tableutilities":50,"../diagnostics/logger":4,"../errors/errors":5,"../http/webresource":9,"../md5-wrapper":10,"../models/servicepropertiesresult":12,"../request-wrapper":15,"../signing/sharedaccesssignature":19,"../signing/sharedkey":20,"../signing/tokensigner":21,"../streams/bufferstream.js":24,"../util/constants":30,"../util/sr":34,"../util/storageutilities":35,"../util/util":36,"../util/validate":37,"./servicesettings":16,"./storageservicesettings":18,_process:71,buffer:55,events:58,extend:59,"json-edm-parser":66,os:69,querystring:74,underscore:110,url:111,util:116,uuid:117,xml2js:193}],18:[function(N,O,t){(function(n){"use strict";var u=N("underscore"),l=N("url"),c=N("../util/util"),f=N("./servicesettings"),t=N("../util/constants"),h=t.StorageServiceClientConstants,p=t.ConnectionStringKeys,e=N("../util/validate"),i=N("../util/sr"),r=N("../models/tokencredential"),o=f.setting(p.USE_DEVELOPMENT_STORAGE_NAME,!0),s=f.settingWithFunc(p.DEVELOPMENT_STORAGE_PROXY_URI_NAME,e.isValidUri),a=f.setting(p.DEFAULT_ENDPOINTS_PROTOCOL_NAME,"http","https"),d=f.setting(p.ACCOUNT_NAME_NAME),_=f.settingWithFunc(p.ACCOUNT_KEY_NAME,e.isBase64Encoded),E=f.settingWithFunc(p.SHARED_ACCESS_SIGNATURE_NAME,u.isString),m=f.settingWithFunc("token",function(t){return t instanceof r}),y=f.settingWithFunc(p.BLOB_ENDPOINT_NAME,e.isValidHost),g=f.settingWithFunc(p.QUEUE_ENDPOINT_NAME,e.isValidHost),b=f.settingWithFunc(p.TABLE_ENDPOINT_NAME,e.isValidHost),T=f.settingWithFunc(p.FILE_ENDPOINT_NAME,e.isValidHost),v=f.settingWithFunc(p.ENDPOINT_SUFFIX_NAME,e.isValidHost),S=[p.USE_DEVELOPMENT_STORAGE_NAME,p.DEVELOPMENT_STORAGE_PROXY_URI_NAME,p.DEFAULT_ENDPOINTS_PROTOCOL_NAME,p.ACCOUNT_NAME_NAME,p.ACCOUNT_KEY_NAME,p.SHARED_ACCESS_SIGNATURE_NAME,p.BLOB_ENDPOINT_NAME,p.QUEUE_ENDPOINT_NAME,p.TABLE_ENDPOINT_NAME,p.FILE_ENDPOINT_NAME,p.ENDPOINT_SUFFIX_NAME];function A(t,e,r,n,i,o,s,a,u){this._name=t,this._key=e,r&&"?"===r[0]?this._sasToken=r.slice(1):this._sasToken=r,this._blobEndpoint=n,this._queueEndpoint=i,this._tableEndpoint=o,this._fileEndpoint=s,this._usePathStyleUri=a||!1,this._token=u}A.createFromConnectionString=function(e){var t=f.parseAndValidateKeys(e,S);try{return A.createFromSettings(t)}catch(t){if(!(t instanceof f.NoMatchError))throw t;f.noMatchConnectionString(e)}},A.createExplicitly=function(t,e,r,n,i,o){var s={};function a(t,e){("string"!=typeof e||c.stringIsEmpty(e))&&("object"!=typeof e||c.objectIsNull(e))||(s[t]=e)}return r?(a("blobendpoint",r),a("tableendpoint",r),a("queueendpoint",r),a("fileendpoint",r)):a("defaultendpointsprotocol",f.DEFAULT_PROTOCOL.split(":",1)[0]),a("accountname",t),a("accountkey",e),a("sharedaccesssignature",n),a("endpointsuffix",i),a("token",o),A.createFromSettings(s)},A.createFromEnvironment=function(){if(n.env[h.EnvironmentVariables.EMULATED])return A.getDevelopmentStorageAccountSettings();var t=n.env[h.EnvironmentVariables.AZURE_STORAGE_CONNECTION_STRING];if(t)return A.createFromConnectionString(t);var e=n.env[h.EnvironmentVariables.AZURE_STORAGE_ACCOUNT],r=n.env[h.EnvironmentVariables.AZURE_STORAGE_ACCESS_KEY];if(e&&r)return A.createExplicitly(e,r,null,null,null);throw new Error(i.NO_CREDENTIALS_PROVIDED)},A.createFromSettings=function(t){var e=f.matchedSpecification(t,f.allRequired(o),f.optional(s));if(e){var r=c.tryGetValueInsensitive(p.DEVELOPMENT_STORAGE_PROXY_URI_NAME,t);return this.getDevelopmentStorageAccountSettings(r)}return(e=f.matchedSpecification(t,f.allRequired(a,d,_),f.optional(y,g,b,T,v)))?this._createStorageServiceSettings(t):(e=f.matchedSpecification(t,f.allRequired(d,_),f.atLeastOne(y,g,b,T,v)))?this._createStorageServiceSettings(t):(e=f.matchedSpecification(t,f.allRequired(E),f.atLeastOne(y,g,b,T,v)))?this._createStorageServiceSettings(t):(e=f.matchedSpecification(t,f.allRequired(y),f.optional(T,g,b,v)))?this._createStorageServiceSettings(t):(e=f.matchedSpecification(t,f.allRequired(m),f.atLeastOne(y,g,b,T)))?this._createStorageServiceSettings(t):void f.noMatchSettings(t)},A.getDevelopmentStorageAccountSettings=function(t){t||(t=h.DEV_STORE_URI);var e=l.parse(t),r=e.protocol+"//"+e.host,n={primaryHost:r+":10000/"+h.DEVSTORE_STORAGE_ACCOUNT,secondaryHost:r+":10000/"+h.DEVSTORE_STORAGE_ACCOUNT+"-secondary"},i={primaryHost:r+":10001/"+h.DEVSTORE_STORAGE_ACCOUNT,secondaryHost:r+":10001/"+h.DEVSTORE_STORAGE_ACCOUNT+"-secondary"},o={primaryHost:r+":10002/"+h.DEVSTORE_STORAGE_ACCOUNT,secondaryHost:r+":10002/"+h.DEVSTORE_STORAGE_ACCOUNT+"-secondary"};return new A(h.DEVSTORE_STORAGE_ACCOUNT,h.DEVSTORE_STORAGE_ACCESS_KEY,null,n,i,o,null,!0)},A._createStorageServiceSettings=function(t){var e=function(t,e,r,n){var i;return t&&((i={}).primaryHost=u.isString(t)?t:t.primaryHost,i.secondaryHost=u.isString(t)?void 0:t.secondaryHost),r&&e&&n&&((i=i||{}).primaryHost=i.primaryHost?i.primaryHost:l.format({protocol:r,hostname:e+"."+n}),i.secondaryHost=i.secondaryHost?i.secondaryHost:l.format({protocol:r,hostname:e+"-secondary."+n})),i},r=c.tryGetValueInsensitive(p.DEFAULT_ENDPOINTS_PROTOCOL_NAME,t),n=c.tryGetValueInsensitive(p.ACCOUNT_NAME_NAME,t),i=c.tryGetValueInsensitive(p.ACCOUNT_KEY_NAME,t),o=c.tryGetValueInsensitive(p.SHARED_ACCESS_SIGNATURE_NAME,t),s=c.tryGetValueInsensitive(p.ENDPOINT_SUFFIX_NAME,t),a=c.tryGetValueInsensitive("token",t);return new A(n,i,o,e(c.tryGetValueInsensitive(p.BLOB_ENDPOINT_NAME,t),n,r,s?"blob."+s:h.CLOUD_BLOB_HOST),e(c.tryGetValueInsensitive(p.QUEUE_ENDPOINT_NAME,t),n,r,s?"queue."+s:h.CLOUD_QUEUE_HOST),e(c.tryGetValueInsensitive(p.TABLE_ENDPOINT_NAME,t),n,r,s?"table."+s:h.CLOUD_TABLE_HOST),e(c.tryGetValueInsensitive(p.FILE_ENDPOINT_NAME,t),n,r,s?"file."+s:h.CLOUD_FILE_HOST),a)},A.validKeys=S,O.exports=A}).call(this,N("_process"))},{"../models/tokencredential":14,"../util/constants":30,"../util/sr":34,"../util/util":36,"../util/validate":37,"./servicesettings":16,_process:71,underscore:110,url:111}],19:[function(t,e,r){var n=t("./../util/constants"),i=t("./../util/sr");function o(t){this.sasToken=t}o.prototype.signRequest=function(t,e){if(-1===t.uri.indexOf("?")?t.uri+="?":t.uri+="&",t.uri+=this.sasToken,-1!=this.sasToken.indexOf("api-version"))throw new SyntaxError(i.INVALID_SAS_TOKEN);t.uri+="&"+n.QueryStringConstants.API_VERSION+"="+n.HeaderConstants.TARGET_STORAGE_VERSION,e(null)},e.exports=o},{"./../util/constants":30,"./../util/sr":34}],20:[function(t,e,r){e.exports=function(t,e,r){throw Error("Key based authentication or SAS generation is only available in Node.js runtime!")}},{}],21:[function(t,e,r){var n=t("../util/constants").HeaderConstants;function i(t){this.tokenCredential=t}i.prototype.signRequest=function(t,e){t.withHeader(n.AUTHORIZATION,"Bearer "+this.tokenCredential.get()),e(null)},e.exports=i},{"../util/constants":30}],22:[function(g,b,t){(function(t){var o=g("util"),e=g("http"),r=g("https"),n=g("events").EventEmitter,i=g("os"),s=g("../util/util"),a=g("../diagnostics/logger"),u=g("../util/constants"),l=g("../errors/errors").ArgumentError,c=u.BlobConstants.DEFAULT_WRITE_BLOCK_SIZE_IN_BYTES,f=u.BlobConstants.DEFAULT_CRITICAL_MEMORY_LIMITATION_32_IN_BYTES,h=u.BlobConstants.DEFAULT_CRITICAL_MEMORY_LIMITATION_BROWSER_IN_BYTES,p=u.BlobConstants.DEFAULT_MINIMUM_MEMORY_USAGE_BROWSER_IN_BYTES,d=i.totalmem(),_=.1*d,E=s.getNodeVersion();function m(t,e){e||(e={}),this.name=t,this.logger=e.logger||new a(a.LogLevels.INFO),this.operationMemoryUsage=e.operationMemoryUsage||c,this.callbackInOrder=!0===e.callbackInOrder,this.callInOrder=!0===e.callInOrder,this._currentOperationId=this.callbackInOrder?1:-1,this.concurrency=5,this.enableReuseSocket=(0<E.major||10<=E.minor)&&e.enableReuseSocket,this._emitter=new n,this._enableComplete=!1,this._ended=!1,this._error=null,this._paused=!1,this._totalOperation=0,this._activeOperation=0,this._queuedOperation=0,this._operations=[]}var y={INITED:"inited",QUEUED:"queued",RUNNING:"running",COMPLETE:"complete",CALLBACK:"callback",ERROR:"error"};m.OperationState=y,m.prototype.setConcurrency=function(t){t&&(this.concurrency=t,e.Agent.maxSockets=this.concurrency,r.Agent.maxSockets=this.concurrency)},m.prototype.IsWorkloadHeavy=function(){var t=1;return this.enableReuseSocket&&!this.callInOrder&&(t=2),this._activeOperation>=t*this.concurrency||this._isLowMemory()},m.prototype._getApproximateMemoryUsage=function(){return(s.isBrowser()?p:t.memoryUsage().rss)+this._queuedOperation*this.operationMemoryUsage},m.prototype._isLowMemory=function(){var t=this._getApproximateMemoryUsage();return i.freemem()<_||this._activeOperation>=this.concurrency&&.5*d<t||s.is32()&&f<t||s.isBrowser()&&h<t},m.prototype.addOperation=function(t){return this._operations.push(t),t.status=y.QUEUED,t.operationId=++this._totalOperation,this._queuedOperation++,this.logger.debug(o.format("Add operation %d into batch operation %s. Active: %s; Queued: %s",t.operationId,this.name,this._activeOperation,this._queuedOperation)),this._runOperation(t),this.IsWorkloadHeavy()},m.prototype.enableComplete=function(){this._enableComplete=!0,this.logger.debug(o.format("Enable batch operation %s complete",this.name)),this._tryEmitEndEvent()},m.prototype.pause=function(){this._paused=!0},m.prototype.resume=function(){this._paused&&(this._paused=!1,this._fireOperationUserCallback())},m.prototype.on=function(t,e){this._ended&&"end"===t?e():this._emitter.on(t,e)},m.prototype._runOperation=function(t){this.logger.debug(o.format("Operation %d start to run",t.operationId));var e=this.getBatchOperationCallback(t);this._error?e(this._error):t.run(e),this._activeOperation++},m.prototype.getBatchOperationCallback=function(e){var r=this;return function(t){if(r._queuedOperation--,t?(e.status=y.ERROR,r.logger.debug(o.format("Operation %d failed. Error %s",e.operationId,t)),r._error=t):(e.status=y.CALLBACK,r.logger.debug(o.format("Operation %d succeed",e.operationId))),e._callbackArguments=arguments,r._paused)e.status=y.CALLBACK,r.logger.debug(o.format("Batch operation paused and Operation %d wait for firing callback",e.operationId));else if(r.callbackInOrder)if(e.status=y.CALLBACK,r._currentOperationId===e.operationId)r._fireOperationUserCallback(e);else{if(r._currentOperationId>e.operationId)throw new Error("Debug error: current callback operation id cannot be larger than operation id");r.logger.debug(o.format("Operation %d is waiting for firing callback %s",e.operationId,r._currentOperationId))}else r._fireOperationUserCallback(e);r._tryEmitDrainEvent(),r=e=null}},m.prototype._fireOperationUserCallback=function(t){var e=this._getCallbackOperationIndex();t||-1==e||(t=this._operations[e]),t&&!this._paused?(t._userCallback&&(this.logger.debug(o.format("Fire user call back for operation %d",t.operationId)),t._fireUserCallback()),this._operations.splice(e,1),this._activeOperation--,t.status=y.COMPLETE,e=t=null,this.callbackInOrder&&this._currentOperationId++,this._fireOperationUserCallback()):this._paused?this._tryEmitDrainEvent():this._tryEmitEndEvent()},m.prototype._tryEmitEndEvent=function(){return this._enableComplete&&0===this._activeOperation&&0===this._operations.length?(this._ended=!0,this.logger.debug(o.format("Batch operation %s emits the end event",this.name)),this._emitter.emit("end",this._error,null),!0):(this._tryEmitDrainEvent(),!1)},m.prototype._tryEmitDrainEvent=function(){return!!this._emitter&&((!this.IsWorkloadHeavy()||this._activeOperation<this.concurrency)&&(this._emitter.emit("drain"),!0))},m.prototype._getCallbackOperationIndex=function(){for(var t=null,e=0;e<this._operations.length;e++)if(t=this._operations[e],this.callbackInOrder){if(t.operationId==this._currentOperationId)return t.status===y.CALLBACK?e:-1}else if(t.status===y.CALLBACK)return e;return-1},m.noOperation=function(t){t()},m.RestOperation=function(r,n){this.status=y.Inited,this.operationId=-1,this._callbackArguments=null,this._userCallback=arguments[arguments.length-1];var t=arguments.length;s.objectIsFunction(this._userCallback)?t--:this._userCallback=null;var i=Array.prototype.slice.call(arguments).slice(2,t);this.run=function(t){var e=r[n];if(!e)throw new l("operation",o.format("Unknown operation %s in serviceclient",n));t||(t=this._userCallback),i.push(t),this.status=y.RUNNING,e.apply(r,i),i=n=null},this._fireUserCallback=function(){this._userCallback&&this._userCallback.apply(null,this._callbackArguments)}},m.CommonOperation=function(e,t){this.status=y.Inited,this.operationId=-1,this._callbackArguments=null;var r=2;s.objectIsFunction(t)?this._userCallback=t:(this._userCallback=null,r=1);var n=Array.prototype.slice.call(arguments).slice(r);this.run=function(t){t||(t=this._userCallback),n.push(t),this.status=y.RUNNING,e.apply(null,n),n=e=null},this._fireUserCallback=function(){this._userCallback&&this._userCallback.apply(null,this._callbackArguments),this._userCallback=this._callbackArguments=null}},b.exports=m}).call(this,g("_process"))},{"../diagnostics/logger":4,"../errors/errors":5,"../util/constants":30,"../util/util":36,_process:71,events:58,http:88,https:61,os:69,util:116}],23:[function(t,e,r){var i=t("buffer").Buffer,o=t("stream"),n=t("util"),s=t("../util/constants").BlobConstants.DEFAULT_WRITE_BLOCK_SIZE_IN_BYTES;function a(t,e){o.Readable.call(this,e),e||(e={}),this._fileReader=new FileReader(t),this._file=t,this._size=t.size,this._highWaterMark=e.highWaterMark||s,this._offset=0;var n=this;this._fileReader.onloadend=function(t){var e=t.target.result,r=i.from(e);n.push(r)},this._fileReader.onerror=function(t){n.emit("error",t)}}n.inherits(a,o.Readable),a.prototype._read=function(){if(this._offset>=this._size)this.push(null);else{var t=this._offset+this._highWaterMark,e=this._file.slice(this._offset,t);this._fileReader.readAsArrayBuffer(e),this._offset=t}},e.exports=a},{"../util/constants":30,buffer:55,stream:87,util:116}],24:[function(t,e,r){var n=t("stream");function i(t,e){n.Readable.call(this,e),this._buffer=t,this._offset=0,this._chunkSize=4194304,this._bufferSize=t.length}t("util").inherits(i,n.Readable),i.prototype._read=function(){for(;this.push(this._readNextChunk()););},i.prototype._readNextChunk=function(){var t=null;if(this._offset<this._bufferSize){var e=this._offset+this._chunkSize;e=e>this._bufferSize?this._bufferSize:e,t=this._buffer.slice(this._offset,e),this._offset=e}return t},e.exports=i},{stream:87,util:116}],25:[function(t,e,r){(function(i){function t(t,e){this._pool=[],this._inuse=0,this._chunkSize=t,this._maxCount=e||10,this._extendMemoryPool()}t.prototype.getBuffer=function(t){var e=this._getBufferFromPool(t);return null===e&&(e=i.alloc(t)),this._inuse++,e},t.prototype._getBufferFromPool=function(t){return t!==this._chunkSize?null:(0===this._pool.length&&this._extendMemoryPool(),0!==this._pool.length?this._pool.pop():null)},t.prototype._extendMemoryPool=function(){var t=this._pool.length+this._inuse;if(!(t>=this._maxCount))for(var e=(Math.min(2*t,this._maxCount)||1)-t,r=0;r<e;r++){var n=i.alloc(this._chunkSize);this._pool.push(n)}},t.prototype.releaseBuffer=function(t){t.length===this._chunkSize?(this._pool.length<this._maxCount?this._pool.push(t):t=null,this._inuse--,this._inuse<0&&(this._inuse=0)):t=null},t.prototype.destroy=function(){this._pool=[],this._inuse=0},e.exports=t}).call(this,t("buffer").Buffer)},{buffer:55}],26:[function(s,u,t){(function(a){var e=s("stream"),t=s("util"),r=s("../util/util"),n=s("../md5-wrapper"),i=s("../util/constants").BlobConstants.DEFAULT_WRITE_BLOCK_SIZE_IN_BYTES;function o(t){e.Stream.call(this),this.writable=this.readable=!0,t||(t={}),this._highWaterMark=t.highWaterMark||i,this._paused=void 0,this._isStreamOpened=!1,this._offset=0,this._allocator=t.allocator,this._streamEnded=!1,this._md5hash=null,this._buffer=null,this._internalBufferSize=0,this._outputLengthLimit=0,this._md5sum=void 0,t.calcContentMd5&&(this._md5hash=(new n).createMd5Hash())}t.inherits(o,e.Stream),o.prototype.setMemoryAllocator=function(t){this._allocator=t},o.prototype.setOutputLength=function(t){t&&(this._outputLengthLimit=t)},o.prototype.end=function(t,e,r){"function"==typeof t?(r=t,e=t=null):"function"==typeof e&&(r=e,e=null),t&&this.write(t,e),this._streamEnded=!0,this._flushInternalBuffer(),r&&this.once("end",r),this.emit("end")},o.prototype.finish=function(){this.emit("finish"),this.destroy()},o.prototype.error=function(){this.emit("error"),this.destroy()},o.prototype.destroy=function(){this.writable=this.readable=!1,this._allocator&&r.objectIsFunction(this._allocator.destroy)&&this._allocator.destroy(),this.emit("close")},o.prototype.stop=function(){this.destroy(),this._streamEnded=!0,this.emit("end")},o.prototype.write=function(t,e){return this._isStreamOpened||(this._isStreamOpened=!0),this._buildChunk(t,e),!this._paused},o.prototype._buildChunk=function(t){"string"==typeof t&&(t=a.from(t));var e=t.length,r=0;do{var n=null,i=this._internalBufferSize+e;if(i<this._highWaterMark)return void this._copyToInternalBuffer(t,r,t.length);if(i==this._highWaterMark){var o=this._stream&&this._stream._allocator&&this._stream._allocator.releaseBuffer;0!==this._internalBufferSize||t.length!==this._highWaterMark||o?(this._copyToInternalBuffer(t,r,t.length),n=this._popInternalBuffer()):n=t,e=0}else{var s=this._highWaterMark-this._internalBufferSize;this._copyToInternalBuffer(t,r,r+s),e-=s,r+=s,n=this._popInternalBuffer()}this._emitBufferData(n)}while(0<e)},o.prototype._emitBufferData=function(t){var e=this._offset+t.length,r={start:this._offset,end:e-1,size:t.length};this._offset=e,0<this._outputLengthLimit?r.start<=this._outputLengthLimit&&(this._offset>this._outputLengthLimit&&(t=t.slice(0,t.length-(this._offset-this._outputLengthLimit))),this._md5hash&&this._md5hash.update(t)):this._md5hash&&this._md5hash.update(t),this.emit("data",t,r)},o.prototype._copyToInternalBuffer=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this._buffer||(this._buffer=this._allocateNewBuffer(),this._internalBufferSize=0);var n=t.copy(this._buffer,this._internalBufferSize,e,r);if(this._internalBufferSize+=n,this._stream&&this._stream._allocator&&this._stream._allocator.releaseBuffer&&this._stream._allocator.releaseBuffer(t),n!=r-e)throw new Error("Can not copy entire data to buffer")},o.prototype._flushInternalBuffer=function(){var t=this._popInternalBuffer();t&&this._emitBufferData(t)},o.prototype._popInternalBuffer=function(){var t=null;return t=this._buffer&&0!==this._internalBufferSize?this._internalBufferSize==this._highWaterMark?this._buffer:this._buffer.slice(0,this._internalBufferSize):null,this._buffer=null,this._internalBufferSize=0,t},o.prototype._allocateNewBuffer=function(){var t=this._highWaterMark;return this._allocator&&r.objectIsFunction(this._allocator.getBuffer)?this._allocator.getBuffer(t):a.alloc(t)},o.prototype.getContentMd5=function(t){if(t||(t="base64"),this._md5hash){if(this._streamEnded)return this._md5sum||(this._md5sum=this._md5hash.digest(t)),this._md5sum;throw new Error("Stream has not ended.")}throw new Error("Can't get content md5, please set the calcContentMd5 option for FileReadStream.")},o.prototype.pause=function(){this._paused=!0},o.prototype.resume=function(){this._paused&&(this._paused=!1,this.emit("drain"))},u.exports=o}).call(this,s("buffer").Buffer)},{"../md5-wrapper":10,"../util/constants":30,"../util/util":36,buffer:55,stream:87,util:116}],27:[function(t,e,r){var n=t("./chunkstream"),i=t("events").EventEmitter,o=t("util"),s=t("./../util/util");function a(t,e){n.call(this,e),t.pause(),this._stream=t,this._stream.on("end",this.end.bind(this))}o.inherits(a,n),a.prototype.on=function(t,e){return"end"===t&&this._streamEnded?e():i.prototype.on.call(this,t,e),"data"===t&&(this._isStreamOpened||(this._isStreamOpened=!0,this._stream.on("data",this._buildChunk.bind(this))),void 0===this._paused&&this._stream.resume()),this},a.prototype.stop=function(t,e,r){s.objectIsFunction(this._stream.destroy)?this._stream.destroy():this.pause(),n.prototype.end.call(this,t,e,r)},a.prototype.pause=function(){n.prototype.pause.call(this),this._stream.pause()},a.prototype.resume=function(){n.prototype.resume.call(this),this._stream.resume()},a.prototype.finish=function(){n.prototype.finish.call(this),this._stream.emit.call(this._stream,"finish")},a.prototype.destroy=function(){n.prototype.destroy.call(this),this._stream.emit.call(this._stream,"close")},e.exports=a},{"./../util/util":36,"./chunkstream":26,events:58,util:116}],28:[function(n,o,t){(function(r){var t=n("events"),s=n("util"),a=n("../util/util");function e(t){this.name=t,this._startTime=Date.now(),this._timeWindowInSeconds=10,this._timeWindow=1e3*this._timeWindowInSeconds,this._totalWindowSize=0,this._speedTracks=new Array(this._timeWindowInSeconds),this._speedTrackPtr=0,this.totalSize=void 0,this.completeSize=0}function i(t,e){if(!t)return"0B";(!e||e<=0)&&(e=2);var r=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,r)).toFixed(e)+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}s.inherits(e,t),e.prototype.getElapsedSeconds=function(t){var e=Date.now(),r=parseInt((e-this._startTime)/1e3,10);if(!1!==t){var n=parseInt(r%60,10);r/=60;var i=Math.floor(r%60);r/=60;var o=Math.floor(r);r=s.format("%s:%s:%s",a.zeroPaddingString(o,2),a.zeroPaddingString(i,2),a.zeroPaddingString(n,2))}return r},e.prototype.getCompletePercent=function(t){return this.totalSize?((!t||t<=0)&&(t=1),(100*this.completeSize/this.totalSize).toFixed(t)):0===this.totalSize?100:0},e.prototype.getAverageSpeed=function(t){var e=this.getElapsedSeconds(!1);return this._getInternalSpeed(this.completeSize,e,t)},e.prototype.getSpeed=function(t){this._refreshSpeedTracks();var e=this.getElapsedSeconds(!1);return e=Math.min(e,this._timeWindowInSeconds),this._getInternalSpeed(this._totalWindowSize,e,t)},e.prototype._getInternalSpeed=function(t,e,r){e<=0&&(e=1);var n=t/e;return!1!==r&&(n=i(n)+"/s"),n},e.prototype._refreshSpeedTracks=function(){for(var t=Date.now(),e=0,r=0;r<this._speedTracks.length;r++)this._speedTracks[r]&&(t-this._speedTracks[r].timeStamp<=this._timeWindow?e+=this._speedTracks[r].size:this._speedTracks[r]=null);this._totalWindowSize=e},e.prototype.increment=function(t){this.completeSize+=t,this._recordSpeed(t);var e=this;return r.nextTick(function(){e.emit("progress")}),this.completeSize},e.prototype._recordSpeed=function(t){var e=Date.now(),r=this._speedTracks[this._speedTrackPtr];if(r){var n=e-r.timeStamp;n>this._timeWindow?(r.timeStamp=e,r.size=t):n<=1e3?r.size+=t:(this._speedTrackPtr=(this._speedTrackPtr+1)%this._timeWindowInSeconds,this._recordSpeed(t))}else r={timeStamp:e,size:t},this._speedTracks[this._speedTrackPtr]=r},e.prototype.getAutoIncrementFunction=function(n){var i=this;return function(t,e){if(!t){var r=0;r=!e&&0!==e||isNaN(e)?n:e,i.increment(r)}}},e.prototype.getTotalSize=function(t){return!1!==t?i(this.totalSize):this.totalSize},e.prototype.getCompleteSize=function(t){return!1!==t?i(this.completeSize):this.completeSize},o.exports=e}).call(this,n("_process"))},{"../util/util":36,_process:71,events:58,util:116}],29:[function(t,e,r){"use strict";(r=e.exports).generateEmptyCondition=function(){return{}},r.generateIfNotExistsCondition=function(){var t={EtagNonMatch:"*"};return t},r.generateIfExistsCondition=function(){var t={EtagMatch:"*"};return t},r.generateIfNoneMatchCondition=function(t){var e={};return e.EtagNonMatch=t,e},r.generateIfMatchCondition=function(t){var e={};return e.EtagMatch=t,e},r.generateIfModifiedSinceCondition=function(t){var e={};return e.DateModifedSince=t,e},r.generateIfNotModifiedSinceCondition=function(t){var e={};return e.DateUnModifiedSince=t,e},r.generateSequenceNumberEqualCondition=function(t){var e={};return e.SequenceNumberEqual=t,e},r.generateSequenceNumberLessThanCondition=function(t){var e={};return e.SequenceNumberLessThan=t,e},r.generateSequenceNumberLessThanOrEqualCondition=function(t){var e={};return e.SequenceNumberLessThanOrEqual=t,e}},{}],30:[function(t,n,e){(function(t){n.exports;var e=t.env.AZURE_STORAGE_DNS_SUFFIX||"core.windows.net",r={USER_AGENT_PRODUCT_NAME:"Azure-Storage",USER_AGENT_PRODUCT_VERSION:"2.10.3",DEFAULT_PARALLEL_OPERATION_THREAD_COUNT:5,DEFAULT_ENABLE_REUSE_SOCKET:!0,KB:1024,MB:1048576,GB:1073741824,HTTP:"http:",HTTPS:"https:",DEFAULT_HTTP_PORT:80,DEFAULT_HTTPS_PORT:443,DEFAULT_CLIENT_REQUEST_TIMEOUT_IN_MS:12e4,XML_METADATA_MARKER:"$",XML_VALUE_MARKER:"_",ServiceType:{Blob:"blob",Queue:"queue",Table:"table",File:"file"},RequestLocationMode:{PRIMARY_ONLY:0,SECONDARY_ONLY:1,PRIMARY_OR_SECONDARY:2},StorageLocation:{PRIMARY:0,SECONDARY:1},AccountSasConstants:{Permissions:{READ:"r",ADD:"a",CREATE:"c",UPDATE:"u",PROCESS:"p",WRITE:"w",DELETE:"d",LIST:"l"},Services:{BLOB:"b",FILE:"f",QUEUE:"q",TABLE:"t"},Resources:{SERVICE:"s",CONTAINER:"c",OBJECT:"o"},Protocols:{HTTPSONLY:"https",HTTPSORHTTP:"https,http"}},AclConstants:{ACCESS_POLICY:"AccessPolicy",EXPIRY:"Expiry",ID:"Id",PERMISSION:"Permission",SIGNED_IDENTIFIER_ELEMENT:"SignedIdentifier",SIGNED_IDENTIFIERS_ELEMENT:"SignedIdentifiers",START:"Start"},ServicePropertiesConstants:{STORAGE_SERVICE_PROPERTIES_ELEMENT:"StorageServiceProperties",DEFAULT_ANALYTICS_VERSION:"1.0",LOGGING_ELEMENT:"Logging",VERSION_ELEMENT:"Version",DELETE_ELEMENT:"Delete",READ_ELEMENT:"Read",WRITE_ELEMENT:"Write",RETENTION_POLICY_ELEMENT:"RetentionPolicy",ENABLED_ELEMENT:"Enabled",DAYS_ELEMENT:"Days",HOUR_METRICS_ELEMENT:"HourMetrics",MINUTE_METRICS_ELEMENT:"MinuteMetrics",CORS_ELEMENT:"Cors",CORS_RULE_ELEMENT:"CorsRule",ALLOWED_ORIGINS_ELEMENT:"AllowedOrigins",ALLOWED_METHODS_ELEMENT:"AllowedMethods",MAX_AGE_IN_SECONDS_ELEMENT:"MaxAgeInSeconds",EXPOSED_HEADERS_ELEMENT:"ExposedHeaders",ALLOWED_HEADERS_ELEMENT:"AllowedHeaders",INCLUDE_APIS_ELEMENT:"IncludeAPIs",DEFAULT_SERVICE_VERSION_ELEMENT:"DefaultServiceVersion",DEFAULT_DELETE_RETENTION_POLICY_ELEMENT:"DeleteRetentionPolicy",DEFAULT_STATIC_WEBSITE_ELEMENT:"StaticWebsite",DEFAULT_INDEX_DOCUMENT_ELEMENT:"IndexDocument",DEFAULT_ERROR_DOCUMENT_404_PATH_ELEMENT:"ErrorDocument404Path"},BlobConstants:{LATEST_ELEMENT:"Latest",UNCOMMITTED_ELEMENT:"Uncommitted",BLOCK_LIST_ELEMENT:"BlockList",COMMITTED_ELEMENT:"Committed",DEFAULT_WRITE_PAGE_SIZE_IN_BYTES:4194304,MIN_WRITE_PAGE_SIZE_IN_BYTES:2097152,DEFAULT_SINGLE_BLOB_PUT_THRESHOLD_IN_BYTES:33554432,DEFAULT_WRITE_BLOCK_SIZE_IN_BYTES:4194304,DEFAULT_CRITICAL_MEMORY_LIMITATION_32_IN_BYTES:838860800,DEFAULT_CRITICAL_MEMORY_LIMITATION_BROWSER_IN_BYTES:1073741824,DEFAULT_MINIMUM_MEMORY_USAGE_BROWSER_IN_BYTES:4194304,MAX_BLOCK_BLOB_BLOCK_SIZE:104857600,MAX_APPEND_BLOB_BLOCK_SIZE:4194304,MAX_SINGLE_UPLOAD_BLOB_SIZE_IN_BYTES:67108864,MAX_RANGE_GET_SIZE_WITH_MD5:4194304,MAX_UPDATE_PAGE_SIZE:4194304,MAX_QUEUED_WRITE_DISK_BUFFER_SIZE:67108864,MAX_SINGLE_GET_PAGE_RANGE_SIZE:155189248,PAGE_SIZE:512,ResourceTypes:{CONTAINER:"c",BLOB:"b"},ListBlobTypes:{Blob:"b",Directory:"d"},PageWriteOptions:{UPDATE:"update",CLEAR:"clear"},BlobTypes:{BLOCK:"BlockBlob",PAGE:"PageBlob",APPEND:"AppendBlob"},LeaseOperation:{ACQUIRE:"acquire",RENEW:"renew",CHANGE:"change",RELEASE:"release",BREAK:"break"}},FileConstants:{DEFAULT_WRITE_SIZE_IN_BYTES:4194304,MAX_RANGE_GET_SIZE_WITH_MD5:4194304,MAX_UPDATE_FILE_SIZE:4194304,DEFAULT_SINGLE_FILE_GET_THRESHOLD_IN_BYTES:33554432,MIN_WRITE_FILE_SIZE_IN_BYTES:2097152,RangeWriteOptions:{UPDATE:"update",CLEAR:"clear"},ResourceTypes:{SHARE:"s",FILE:"f"}},QueueConstants:{QUEUE_MESSAGE_ELEMENT:"QueueMessage",MESSAGE_TEXT_ELEMENT:"MessageText"},TableConstants:{CHANGESET_DELIMITER:"--changesetresponse_",BATCH_DELIMITER:"--batchresponse_",CONTINUATION_NEXT_ROW_KEY:"x-ms-continuation-nextrowkey",CONTINUATION_NEXT_PARTITION_KEY:"x-ms-continuation-nextpartitionkey",CONTINUATION_NEXT_TABLE_NAME:"x-ms-continuation-nexttablename",NEXT_ROW_KEY:"NextRowKey",NEXT_PARTITION_KEY:"NextPartitionKey",NEXT_TABLE_NAME:"NextTableName",ODATA_PREFIX:"odata.",ODATA_TYPE_SUFFIX:"@odata.type",ODATA_METADATA_MARKER:".metadata",ODATA_VALUE_MARKER:"_",ODATA_TYPE_MARKER:"$",DEFAULT_DATA_SERVICE_VERSION:"3.0;NetFx",TABLE_NAME:"TableName",TABLE_SERVICE_TABLE_NAME:"Tables",Operations:{RETRIEVE:"RETRIEVE",INSERT:"INSERT",REPLACE:"REPLACE",MERGE:"MERGE",DELETE:"DELETE",INSERT_OR_REPLACE:"INSERT_OR_REPLACE",INSERT_OR_MERGE:"INSERT_OR_MERGE"}},HeaderConstants:{ACCEPT_RANGES:"accept_ranges",CONTENT_TRANSFER_ENCODING:"content-transfer-encoding",TRANSFER_ENCODING:"transfer-encoding",SERVER:"server",LOCATION:"location",LAST_MODIFIED:"Last-Modified",CREATION_TIME:"x-ms-creation-time",DATA_SERVICE_VERSION:"dataserviceversion",MAX_DATA_SERVICE_VERSION:"maxdataserviceversion",PREFIX_FOR_STORAGE:"x-ms-",CLIENT_REQUEST_ID:"x-ms-client-request-id",APPROXIMATE_MESSAGES_COUNT:"x-ms-approximate-messages-count",AUTHORIZATION:"authorization",FORCE_NO_CACHE_IN_BROWSER:"_",BLOB_PUBLIC_ACCESS:"x-ms-blob-public-access",HAS_IMMUTABILITY_POLICY:"x-ms-has-immutability-policy",HAS_LEGAL_HOLD:"x-ms-has-legal-hold",BLOB_TYPE:"x-ms-blob-type",TYPE:"x-ms-type",BLOCK_BLOB:"blockblob",CACHE_CONTROL:"cache-control",BLOB_CACHE_CONTROL:"x-ms-blob-cache-control",FILE_CACHE_CONTROL:"x-ms-cache-control",COPY_STATUS:"x-ms-copy-status",COPY_COMPLETION_TIME:"x-ms-copy-completion-time",COPY_STATUS_DESCRIPTION:"x-ms-copy-status-description",COPY_ID:"x-ms-copy-id",COPY_PROGRESS:"x-ms-copy-progress",COPY_ACTION:"x-ms-copy-action",INCREMENTAL_COPY:"x-ms-incremental-copy",COPY_DESTINATION_SNAPSHOT:"x-ms-copy-destination-snapshot",CONTENT_ID:"content-id",CONTENT_ENCODING:"content-encoding",BLOB_CONTENT_ENCODING:"x-ms-blob-content-encoding",FILE_CONTENT_ENCODING:"x-ms-content-encoding",CONTENT_LANGUAGE:"content-language",BLOB_CONTENT_LANGUAGE:"x-ms-blob-content-language",FILE_CONTENT_LANGUAGE:"x-ms-content-language",CONTENT_LENGTH:"content-length",BLOB_CONTENT_LENGTH:"x-ms-blob-content-length",FILE_CONTENT_LENGTH:"x-ms-content-length",CONTENT_DISPOSITION:"content-disposition",BLOB_CONTENT_DISPOSITION:"x-ms-blob-content-disposition",FILE_CONTENT_DISPOSITION:"x-ms-content-disposition",CONTENT_MD5:"content-md5",BLOB_CONTENT_MD5:"x-ms-blob-content-md5",FILE_CONTENT_MD5:"x-ms-content-md5",CONTENT_RANGE:"cache-range",CONTENT_TYPE:"content-type",BLOB_CONTENT_TYPE:"x-ms-blob-content-type",FILE_CONTENT_TYPE:"x-ms-content-type",COPY_SOURCE:"x-ms-copy-source",DATE:"date",MS_DATE:"x-ms-date",DELETE_SNAPSHOT:"x-ms-delete-snapshots",ETAG:"etag",IF_MATCH:"if-match",IF_MODIFIED_SINCE:"if-modified-since",IF_NONE_MATCH:"if-none-match",IF_UNMODIFIED_SINCE:"if-unmodified-since",INCLUDE_SNAPSHOTS_VALUE:"include",JSON_CONTENT_TYPE_VALUE:"application/json",SKU_NAME:"x-ms-sku-name",ACCOUNT_KIND:"x-ms-account-kind",LEASE_ID:"x-ms-lease-id",LEASE_BREAK_PERIOD:"x-ms-lease-break-period",PROPOSED_LEASE_ID:"x-ms-proposed-lease-id",LEASE_DURATION:"x-ms-lease-duration",SOURCE_LEASE_ID:"x-ms-source-lease-id",LEASE_TIME:"x-ms-lease-time",LEASE_STATUS:"x-ms-lease-status",LEASE_STATE:"x-ms-lease-state",PAGE_BLOB:"PageBlob",PAGE_WRITE:"x-ms-page-write",FILE_WRITE:"x-ms-write",PREFER:"Prefer",PREFER_CONTENT:"return-content",PREFER_NO_CONTENT:"return-no-content",PREFIX_FOR_STORAGE_METADATA:"x-ms-meta-",PREFIX_FOR_STORAGE_PROPERTIES:"x-ms-prop-",RANGE:"Range",SOURCE_RANGE:"x-ms-source-range",RANGE_GET_CONTENT_MD5:"x-ms-range-get-content-md5",RANGE_HEADER_FORMAT:"bytes:%d-%d",REQUEST_ID:"x-ms-request-id",SEQUENCE_NUMBER:"x-ms-blob-sequence-number",SEQUENCE_NUMBER_EQUAL:"x-ms-if-sequence-number-eq",SEQUENCE_NUMBER_LESS_THAN:"x-ms-if-sequence-number-lt",SEQUENCE_NUMBER_LESS_THAN_OR_EQUAL:"x-ms-if-sequence-number-le",SEQUENCE_NUMBER_ACTION:"x-ms-sequence-number-action",SIZE:"x-ms-blob-content-length",SNAPSHOT:"x-ms-snapshot",SNAPSHOTS_ONLY_VALUE:"only",SOURCE_IF_MATCH:"x-ms-source-if-match",SOURCE_IF_MODIFIED_SINCE:"x-ms-source-if-modified-since",SOURCE_IF_NONE_MATCH:"x-ms-source-if-none-match",SOURCE_IF_UNMODIFIED_SINCE:"x-ms-source-if-unmodified-since",STORAGE_RANGE:"x-ms-range",STORAGE_VERSION:"x-ms-version",TARGET_STORAGE_VERSION:"2018-03-28",USER_AGENT:"user-agent",POP_RECEIPT:"x-ms-popreceipt",TIME_NEXT_VISIBLE:"x-ms-time-next-visible",APPROXIMATE_MESSAGE_COUNT:"x-ms-approximate-message-count",LEASE_ACTION:"x-ms-lease-action",ACCEPT:"accept",ACCEPT_CHARSET:"Accept-Charset",HOST:"host",CORRELATION_ID:"x-ms-correlation-id",GROUP_ID:"x-ms-group-id",SHARE_QUOTA:"x-ms-share-quota",BLOB_CONDITION_MAX_SIZE:"x-ms-blob-condition-maxsize",BLOB_CONDITION_APPEND_POSITION:"x-ms-blob-condition-appendpos",BLOB_APPEND_OFFSET:"x-ms-blob-append-offset",BLOB_COMMITTED_BLOCK_COUNT:"x-ms-blob-committed-block-count",REQUEST_SERVER_ENCRYPTED:"x-ms-request-server-encrypted",SERVER_ENCRYPTED:"x-ms-server-encrypted",ACCESS_TIER:"x-ms-access-tier",ACCESS_TIER_CHANGE_TIME:"x-ms-access-tier-change-time",ACCESS_TIER_INFERRED:"x-ms-access-tier-inferred",ARCHIVE_STATUS:"x-ms-archive-status"},QueryStringConstants:{API_VERSION:"api-version",COMP:"comp",RESTYPE:"restype",COPY_ID:"copyid",SNAPSHOT:"snapshot",SHARE_SNAPSHOT:"sharesnapshot",PREV_SNAPSHOT:"prevsnapshot",TIMEOUT:"timeout",SIGNED_START:"st",SIGNED_EXPIRY:"se",SIGNED_RESOURCE:"sr",SIGNED_PERMISSIONS:"sp",SIGNED_SERVICES:"ss",SIGNED_RESOURCE_TYPES:"srt",SIGNED_IP:"sip",SIGNED_PROTOCOL:"spr",SIGNED_IDENTIFIER:"si",SIGNATURE:"sig",SIGNED_VERSION:"sv",CACHE_CONTROL:"rscc",CONTENT_TYPE:"rsct",CONTENT_ENCODING:"rsce",CONTENT_LANGUAGE:"rscl",CONTENT_DISPOSITION:"rscd",BLOCK_ID:"blockid",BLOCK_LIST_TYPE:"blocklisttype",PREFIX:"prefix",MARKER:"marker",MAX_RESULTS:"maxresults",DELIMITER:"delimiter",INCLUDE:"include",PEEK_ONLY:"peekonly",NUM_OF_MESSAGES:"numofmessages",POP_RECEIPT:"popreceipt",VISIBILITY_TIMEOUT:"visibilitytimeout",MESSAGE_TTL:"messagettl",SELECT:"$select",FILTER:"$filter",TOP:"$top",SKIP:"$skip",NEXT_PARTITION_KEY:"NextPartitionKey",NEXT_ROW_KEY:"NextRowKey",LOCK_ID:"lockid",TABLENAME:"tn",STARTPK:"spk",STARTRK:"srk",ENDPK:"epk",ENDRK:"erk"},StorageServiceClientConstants:{DEFAULT_PROTOCOL:"https:",EnvironmentVariables:{AZURE_STORAGE_ACCOUNT:"AZURE_STORAGE_ACCOUNT",AZURE_STORAGE_ACCESS_KEY:"AZURE_STORAGE_ACCESS_KEY",AZURE_STORAGE_DNS_SUFFIX:"AZURE_STORAGE_DNS_SUFFIX",AZURE_STORAGE_CONNECTION_STRING:"AZURE_STORAGE_CONNECTION_STRING",HTTP_PROXY:"HTTP_PROXY",HTTPS_PROXY:"HTTPS_PROXY",EMULATED:"EMULATED"},DEVSTORE_STORAGE_ACCOUNT:"devstoreaccount1",DEVSTORE_STORAGE_ACCESS_KEY:"Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==",DEV_STORE_URI:"http://127.0.0.1",DEVSTORE_DEFAULT_PROTOCOL:"http://",DEVSTORE_BLOB_HOST:"127.0.0.1:10000",DEVSTORE_QUEUE_HOST:"127.0.0.1:10001",DEVSTORE_TABLE_HOST:"127.0.0.1:10002",CLOUD_BLOB_HOST:"blob."+e,CLOUD_QUEUE_HOST:"queue."+e,CLOUD_TABLE_HOST:"table."+e,CLOUD_FILE_HOST:"file."+e},HttpConstants:{HttpVerbs:{PUT:"PUT",GET:"GET",DELETE:"DELETE",POST:"POST",MERGE:"MERGE",HEAD:"HEAD"},HttpResponseCodes:{Ok:200,Created:201,Accepted:202,NoContent:204,PartialContent:206,BadRequest:400,Unauthorized:401,Forbidden:403,NotFound:404,Conflict:409,LengthRequired:411,PreconditionFailed:412}},CompatibleVersionConstants:{AUGUST_2013:"2013-08-15",FEBRUARY_2012:"2012-02-12"},BlobErrorCodeStrings:{INVALID_BLOCK_ID:"InvalidBlockId",BLOB_NOT_FOUND:"BlobNotFound",BLOB_ALREADY_EXISTS:"BlobAlreadyExists",CONTAINER_ALREADY_EXISTS:"ContainerAlreadyExists",CONTAINER_NOT_FOUND:"ContainerNotFound",INVALID_BLOB_OR_BLOCK:"InvalidBlobOrBlock",INVALID_BLOCK_LIST:"InvalidBlockList"},FileErrorCodeStrings:{SHARE_ALREADY_EXISTS:"ShareAlreadyExists",SHARE_NOT_FOUND:"ShareNotFound",FILE_NOT_FOUND:"FileNotFound"},QueueErrorCodeStrings:{QUEUE_NOT_FOUND:"QueueNotFound",QUEUE_DISABLED:"QueueDisabled",QUEUE_ALREADY_EXISTS:"QueueAlreadyExists",QUEUE_NOT_EMPTY:"QueueNotEmpty",QUEUE_BEING_DELETED:"QueueBeingDeleted",POP_RECEIPT_MISMATCH:"PopReceiptMismatch",INVALID_PARAMETER:"InvalidParameter",MESSAGE_NOT_FOUND:"MessageNotFound",MESSAGE_TOO_LARGE:"MessageTooLarge",INVALID_MARKER:"InvalidMarker"},StorageErrorCodeStrings:{CONDITION_NOT_MET:"ConditionNotMet",MISSING_REQUIRED_HEADER:"MissingRequiredHeader",MISSING_REQUIRED_XML_NODE:"MissingRequiredXmlNode",UNSUPPORTED_HEADER:"UnsupportedHeader",UNSUPPORTED_XML_NODE:"UnsupportedXmlNode",INVALID_HEADER_VALUE:"InvalidHeaderValue",INVALID_XML_NODE_VALUE:"InvalidXmlNodeValue",MISSING_REQUIRED_QUERY_PARAMETER:"MissingRequiredQueryParameter",UNSUPPORTED_QUERY_PARAMETER:"UnsupportedQueryParameter",INVALID_QUERY_PARAMETER_VALUE:"InvalidQueryParameterValue",OUT_OF_RANGE_QUERY_PARAMETER_VALUE:"OutOfRangeQueryParameterValue",REQUEST_URL_FAILED_TO_PARSE:"RequestUrlFailedToParse",INVALID_URI:"InvalidUri",INVALID_HTTP_VERB:"InvalidHttpVerb",EMPTY_METADATA_KEY:"EmptyMetadataKey",INVALID_XML_DOCUMENT:"InvalidXmlDocument",MD5_MISMATCH:"Md5Mismatch",INVALID_MD5:"InvalidMd5",OUT_OF_RANGE_INPUT:"OutOfRangeInput",INVALID_AUTHENTICATION_INFO:"InvalidAuthenticationInfo",INVALID_INPUT:"InvalidInput",INVALID_METADATA:"InvalidMetadata",INVALID_RESOURCE_NAME:"InvalidResourceName",METADATA_TOO_LARGE:"MetadataTooLarge",CONDITION_HEADER_NOT_SUPPORTED:"ConditionHeadersNotSupported",MULTIPLE_CONDITION_HEADER_NOT_SUPPORTED:"MultipleConditionHeadersNotSupported",AUTHENTICATION_FAILED:"AuthenticationFailed",INSUFFICIENT_ACCOUNT_PERMISSIONS:"InsufficientAccountPermissions",RESOURCE_NOT_FOUND:"ResourceNotFound",ACCOUNT_IS_DISABLED:"AccountIsDisabled",UNSUPPORTED_HTTP_VERB:"UnsupportedHttpVerb",ACCOUNT_ALREADY_EXISTS:"AccountAlreadyExists",ACCOUNT_BEING_CREATED:"AccountBeingCreated",RESOURCE_ALREADY_EXISTS:"ResourceAlreadyExists",RESOURCE_TYPE_MISMATCH:"ResourceTypeMismatch",MISSING_CONTENT_LENGTH_HEADER:"MissingContentLengthHeader",REQUEST_BODY_TOO_LARGE:"RequestBodyTooLarge",INVALID_RANGE:"InvalidRange",INTERNAL_ERROR:"InternalError",OPERATION_TIMED_OUT:"OperationTimedOut",SERVER_BUSY:"ServerBusy",UPDATE_CONDITION_NOT_SATISFIED:"UpdateConditionNotSatisfied",CONTAINER_NOT_FOUND:"ContainerNotFound",CONTAINER_ALREADY_EXISTS:"ContainerAlreadyExists",CONTAINER_DISABLED:"ContainerDisabled",CONTAINER_BEING_DELETED:"ContainerBeingDeleted"},TableErrorCodeStrings:{XMETHOD_NOT_USING_POST:"XMethodNotUsingPost",XMETHOD_INCORRECT_VALUE:"XMethodIncorrectValue",XMETHOD_INCORRECT_COUNT:"XMethodIncorrectCount",TABLE_HAS_NO_PROPERTIES:"TableHasNoProperties",DUPLICATE_PROPERTIES_SPECIFIED:"DuplicatePropertiesSpecified",TABLE_HAS_NO_SUCH_PROPERTY:"TableHasNoSuchProperty",DUPLICATE_KEY_PROPERTY_SPECIFIED:"DuplicateKeyPropertySpecified",TABLE_ALREADY_EXISTS:"TableAlreadyExists",TABLE_NOT_FOUND:"TableNotFound",ENTITY_NOT_FOUND:"EntityNotFound",ENTITY_ALREADY_EXISTS:"EntityAlreadyExists",PARTITION_KEY_NOT_SPECIFIED:"PartitionKeyNotSpecified",OPERATOR_INVALID:"OperatorInvalid",UPDATE_CONDITION_NOT_SATISFIED:"UpdateConditionNotSatisfied",PROPERTIES_NEED_VALUE:"PropertiesNeedValue",PARTITION_KEY_PROPERTY_CANNOT_BE_UPDATED:"PartitionKeyPropertyCannotBeUpdated",TOO_MANY_PROPERTIES:"TooManyProperties",ENTITY_TOO_LARGE:"EntityTooLarge",PROPERTY_VALUE_TOO_LARGE:"PropertyValueTooLarge",INVALID_VALUE_TYPE:"InvalidValueType",TABLE_BEING_DELETED:"TableBeingDeleted",TABLE_SERVER_OUT_OF_MEMORY:"TableServerOutOfMemory",PRIMARY_KEY_PROPERTY_IS_INVALID_TYPE:"PrimaryKeyPropertyIsInvalidType",PROPERTY_NAME_TOO_LONG:"PropertyNameTooLong",PROPERTY_NAME_INVALID:"PropertyNameInvalid",BATCH_OPERATION_NOT_SUPPORTED:"BatchOperationNotSupported",JSON_FORMAT_NOT_SUPPORTED:"JsonFormatNotSupported",METHOD_NOT_ALLOWED:"MethodNotAllowed",NOT_IMPLEMENTED:"NotImplemented"},ConnectionStringKeys:{USE_DEVELOPMENT_STORAGE_NAME:"UseDevelopmentStorage",DEVELOPMENT_STORAGE_PROXY_URI_NAME:"DevelopmentStorageProxyUri",DEFAULT_ENDPOINTS_PROTOCOL_NAME:"DefaultEndpointsProtocol",ACCOUNT_NAME_NAME:"AccountName",ACCOUNT_KEY_NAME:"AccountKey",BLOB_ENDPOINT_NAME:"BlobEndpoint",FILE_ENDPOINT_NAME:"FileEndpoint",QUEUE_ENDPOINT_NAME:"QueueEndpoint",TABLE_ENDPOINT_NAME:"TableEndpoint",SHARED_ACCESS_SIGNATURE_NAME:"SharedAccessSignature",ENDPOINT_SUFFIX_NAME:"EndpointSuffix",BLOB_BASE_DNS_NAME:"blob.core.windows.net",FILE_BASE_DNS_NAME:"file.core.windows.net",QUEUE_BASE_DNS_NAME:"queue.core.windows.net",TABLE_BASE_DNS_NAME:"table.core.windows.net"}};n.exports=r}).call(this,t("_process"))},{_process:71}],31:[function(t,e,r){r.daysFromNow=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r.hoursFromNow=function(t){var e=new Date;return e.setHours(e.getHours()+t),e},r.minutesFromNow=function(t){var e=new Date;return e.setMinutes(e.getMinutes()+t),e},r.secondsFromNow=function(t){var e=new Date;return e.setSeconds(e.getSeconds()+t),e}},{}],32:[function(t,e,r){r.format=function(t){var e=t.toISOString();return e.substring(0,e.length-1)+"0000Z"},r.parse=function(t){var e=t.split("T"),r=e[0].split("-"),n=e[1].split("."),i=n[0].split(":"),o=0;return n[1]&&(o=n[1].split("Z")),new Date(Date.UTC(parseInt(r[0],10),parseInt(r[1],10)-1,parseInt(r[2],10),parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),Math.round(parseInt(function(t,e){for(var r=""+t;r.length<e;)r+="0";return r}(o[0],7),10)/1e4)))}},{}],33:[function(t,e,r){"use strict";t("xmlbuilder/lib/XMLStringifier").prototype.assertLegalChar=function(t){var e,r;if(e=/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/,r=t.match(e))throw new Error("Invalid character ("+r+") in string: "+t);return t}},{"xmlbuilder/lib/XMLStringifier":212}],34:[function(t,e,r){e.exports;e.exports={ANONYMOUS_ACCESS_BLOBSERVICE_ONLY:"Anonymous access is only valid for the BlobService.",ARGUMENT_NULL_OR_EMPTY:"The argument must not be null or an empty string. Argument name: %s.",ARGUMENT_NULL_OR_UNDEFINED:"The argument must not be null or undefined. Argument name: %s.",ARGUMENT_OUT_OF_RANGE_ERROR:"The argument is out of range. Argument name: %s, Value passed: %s.",BATCH_ONE_PARTITION_KEY:"All entities in the batch must have the same PartitionKey value.",BATCH_ONE_RETRIEVE:"If a retrieve operation is part of a batch, it must be the only operation in the batch.",BATCH_TOO_LARGE:"Batches must not contain more than 100 operations.",BLOB_INVALID_SEQUENCE_NUMBER:"The sequence number may not be specified for an increment operation.",BLOB_TYPE_MISMATCH:"Blob type of the blob reference doesn't match blob type of the blob.",CANNOT_CREATE_SAS_WITHOUT_ACCOUNT_KEY:"Cannot create Shared Access Signature unless the Account Name and Key are used to create the ServiceClient.",CONTENT_LENGTH_MISMATCH:"An incorrect number of bytes was read from the connection. The connection may have been closed.",CONTENT_TYPE_MISSING:"Content-Type response header is missing or invalid.",EMPTY_BATCH:"Batch must not be empty.",EXCEEDED_SIZE_LIMITATION:"Upload exceeds the size limitation. Max size is %s but the current size is %s",HASH_MISMATCH:"Hash mismatch (integrity check failed), Expected value is %s, retrieved %s.",INCORRECT_ENTITY_KEYS:"PartitionKey and RowKey must be specified as strings in the entity object.",INVALID_BLOB_LENGTH:"createBlockBlobFromText requires the size of text to be less than 64MB. Please use createBlockBlobFromLocalFile or createBlockBlobFromStream to upload large blobs.",INVALID_CONNECTION_STRING:'Connection strings must be of the form "key1=value1;key2=value2".',INVALID_CONNECTION_STRING_BAD_KEY:'Connection string contains unrecognized key: "%s"',INVALID_CONNECTION_STRING_DUPLICATE_KEY:'Connection string contains duplicate key: "%s"',INVALID_CONNECTION_STRING_EMPTY_KEY:"Connection strings must not contain empty keys.",INVALID_DELETE_SNAPSHOT_OPTION:"The deleteSnapshots option cannot be included when deleting a specific snapshot using the snapshotId option.",INVALID_EDM_TYPE:"The value '%s' does not match the type '%s'.",INVALID_FILE_LENGTH:"createFileFromText requires the size of text to be less than 4MB. Please use createFileFromLocalFile or createFileFromStream to upload large files.",INVALID_FILE_RANGE_FOR_UPDATE:"Range size should be less than 4MB for a file range update operation.",INVALID_HEADERS:"Headers are not supported in the 2012-02-12 version.",INVALID_MESSAGE_ID:"Message ID cannot be null or undefined for deleteMessage and updateMessage operations.",INVALID_PAGE_BLOB_LENGTH:"Page blob length must be multiple of 512.",INVALID_PAGE_END_OFFSET:"Page end offset must be multiple of 512.",INVALID_PAGE_RANGE_FOR_UPDATE:"Page range size should be less than 4MB for a page update operation.",INVALID_PAGE_START_OFFSET:"Page start offset must be multiple of 512.",INVALID_POP_RECEIPT:"Pop Receipt cannot be null or undefined for deleteMessage and updateMessage operations.",INVALID_PROPERTY_RESOLVER:"The specified property resolver returned an invalid type. %s:{_:%s,$:%s }",INVALID_RANGE_FOR_MD5:"The requested range should be less than 4MB when contentMD5 is expected from the server",INVALID_SAS_VERSION:"SAS Version ? is invalid. Valid versions include: ?.",INVALID_SAS_TOKEN:"The SAS token should not contain api-version.",INVALID_SIGNED_IDENTIFIERS:"Signed identifiers need to be a hash object with key as the id and the value as the access policy.",INVALID_STREAM_LENGTH:"The length of the provided stream is invalid.",INVALID_STRING_ERROR:"Invalid string error.",INVALID_TABLE_OPERATION:"Operation not found: %s",INVALID_TEXT_LENGTH:"The length of the provided text is invalid.",MAXIMUM_EXECUTION_TIMEOUT_EXCEPTION:"The client could not finish the operation within specified maximum execution timeout.",MD5_NOT_POSSIBLE:"MD5 cannot be calculated for an existing blob because it would require reading the existing data. Please disable storeBlobContentMD5.",MD5_NOT_PRESENT_ERROR:"MD5 does not exist. If you do not want to force validation, please disable useTransactionalMD5.",METADATA_KEY_INVALID:"The key for one of the metadata key-value pairs is null, empty, or whitespace.",METADATA_VALUE_INVALID:"The value for one of the metadata key-value pairs is null, empty, or whitespace.",NO_CREDENTIALS_PROVIDED:"Credentials must be provided when creating a service client.",PRIMARY_ONLY_COMMAND:"This operation can only be executed against the primary storage location.",QUERY_OPERATOR_REQUIRES_WHERE:"%s operator needs to be used after where.",SECONDARY_ONLY_COMMAND:"This operation can only be executed against the secondary storage location.",STORAGE_HOST_LOCATION_REQUIRED:"The host for the storage service must be specified.",STORAGE_HOST_MISSING_LOCATION:"The host for the target storage location is not specified. Please consider changing the request's location mode.",TYPE_NOT_SUPPORTED:"Type not supported when sending data to the service: ",MAX_BLOB_SIZE_CONDITION_NOT_MEET:"Append block data should not exceed the maximum blob size condition value."}},{}],35:[function(t,e,r){e.exports={LocationMode:{PRIMARY_ONLY:0,PRIMARY_THEN_SECONDARY:1,SECONDARY_ONLY:2,SECONDARY_THEN_PRIMARY:3}}},{}],36:[function(t,e,p){(function(e,l){var i=t("underscore"),r=t("util"),n=t("url"),o=t("stream"),c=t("./constants"),a=t("../md5-wrapper"),s=t("./storageutilities"),u=t("./sr");p.trimPortFromUri=function(t){return((t=n.parse(t)).protocol===c.HTTPS&&t.port==c.DEFAULT_HTTPS_PORT||t.protocol===c.HTTP&&t.port==c.DEFAULT_HTTP_PORT)&&(t.host=t.hostname),n.format(t)},p.objectKeysLength=function(t){return t?i.keys(t).length:0},p.isBrowser=function(){return"undefined"!=typeof window},p.isIE=function(){if(!p.isBrowser())return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE "),r=t.indexOf("Trident/");return 0<e||0<r},p.is32=function(){return!p.isBrowser()&&"ia32"===e.arch},p.objectIsNull=function(t){return i.isNull(t)||i.isUndefined(t)},p.objectIsEmpty=function(t){return i.isEmpty(t)},p.objectIsInt=function(t){return"number"==typeof t&&parseFloat(t)==parseInt(t,10)&&!isNaN(t)},p.objectIsNaN=function(t){return"number"==typeof t&&isNaN(t)},p.objectIsString=function(t){return i.isString(t)},p.objectIsFunction=function(t){return i.isFunction(t)},p.zeroPaddingString=function(t,e){var r="0000000000"+t;return r.length<e?p.zeroPaddingString(r,e):r.substr(-1*e)},p.stringIsEmpty=function(t){return i.isNull(t)||i.isUndefined(t)||""===t},p.IsNullOrEmptyOrUndefinedOrWhiteSpace=function(t){return!(!i.isNull(t)&&!i.isUndefined(t)&&""!==t)||!(!i.isString(t)||0!==t.trim().length)},p.stringFormat=function(t){if(1<arguments.length)for(var e=1;-1!==t.indexOf("?");e++)t=t.replace("?",arguments[e]);return t},p.stringStartsWith=function(t,e){return!!i.isNull(e)||t.substr(0,e.length)===e},p.stringEndsWith=function(t,e){return!!i.isNull(e)||t.substr(t.length-e.length)===e},p.removeBOM=function(t){return 65279!==t.charCodeAt(0)&&65519!==t.charCodeAt(0)||(t=t.substring(1)),t},p.merge=function(){return i.extend.apply(this,arguments)},p.inArrayInsensitive=function(t,e){return i.contains(i.map(e,function(t){return t.toLowerCase()}),t.toLowerCase())},p.tryGetValueInsensitive=function(t,e,r){if(e)for(var n in e)if(e.hasOwnProperty(n)&&n.toString().toLowerCase()===t.toString().toLowerCase())return e[n];return r},p.tryGetValueChain=function(t,e,r){if(0===e.length)return t;var n=e.shift();return t&&void 0!==t[n]?p.tryGetValueChain(t[n],e,r):r},p.setObjectInnerPropertyValue=function(t,e,r){if(t&&!(e.length<1)){var n=e.shift();0!==e.length?(t[n]||(t[n]={}),p.setObjectInnerPropertyValue(t[n],e,r)):t[n]=r}},p.truncatedISO8061Date=function(t){var e=t.toISOString();return e.substring(0,e.length-5)+"Z"},p.normalizeArgs=function(t,e,r){var n={};i.isFunction(t)&&!e?e=t:t&&(n=t),r(n,e)},p.getNodeVersion=function(){var t=e.version.split(".");return{major:parseInt(t[0].substr(1),10),minor:parseInt(t[1],10),patch:parseInt(t[2],10)}},p.calculateMD5=function(r,n,t,e){var i=l.alloc(n),o=0,s=(new a).createMd5Hash();r.on("data",function(t){if(o+t.length>n){var e=n-o;0<e&&((t=t.slice(0,e)).copy(i,o),s.update(t),o+=e),r.emit("end")}else t.copy(i,o),s.update(t),o+=t.length}).on("end",function(){if(!r.endEmitted){i=i.slice(0,o);var t=s.digest("base64");r.endEmitted=!0,e(i,t)}})},p.isBufferAllZero=function(t){for(var e=0,r=t.length;e<r;e++)if(0!==t[e])return!1;return!0};var f=null;p.writeZerosToStream=function(t,e,r,n,i){var o=c.BlobConstants.DEFAULT_WRITE_BLOCK_SIZE_IN_BYTES,s=Math.min(o,e),a=e-s,u=null;return s==o?(f||(f=l.alloc(o)).fill(0),u=f):(u=l.alloc(s)).fill(0),r&&r.update(u),t.write(u,function(){p.objectIsFunction(n)&&n(null,u.length),u=null,0<a?p.writeZerosToStream(t,a,r,n,i):p.objectIsFunction(i)&&i(null,null)})},p.getContentMd5=function(t,e){e||(e="base64");var r=(new a).createMd5Hash();return r.update(t,"utf8"),r.digest(e)},p.getNextLocation=function(t,e){switch(e){case s.LocationMode.PRIMARY_ONLY:return c.StorageLocation.PRIMARY;case s.LocationMode.SECONDARY_ONLY:return c.StorageLocation.SECONDARY;case s.LocationMode.PRIMARY_THEN_SECONDARY:case s.LocationMode.SECONDARY_THEN_PRIMARY:return t===c.StorageLocation.PRIMARY?c.StorageLocation.SECONDARY:c.StorageLocation.PRIMARY;default:throw new RangeError(r.format(u.ARGUMENT_OUT_OF_RANGE_ERROR,"locationMode",e))}},p.getNextListingLocationMode=function(t){if(i.isNull(t)||i.isUndefined(t))return c.RequestLocationMode.PRIMARY_OR_SECONDARY;switch(t.targetLocation){case c.StorageLocation.PRIMARY:return c.RequestLocationMode.PRIMARY_ONLY;case c.StorageLocation.SECONDARY:return c.RequestLocationMode.SECONDARY_ONLY;default:throw new RangeError(r.format(u.ARGUMENT_OUT_OF_RANGE_ERROR,"targetLocation",t.targetLocation))}},p.isStreamPaused=function(t){return t instanceof o&&(!0===t._paused||t._readableState&&!1===t._readableState.flowing)},p.parseCopyProgress=function(t){if("string"!=typeof t||-1===t.indexOf("/"))return{};var e=t.split("/");return{bytesCopied:e[0],totalBytes:e[1]}};var h={"x-ms-blob-sequence-number":"sequenceNumber","content-Type":"contentSettings.contentType","content-Encoding":"contentSettings.contentEncoding","content-Language":"contentSettings.contentLanguage","cache-Control":"contentSettings.cacheControl","content-Disposition":"contentSettings.contentDisposition","content-MD5":"contentSettings.contentMD5",leaseId:"lease.id",leaseStatus:"lease.status",leaseDuration:"lease.duration",leaseState:"lease.state",copyId:"copy.id",copyStatus:"copy.status",copySource:"copy.source",copyProgress:"copy.progress",copyCompletionTime:"copy.completionTime",copyStatusDescription:"copy.statusDescription",copyDestinationSnapshot:"copy.destinationSnapshot",publicAccess:"publicAccessLevel",incrementalCopy:"isIncrementalCopy"};p.normalizePropertyNameFromXML=function(t){return this.IsNullOrEmptyOrUndefinedOrWhiteSpace(t)?"":(t=(t=t.trim())[0].toLowerCase()+t.substring(1))in h?h[t]:-1!=t.toLowerCase().indexOf("-")?t.replace("-",""):t},p.setPropertyValueFromXML=function(t,e,r){for(var n in e)if(e.hasOwnProperty(n)){if(r){var i=this.normalizePropertyNameFromXML(n).split(".");p.setObjectInnerPropertyValue(t,i,e[n])}else t[n.toLowerCase()]=e[n];if("copyprogress"===n.toLowerCase()){var o=this.parseCopyProgress(e[n]);p.setObjectInnerPropertyValue(t,["copy","bytesCopied"],parseInt(o.bytesCopied)),p.setObjectInnerPropertyValue(t,["copy","totalBytes"],parseInt(o.totalBytes))}}},p.filterOutNonReservedProperties=function(t,e){var r={};if(e)for(var n in e)if(e.hasOwnProperty(n)){var i=t.hasOwnProperty(n),o="function"==typeof e[n];i||o||(r[n]=e[n])}return r}}).call(this,t("_process"),t("buffer").Buffer)},{"../md5-wrapper":10,"./constants":30,"./sr":34,"./storageutilities":35,_process:71,buffer:55,stream:87,underscore:110,url:111,util:116}],37:[function(t,e,r){var i=t("underscore"),o=t("util"),n=t("./../util/constants").BlobConstants,s=t("./../../services/blob/blobutilities"),a=t("./../../services/file/fileutilities"),u=t("./util"),l=t("./sr"),c=t("validator"),f=t("../errors/errors"),h=f.ArgumentError,p=f.ArgumentNullError;function d(e,t){var r;e?r=function(t){return e(t),!1}:(r=function(t){throw t},e=function(){}),t(r,e)}(r=e.exports).isValidEnumValue=function(e,t,r){var n;return d(r,function(t,e){n=t,r=e}),t.some(function(t){return t.toLowerCase()===e.toLowerCase()})?(r(),!0):n(new RangeError(o.format("Invalid value: %s. Options are: %s.",e,t)))},r.isValidUri=function(t){if(!c.isURL(t,{require_tld:!1}))throw new URIError('The provided URI "'+t+'" is invalid.');return!0},r.isValidHost=function(t){if(u.objectIsNull(t))throw new p("host",l.STORAGE_HOST_LOCATION_REQUIRED);var e={};if(e.primaryHost=i.isString(t)?t:t.primaryHost,e.primaryHost&&!c.isURL(e.primaryHost,{require_tld:!1}))throw new URIError('The provided URI "'+e.primaryHost+'" is invalid.');if(e.secondaryHost=i.isString(t)?void 0:t.secondaryHost,e.secondaryHost&&!c.isURL(e.secondaryHost,{require_tld:!1}))throw new URIError('The provided URI "'+e.secondaryHost+'" is invalid.');if(!e.primaryHost&&!e.secondaryHost)throw new p("host",l.STORAGE_HOST_LOCATION_REQUIRED);return!0},r.isValidUuid=function(t,r){var n;return d(r,function(t,e){n=t,r=e}),/^[a-zA-Z0-9]{8}\-[a-zA-Z0-9]{4}\-[a-zA-Z0-9]{4}\-[a-zA-Z0-9]{4}\-[a-zA-Z0-9]{12}$/.test(t)?(r(),!0):n(new SyntaxError("The value is not a valid UUID format."))},r.isBase64Encoded=function(t){if(t.match(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/))return!0;throw new SyntaxError("The provided account key "+t+" is not a valid base64 string.")},r.isValidFunction=function(t,e){if(!t)throw new p("functionObject",e+" must be specified.");if(!i.isFunction(t))throw new TypeError(e+" specified should be a function.");return!0};var _=function(t,e){return u.stringIsEmpty(t)?new p("name",o.format("%s name must be a non empty string.",e)):t.length<3||63<t.length?new h("name",o.format("%s name must be between 3 and 63 characters long.",e)):null===t.match(/^([a-z0-9]+(-[a-z0-9]+)*)$/)?new SyntaxError(o.format("%s name format is incorrect.",e)):null};function E(t,e){throw new p(t,"Required argument "+t+" for function "+e+" is not defined")}function m(t){this.func=t}r.containerNameIsValid=function(t,r){var n;d(r,function(t,e){n=t,r=e});var e=_(t,"Container");return!e||t.match(/^(\$root|\$logs|\$web)$/)?(r(),!0):n(e)},r.blobNameIsValid=function(t,e,r){var n;return d(r,function(t,e){n=t,r=e}),e?"$root"===t&&-1!==e.indexOf("/")?n(new SyntaxError("Blob name format is incorrect.")):(r(),!0):n(new p("blobName","Blob name is not specified."))},r.blobTierNameIsValid=function(t,r){var n;return d(r,function(t,e){n=t,r=e}),t?i.chain(i.union(i.values(s.BlobTier.PremiumPageBlobTier),i.values(s.BlobTier.StandardBlobTier))).map(function(t){return t.toString().toUpperCase()}).contains(t.toString().toUpperCase()).value()?(r(),!0):n(new SyntaxError("Blob tier is incorrect. Refer to BlobUtilities.BlobTier for possible values.")):n(new p("blobTier","Blob tier is not specified."))},r.shareNameIsValid=function(t,r){var n;d(r,function(t,e){n=t,r=e});var e=_(t,"Share");return e?n(e):(r(),!0)},r.queueNameIsValid=function(t,r){var n;d(r,function(t,e){n=t,r=e});var e=_(t,"Queue");return e?n(e):(r(),!0)},r.tableNameIsValid=function(t,r){var n;return d(r,function(t,e){n=t,r=e}),u.stringIsEmpty(t)?n(new p("table","Table name must be a non empty string.")):t.length<3||63<t.length?n(new h("table","Table name must be between 3 and 63 characters long.")):"tables"===t.toLowerCase()?n(new RangeError("Table name cannot be 'Tables'.")):null!==t.match(/^([A-Za-z][A-Za-z0-9]{2,62})$/)||"$MetricsCapacityBlob"===t||null!==t.match(/^(\$Metrics(HourPrimary|MinutePrimary|HourSecondary|MinuteSecondary)?(Transactions)(Blob|Queue|Table|File))$/)?(r(),!0):n(new SyntaxError("Table name format is incorrect."))},r.browserFileIsValid=function(t,r){var n;return d(r,function(t,e){n=t,r=e}),u.isBrowser()&&t&&t.constructor&&(u.isIE()||t.constructor.name)&&(u.isIE()||"File"===t.constructor.name||"Blob"===t.constructor.name)&&u.objectIsInt(t.size)?(r(),!0):n(new h("type","Invalid HTML File object."))},r.pageRangesAreValid=function(t,e,r,n){var i;if(d(n,function(t,e){i=t,n=e}),t%512!=0)return i(new RangeError("Start byte offset must be a multiple of 512."));if(!u.objectIsNull(e)){if((e+1)%512!=0)return i(new RangeError("End byte offset must be a multiple of 512 minus 1."));if(r<e-t+1)return i(new RangeError("Page blob size cannot be larger than "+r+" bytes."))}return n(),!0},r.blobTypeIsValid=function(t,e){return this.isValidEnumValue(t,function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return e}(n.BlobTypes),e)},r.shareACLIsValid=function(t,r){var n;return d(r,function(t,e){n=t,r=e}),t!=a.SharePublicAccessType.OFF&&n(new h("type","The access type is not supported.")),r(),!0},r.shareQuotaIsValid=function(t,r){var n;return d(r,function(t,e){n=t,r=e}),t&&t<=0&&n(new RangeError("The share quota value, in GB, must be greater than 0.")),r(),!0},i.extend(m.prototype,{string:function(t,e){if(this.exists(t,e),"string"!=typeof t)throw new TypeError("Parameter "+e+" for function "+this.func+" should be a non-empty string")},stringAllowEmpty:function(t,e){if("string"!=typeof t)throw new TypeError("Parameter "+e+" for function "+this.func+" should be a string")},object:function(t,e){if(this.exists(t,e),"object"!=typeof t)throw new TypeError("Parameter "+e+" for function "+this.func+" should be an object")},exists:function(t,e){t||E(e,this.func)},function:function(t,e){if(this.exists(t,e),"function"!=typeof t)throw new TypeError("Parameter "+e+" for function "+this.func+" should be a function")},value:function(t,e){t||0===t||E(e,this.func)},nonEmptyArray:function(t,e){if(!t||0===t.length)throw new TypeError("Required array argument "+e+" for function "+this.func+" is either not defined or empty")},callback:function(t){this.exists(t,"callback"),this.function(t,"callback")},test:function(t,e){if(!t())throw new Error(e+" in function "+this.func)},tableNameIsValid:r.tableNameIsValid,browserFileIsValid:r.browserFileIsValid,containerNameIsValid:r.containerNameIsValid,shareNameIsValid:r.shareNameIsValid,blobNameIsValid:r.blobNameIsValid,blobTierNameIsValid:r.blobTierNameIsValid,pageRangesAreValid:r.pageRangesAreValid,queueNameIsValid:r.queueNameIsValid,blobTypeIsValid:r.blobTypeIsValid,shareACLIsValid:r.shareACLIsValid,shareQuotaIsValid:r.shareQuotaIsValid,isValidEnumValue:r.isValidEnumValue}),r.ArgumentValidator=m,r.validateArgs=function(t,e){e(new m(t))}},{"../errors/errors":5,"./../../services/blob/blobutilities":38,"./../../services/file/fileutilities":39,"./../util/constants":30,"./sr":34,"./util":36,underscore:110,util:116,validator:122}],38:[function(t,e,r){e.exports;e.exports={SharedAccessPermissions:{READ:"r",ADD:"a",CREATE:"c",WRITE:"w",DELETE:"d",LIST:"l"},BlobListingDetails:{SNAPSHOTS:"snapshots",METADATA:"metadata",UNCOMMITTED_BLOBS:"uncommittedblobs",COPY:"copy",DELETED:"deleted"},SnapshotDeleteOptions:{SNAPSHOTS_ONLY:"only",BLOB_AND_SNAPSHOTS:"include"},BlockListFilter:{ALL:"all",COMMITTED:"committed",UNCOMMITTED:"uncommitted"},BlobContainerPublicAccessType:{OFF:null,CONTAINER:"container",BLOB:"blob"},SequenceNumberAction:{MAX:"max",UPDATE:"update",INCREMENT:"increment"},BlobTier:{PremiumPageBlobTier:{P4:"P4",P6:"P6",P10:"P10",P20:"P20",P30:"P30",P40:"P40",P50:"P50",P60:"P60"},StandardBlobTier:{HOT:"Hot",COOL:"Cool",ARCHIVE:"Archive"}}}},{}],39:[function(t,e,r){e.exports;e.exports={SharedAccessPermissions:{READ:"r",CREATE:"c",WRITE:"w",DELETE:"d",LIST:"l"},ListingDetails:{METADATA:"metadata"},SharePublicAccessType:{OFF:null,SHARE:"share",FILE:"file"},ShareSnapshotDeleteOptions:{SHARE_AND_SNAPSHOTS:"include"}}},{}],40:[function(e,t,l){(function(r){var n=e("underscore"),i=e("util"),o=e("uuid"),t=e("./../../../common/common.core"),s=t.util,a=t.SR,u=e("../tableutilities").EdmType;l.propertyType=function(t,e){return n.isNumber(t)?e?s.objectIsInt(t)?"Edm.Int32":"Edm.Double":null:n.isBoolean(t)?"Edm.Boolean":n.isDate(t)?"Edm.DateTime":"Edm.String"},l.deserializeValueFromJson=function(t,e){if(!t)return e;switch(t){case u.BINARY:return r.from(e,"base64");case u.DATETIME:return new Date(e);case u.GUID:return e;case u.DOUBLE:return"number"!=typeof e?parseFloat(e):e;case u.INT32:case u.INT64:case u.STRING:case u.BOOLEAN:return e;default:throw new Error(i.format(a.TYPE_NOT_SUPPORTED,t))}},l.serializeValue=function(t,e){switch(t){case u.BINARY:return r.isBuffer(e)?e.toString("base64"):e;case u.DATETIME:return n.isDate(e)?e.toISOString():e;case u.GUID:return r.isBuffer(e)||n.isArray(e)?o.unparse(e):e;case u.INT64:case u.DOUBLE:return e.toString();case u.INT32:return e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":s.objectIsNaN(e)?"NaN":e;case u.STRING:case u.BOOLEAN:return e;default:throw new Error(a.TYPE_NOT_SUPPORTED+t)}},l.isTypeRequired=function(t,e){switch(t){case u.BINARY:case u.INT64:case u.DATETIME:case u.GUID:case u.DOUBLE:return!0;case u.INT32:return!("number"==typeof e&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY&&!s.objectIsNaN(e));case u.STRING:case u.BOOLEAN:return!1;default:throw new Error(i.format(a.TYPE_NOT_SUPPORTED,t))}},l.serializeQueryValue=function(t,e){switch(e||l.propertyType(t,!0)){case u.INT32:return t.toString();case u.BOOLEAN:return t?"true":"false";case u.DOUBLE:return t.toString();case u.INT64:return t.toString()+"L";case u.DATETIME:if(n.isDate(t))return"datetime'"+t.toISOString()+"'";throw new Error(i.format(a.INVALID_EDM_TYPE,t,e));case u.GUID:return"guid'"+t.toString()+"'";case u.BINARY:return"X'"+t.toString("hex")+"'";default:return"'"+t.toString().replace(/'/g,"''")+"'"}}}).call(this,e("buffer").Buffer)},{"../tableutilities":50,"./../../../common/common.core":3,buffer:55,underscore:110,util:116,uuid:117}],41:[function(e,r,u){(function(f){var h=e("util"),t=e("./../../../common/common.core"),p=t.util,d=t.SR,_=t.Constants,E=e("./edmhandler"),m=_.TableConstants.ODATA_PREFIX.length,y=_.TableConstants.ODATA_TYPE_SUFFIX.length;(u=r.exports).serializeJson=function(t){function e(t){if(p.objectIsNull(t))return{_:t};if("object"==typeof t&&t.hasOwnProperty(_.TableConstants.ODATA_VALUE_MARKER))return t;var e={_:t};return e[_.TableConstants.ODATA_TYPE_MARKER]=E.propertyType(t,!0),e}var r={};for(var n in t)if(n!==_.TableConstants.ODATA_METADATA_MARKER){var i=e(t[n]);if(!p.objectIsNull(i[_.TableConstants.ODATA_VALUE_MARKER])){var o=i[_.TableConstants.ODATA_VALUE_MARKER],s=i[_.TableConstants.ODATA_TYPE_MARKER];void 0===s&&(s=E.propertyType(o,!0)),r[n]=E.serializeValue(s,o),E.isTypeRequired(s,o)&&(r[n+_.TableConstants.ODATA_TYPE_SUFFIX]=s)}}return JSON.stringify(r,function(t,e){return e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":p.objectIsNaN(e)?"NaN":e})},u.parseJsonTables=function(t){var e=[];if(t.value)for(var r=0;r<t.value.length;r++){var n=t.value[r].TableName;e.push(n)}return e},u.parseJsonEntities=function(t,e,r,n){if(t.value){for(var i=[],o=0;o<t.value.length;o++){var s=t.value[o],a=u.parseJsonSingleEntity(s,e,r,n);i.push(a)}return i}return[u.parseJsonSingleEntity(t,e,r,n)]},u.parseJsonSingleEntity=function(t,e,r,n){var i={},o={PartitionKey:"Edm.String",RowKey:"Edm.String",Timestamp:"Edm.DateTime"},s={};for(var a in t)p.stringStartsWith(a,_.TableConstants.ODATA_PREFIX)?s[a.slice(m)]=t[a]:p.stringEndsWith(a,_.TableConstants.ODATA_TYPE_SUFFIX)?o[a.slice(0,a.length-y)]=t[a]:i[a]=t[a];if(!s.etag&&i.Timestamp){var u=f.from(i.Timestamp).toString();s.etag="W/\"datetime'"+u+"'\""}var l={};for(var a in i)if(i.hasOwnProperty(a)){var c=o[a];l[a]={},r&&(c=r(i.PartitionKey,i.RowKey,a,i[a],c)),!c&&e&&(c=E.propertyType(i[a],!1)),c&&(l[a][_.TableConstants.ODATA_TYPE_MARKER]=c);try{l[a][_.TableConstants.ODATA_VALUE_MARKER]=E.deserializeValueFromJson(c,i[a])}catch(t){throw r?new Error(h.format(d.INVALID_PROPERTY_RESOLVER,a,c,i[a])):t}}return l[_.TableConstants.ODATA_METADATA_MARKER]=s,n&&(l=n(l)),l}}).call(this,e("buffer").Buffer)},{"./../../../common/common.core":3,"./edmhandler":40,buffer:55,util:116}],42:[function(r,i,p){(function(n){var a=r("util"),t=r("./../../../common/common.core"),u=t.WebResource,l=t.SR,e=t.Constants,c=e.HeaderConstants,f=e.TableConstants,h=r("../models/entityresult");(p=i.exports).constructEntityWebResource=function(t,e,r,n){var i,o=null;if(t===f.Operations.INSERT)o=u.post(e).withHeader(c.PREFER,n.echoContent?c.PREFER_CONTENT:c.PREFER_NO_CONTENT);else{var s=function(t,e,r){var n="/"+t;if("string"!=typeof e||"string"!=typeof r)throw new Error(l.INCORRECT_ENTITY_KEYS);return e=e.replace(/'/g,"''"),r=r.replace(/'/g,"''"),n=n+"(PartitionKey='"+encodeURIComponent(e.toString("utf8"))+"',RowKey='"+encodeURIComponent(r.toString("utf8"))+"')"}(e,"string"==typeof r.PartitionKey?r.PartitionKey:r.PartitionKey[f.ODATA_VALUE_MARKER],"string"==typeof r.RowKey?r.RowKey:r.RowKey[f.ODATA_VALUE_MARKER]);if(t===f.Operations.DELETE)o=u.del(s);else if(t===f.Operations.MERGE||t===f.Operations.INSERT_OR_MERGE)o=u.merge(s);else if(t===f.Operations.REPLACE||t===f.Operations.INSERT_OR_REPLACE)o=u.put(s);else{if(t!==f.Operations.RETRIEVE)throw new Error(a.format(l.INVALID_TABLE_OPERATION,t));o=u.get(s)}}return t!==f.Operations.DELETE&&t!==f.Operations.REPLACE&&t!==f.Operations.MERGE||o.withHeader(c.IF_MATCH,h.getEtag(r)||"*"),t!==f.Operations.DELETE&&t!==f.Operations.RETRIEVE&&(i=h.serialize(r)),p.setTableRequestHeadersAndBody(o,i,n.payloadFormat),o},p.setTableRequestHeadersAndBody=function(t,e,r){e&&t.withHeader(c.CONTENT_LENGTH,n.byteLength(e,"utf8")).withBody(e).withHeader(c.CONTENT_TYPE,c.JSON_CONTENT_TYPE_VALUE),t.withHeader(c.ACCEPT,r).withHeader(c.MAX_DATA_SERVICE_VERSION,f.DEFAULT_DATA_SERVICE_VERSION)}}).call(this,r("buffer").Buffer)},{"../models/entityresult":45,"./../../../common/common.core":3,buffer:55,util:116}],43:[function(t,e,r){var n=t("util"),i=t("./../../../common/common.core"),o=i.SharedKey,s=i.util,a=i.Constants,u=a.HeaderConstants,l=a.QueryStringConstants;function c(t,e,r){c.super_.call(this,t,e,r)}n.inherits(c,o),c.prototype.signRequest=function(t,e){var r=function(t){return s.objectIsNull(t)?"\n":t+"\n"},n=t.method+"\n"+r(t.headers[u.CONTENT_MD5])+r(t.headers[u.CONTENT_TYPE])+r(t.headers[u.MS_DATE])+this._getCanonicalizedResource(t),i=this.signer.sign(n);t.withHeader(u.AUTHORIZATION,"SharedKey "+this.storageAccount+":"+i),e(null)},c.prototype._getCanonicalizedResource=function(t){var e="/";t.path&&(e=t.path);var r="/"+this.storageAccount+e,n=t.queryString;return n[l.COMP]&&(r+="?comp="+n[l.COMP]),r},e.exports=c},{"./../../../common/common.core":3,util:116}],44:[function(t,e,r){var n=t("./../../../common/common.core"),o=n.util,i=t("./../../../common/md5-wrapper"),l=n.StorageServiceClient,c=n.WebResource,s=n.Constants,f=s.HeaderConstants,a=s.TableConstants,u=t("../internal/requesthandler"),h=t("./entityresult");function p(t,e,r){this.tableService=t,this.table=e,this.operations=r,this.batchBoundary="batch_"+p._getBoundary(),this.changesetBoundary="changeset_"+p._getBoundary()}p._getBoundary=function(){return(new i).createMd5Hash().update(""+(new Date).getTime()).digest("hex")},p.prototype.constructWebResource=function(){var t=c.post("$batch").withRawResponse(!0);return t.withHeader(f.CONTENT_TYPE,'multipart/mixed; charset="utf-8"; boundary='+this.batchBoundary),t.withHeader(f.DATA_SERVICE_VERSION,"3.0;"),t.withHeader(f.MAX_DATA_SERVICE_VERSION,"3.0;NetFx"),t},p.prototype.serialize=function(){var t="--"+this.batchBoundary+"\n";if(1===this.operations.length&&this.operations[0].type===a.Operations.RETRIEVE)t+=f.CONTENT_TYPE+": application/http\n",t+=f.CONTENT_TRANSFER_ENCODING+": binary\n\n",t+=this._serializeOperation(this.operations[0]);else{t+=f.CONTENT_TYPE+': multipart/mixed;charset="utf-8";boundary='+this.changesetBoundary+"\n\n";for(var e=0;e<this.operations.length;e++)t+="--"+this.changesetBoundary+"\n",t+=f.CONTENT_TYPE+": application/http\n",t+=f.CONTENT_TRANSFER_ENCODING+": binary\n\n",t+=this._serializeOperation(this.operations[e],e)+"\n";t+="--"+this.changesetBoundary+"--\n"}return t+="--"+this.batchBoundary+"--"},p.prototype._serializeOperation=function(t,e){t.options.payloadFormat=t.options.payloadFormat||this.tableService.defaultPayloadFormat;var r=u.constructEntityWebResource(t.type,this.table,t.entity,t.options);e&&(r.headers[f.CONTENT_ID]=e);var n=r.headers[f.CONTENT_TYPE];n&&(o.stringEndsWith(n,";")||(r.headers[f.CONTENT_TYPE]+=";"),r.headers[f.CONTENT_TYPE]+="type=entry"),this.tableService._setRequestUrl(r);var i=r.method+" "+r.uri+" HTTP/1.1\n";return Object.keys(r.headers).forEach(function(t){i+=t+": "+r.headers[t]+"\n"}),i+="\n",i+=r.body||""},p.prototype.parse=function(t){var n=null;if(t&&t.response&&t.response.body&&"string"==typeof t.response.body){n=[];var e=t.response.body.split(a.CHANGESET_DELIMITER);1===e.length&&(e=t.response.body.split(a.BATCH_DELIMITER));var i=this;e.forEach(function(t){var e=t.indexOf("HTTP/1.1");if(-1!==e){t=t.substring(e);var r=i._parseOperation(t);n.push(r)}})}return n},p.prototype._parseOperation=function(t){var r={error:null,response:{}},e=t.split("\r\n");if(0<e.length){var n=e.shift().split(" ");2<=n.length&&(r.response.statusCode=parseInt(n[1]),r.response.isSuccessful=c.validResponse(r.response.statusCode)),r.response.headers={},r.response.body="";var i=!1;if(e.forEach(function(t){if(""!==t||i)if(i)r.response.body+=t;else{var e=t.indexOf(":");-1!==e&&(r.response.headers[t.substring(0,e).trim().toLowerCase()]=t.substring(e+1).trim())}else i=!0}),l._parseResponse(r.response,this.tableService.xml2jsSettings),r.response.isSuccessful||(r.error=l._normalizeError(r.response.body,r.response)),!r.error){var o,s,a=r.response.headers[f.CONTENT_ID]||0;if(a&&this.operations[a]){var u=this.operations[a].options;o=u.propertyResolver,s=u.entityResolver}r.entity=h.parseEntity(r.response,o,s)}}return r},e.exports=p},{"../internal/requesthandler":42,"./../../../common/common.core":3,"./../../../common/md5-wrapper":10,"./entityresult":45}],45:[function(t,e,r){var n=t("./../../../common/common.core").Constants,o=n.TableConstants,s=n.HeaderConstants,a=t("../internal/odatahandler");(r=e.exports).serialize=function(t){return a.serializeJson(t)},r.parseQuery=function(t,e,r,n){var i={};return t.body&&(i=a.parseJsonEntities(t.body,e,r,n)),i},r.parseEntity=function(t,e,r,n){var i={};return t.body&&(i=a.parseJsonSingleEntity(t.body,e,r,n)),t.headers&&t.headers[s.ETAG.toLowerCase()]&&(i[o.ODATA_METADATA_MARKER]||(i[o.ODATA_METADATA_MARKER]={}),i[o.ODATA_METADATA_MARKER].etag=t.headers[s.ETAG.toLowerCase()]),i},r.getEtag=function(t){var e;return t&&t[o.ODATA_METADATA_MARKER]&&(e=t[o.ODATA_METADATA_MARKER].etag),e}},{"../internal/odatahandler":41,"./../../../common/common.core":3}],46:[function(t,e,r){var n=t("../internal/odatahandler");function i(t){this.name=t}i.serialize=function(t){return JSON.stringify({TableName:t})},i.parse=function(t){var e=null;return t.body&&(e=n.parseJsonTables(t.body)),e},e.exports=i},{"../internal/odatahandler":41}],47:[function(t,e,r){var i=t("extend"),n=t("./../../common/common.core"),o=n.SR,s=n.validate,a=n.Constants.TableConstants;function u(){this.operations=[],this.pk=null,this.retrieve=!1}u.prototype.clear=function(){this.operations=[]},u.prototype.hasOperations=function(){return 0<this.operations.length},u.prototype.size=function(){return this.operations.length},u.prototype.retrieveEntity=function(t,e,r){var n={PartitionKey:{_:t,$:"Edm.String"},RowKey:{_:e,$:"Edm.String"}};this.addOperation(a.Operations.RETRIEVE,n,r)},u.prototype.insertEntity=function(t,e){this.addOperation(a.Operations.INSERT,t,e)},u.prototype.deleteEntity=function(t){this.addOperation(a.Operations.DELETE,t)},u.prototype.mergeEntity=function(t){this.addOperation(a.Operations.MERGE,t)},u.prototype.replaceEntity=function(t){this.addOperation(a.Operations.REPLACE,t)},u.prototype.insertOrReplaceEntity=function(t){this.addOperation(a.Operations.INSERT_OR_REPLACE,t)},u.prototype.insertOrMergeEntity=function(t){this.addOperation(a.Operations.INSERT_OR_MERGE,t)},u.prototype.addOperation=function(t,e,r){if(s.validateArgs("addOperation",function(t){t.object(e,"entity"),t.object(e.PartitionKey,"entity.PartitionKey"),t.object(e.RowKey,"entity.RowKey"),t.stringAllowEmpty(e.PartitionKey._,"entity.PartitionKey._"),t.stringAllowEmpty(e.RowKey._,"entity.RowKey._")}),100<=this.operations.length)throw new Error(o.BATCH_TOO_LARGE);if(t===a.Operations.RETRIEVE){if(this.hasOperations())throw new Error(o.BATCH_ONE_RETRIEVE);this.retrieve=!0}else if(this.retrieve)throw new Error(o.BATCH_ONE_RETRIEVE);if(this.hasOperations()){if(e.PartitionKey._!==this.pk)throw new Error(o.BATCH_ONE_PARTITION_KEY)}else this.pk=e.PartitionKey._;var n=i(!0,{},r);this.operations.push({type:t,entity:e,options:n})},u.prototype.getOperation=function(t){return this.operations[t]},u.prototype.removeOperation=function(t){var e=this.operations.splice(t,1)[0];return this.hasOperations()||(this.pk=null,this.retrieve=!1),e},e.exports=u},{"./../../common/common.core":3,extend:59}],48:[function(t,e,r){var n=t("underscore"),i=t("util"),o=t("./../../common/common.core"),s=o.util,a=o.SR,u=o.Constants.QueryStringConstants,l=t("./internal/edmhandler"),c=t("./tableutilities"),f=c.QueryComparisons,h=c.TableOperators,p=c.EdmType;function d(){this._fields=[],this._where=[],this._top=null}d.prototype.select=function(){var e=this;return arguments&&n.each(arguments,function(t){e._fields.push(t)}),this},d.prototype.top=function(t){return this._top=t,this},d.prototype.where=function(t){return this._where.push(d._encodeConditionString(t,arguments)),this},d.int32Filter=function(t,e,r){return d._concatFilterString(t,e,r,p.INT32)},d.int64Filter=function(t,e,r){return d._concatFilterString(t,e,r,p.INT64)},d.doubleFilter=function(t,e,r){return d._concatFilterString(t,e,r,p.DOUBLE)},d.booleanFilter=function(t,e,r){return d._concatFilterString(t,e,r,p.BOOLEAN)},d.dateFilter=function(t,e,r){return d._concatFilterString(t,e,r,p.DATETIME)},d.guidFilter=function(t,e,r){return d._concatFilterString(t,e,r,p.GUID)},d.binaryFilter=function(t,e,r){return d._concatFilterString(t,e,r,p.BINARY)},d.stringFilter=function(t,e,r){return d._concatFilterString(t,e,r,p.STRING)},d.combineFilters=function(t,e,r){return t+" "+e+" "+r},d.prototype.and=function(t){if(0===this._where.length)throw new Error(i.format(a.QUERY_OPERATOR_REQUIRES_WHERE,"AND"));return this._where.push(" and "+d._encodeConditionString(t,arguments)),this},d.prototype.or=function(t){if(0===this._where.length)throw new Error(i.format(a.QUERY_OPERATOR_REQUIRES_WHERE,"OR"));return this._where.push(" or "+d._encodeConditionString(t,arguments)),this},d.prototype.toQueryObject=function(){var t={};return 0<this._fields.length&&(t[u.SELECT]=this._fields.join(",")),0<this._where.length&&(t[u.FILTER]=this._where.join("")),this._top&&(t[u.TOP]=this._top),t},d._concatFilterString=function(t,e,r,n){if(s.objectIsNull(t))throw new Error(i.format(a.ARGUMENT_NULL_OR_UNDEFINED,"propertyName"));if(s.objectIsNull(e))throw new Error(i.format(a.ARGUMENT_NULL_OR_UNDEFINED,"operation"));if(s.objectIsNull(r))throw new Error(i.format(a.ARGUMENT_NULL_OR_UNDEFINED,"value"));return t+" "+e+" "+l.serializeQueryValue(r,n)},d._encodeConditionString=function(t,e){var r=d._replaceOperators(t);if(1<e.length){for(var n=r.split(/(\?string\?|\?int32\?|\?int64\?|\?bool\?|\?double\?|\?date\?|\?binary\?|\?guid\?|\?)/),i=1,o=0;o<n.length&&i<e.length;o++)if(0===n[o].indexOf("?")){var s=d._getEdmType(n[o]);n[o]=l.serializeQueryValue(e[i],s),i++}r=n.join("")}return r},d._getEdmType=function(t){switch(t){case"?binary?":return p.BINARY;case"?int64?":return p.INT64;case"?date?":return p.DATETIME;case"?guid?":return p.GUID;case"?int32?":return p.INT32;case"?double?":return p.DOUBLE;case"?bool?":return p.BOOLEAN;case"?string?":return p.STRING;default:return}},d._replaceOperators=function(t){var e=t.replace(/ == /g," "+f.EQUAL+" ");return e=(e=(e=(e=(e=(e=(e=(e=e.replace(/ != /g," "+f.NOT_EQUAL+" ")).replace(/ >= /g," "+f.GREATER_THAN_OR_EQUAL+" ")).replace(/ > /g," "+f.GREATER_THAN+" ")).replace(/ <= /g," "+f.LESS_THAN_OR_EQUAL+" ")).replace(/ < /g," "+f.LESS_THAN+" ")).replace(/ \&\& /g," "+h.AND+" ")).replace(/ \|\| /g," "+h.OR+" ")).replace(/!/g,h.NOT)},e.exports=d},{"./../../common/common.core":3,"./internal/edmhandler":40,"./tableutilities":50,underscore:110,util:116}],49:[function(r,n,t){(function(l){var t=r("util"),c=r("extend"),u=r("underscore"),e=r("./../../common/common.core"),f=e.util,h=e.validate,p=e.SR,s=e.StorageServiceClient,a=r("./internal/sharedkeytable"),d=r("./internal/requesthandler"),_=r("./tablequery"),E=e.WebResource,m=e.Constants,y=m.QueryStringConstants,g=m.HeaderConstants,b=m.TableConstants,T=m.RequestLocationMode,v=r("./models/tableresult"),S=r("./models/entityresult"),A=r("./models/batchresult"),o=e.ServiceStatsParser,N=e.AclResult,O=r("./tableutilities");function I(t,e,r,n,i){var o=s.getStorageSettings(t,e,r,n,i);if(I.super_.call(this,o._name,o._key,o._tableEndpoint,o._usePathStyleUri,o._sasToken),this.anonymous)throw new Error(p.ANONYMOUS_ACCESS_BLOBSERVICE_ONLY);this.storageAccount&&this.storageAccessKey&&(this.storageCredentials=new a(this.storageAccount,this.storageAccessKey,this.usePathStyleUri)),this.defaultPayloadFormat=O.PayloadFormat.MINIMAL_METADATA}t.inherits(I,s),I.prototype.getServiceStats=function(t,r){var n;f.normalizeArgs(t,r,function(t,e){n=t,r=e}),h.validateArgs("getServiceStats",function(t){t.callback(r)});var e=c(!0,{},n);e.requestLocationMode=m.RequestLocationMode.PRIMARY_OR_SECONDARY;var i=E.get().withQueryOption(y.COMP,"stats").withQueryOption(y.RESTYPE,"service");this.performRequest(i,null,e,function(t,e){t.serviceStatsResult=null,t.error||(t.serviceStatsResult=o.parse(t.response.body.StorageServiceStats));e(t,function(t){r(t.error,t.serviceStatsResult,t.response)})})},I.prototype.getServiceProperties=function(t,e){return this.getAccountServiceProperties(t,e)},I.prototype.setServiceProperties=function(t,e,r){return this.setAccountServiceProperties(t,e,r)},I.prototype.listTablesSegmented=function(t,e,r){this.listTablesSegmentedWithPrefix(null,t,e,r)},I.prototype.listTablesSegmentedWithPrefix=function(t,e,r,n){var i;f.normalizeArgs(r,n,function(t,e){i=t,n=e}),h.validateArgs("listTables",function(t){t.callback(n)});var o=c(!0,{},i);o.payloadFormat=o.payloadFormat||this.defaultPayloadFormat;var s=E.get(b.TABLE_SERVICE_TABLE_NAME);if(d.setTableRequestHeadersAndBody(s,null,o.payloadFormat),f.objectIsNull(e)||s.withQueryOption(b.NEXT_TABLE_NAME,e.nextTableName),!f.objectIsNull(t)){var a=(new _).where(b.TABLE_NAME+" >= ?",t).and(b.TABLE_NAME+" < ?",t+"{");s.withQueryOption(y.FILTER,a.toQueryObject().$filter)}if(!f.objectIsNull(o.maxResults)){a=(new _).top(o.maxResults);s.withQueryOption(y.TOP,a.toQueryObject().$top)}o.requestLocationMode=f.getNextListingLocationMode(e);this.performRequest(s,null,o,function(t,e){t.listTablesResult=null,t.error||(t.listTablesResult={entries:null,continuationToken:null},t.listTablesResult.entries=v.parse(t.response),t.response.headers[b.CONTINUATION_NEXT_TABLE_NAME]&&!f.objectIsEmpty(t.response.headers[b.CONTINUATION_NEXT_TABLE_NAME])&&(t.listTablesResult.continuationToken={nextTableName:null,targetLocation:null},t.listTablesResult.continuationToken.nextTableName=t.response.headers[b.CONTINUATION_NEXT_TABLE_NAME],t.listTablesResult.continuationToken.targetLocation=t.targetLocation));e(t,function(t){n(t.error,t.listTablesResult,t.response)})})},I.prototype.getTableAcl=function(r,t,n){var i;f.normalizeArgs(t,n,function(t,e){i=t,n=e}),h.validateArgs("getTableAcl",function(t){t.string(r,"table"),t.tableNameIsValid(r),t.callback(n)});var e=c(!0,{},i);e.requestLocationMode=m.RequestLocationMode.PRIMARY_OR_SECONDARY;var o=E.get(r).withQueryOption(y.COMP,"acl");this.performRequest(o,null,e,function(t,e){t.tableResult=null,t.error||(t.tableResult=new v(r),t.tableResult.signedIdentifiers=N.parse(t.response.body));e(t,function(t){n(t.error,t.tableResult,t.response)})})},I.prototype.setTableAcl=function(r,n,t,i){var o;f.normalizeArgs(t,i,function(t,e){o=t,i=e}),h.validateArgs("setTableAcl",function(t){t.string(r,"table"),t.tableNameIsValid(r),t.callback(i)});var e=c(!0,{},o),s=null;if(n){if(u.isArray(n))throw new TypeError(p.INVALID_SIGNED_IDENTIFIERS);s=N.serialize(n)}var a=E.put(r).withQueryOption(y.COMP,"acl").withHeader(g.CONTENT_LENGTH,f.objectIsNull(s)?0:l.byteLength(s)).withBody(s);this.performRequest(a,a.body,e,function(t,e){t.tableResult=null,t.error||(t.tableResult=new v(r),n&&(t.tableResult.signedIdentifiers=n));e(t,function(t){i(t.error,t.tableResult,t.response)})})},I.prototype.generateSharedAccessSignature=function(e,r){if(!this.storageCredentials||!this.storageCredentials.generateSignedQueryString)throw new Error(p.CANNOT_CREATE_SAS_WITHOUT_ACCOUNT_KEY);h.validateArgs("generateSharedAccessSignature",function(t){t.string(e,"table"),t.tableNameIsValid(e),t.object(r,"sharedAccessPolicy")});var t=e.toLowerCase();return this.storageCredentials.generateSignedQueryString(m.ServiceType.Table,t,r,null,{tableName:t})},I.prototype.doesTableExist=function(t,e,r){this._doesTableExist(t,!1,e,r)},I.prototype.createTable=function(r,t,n){var i;f.normalizeArgs(t,n,function(t,e){i=t,n=e}),h.validateArgs("createTable",function(t){t.string(r,"table"),t.tableNameIsValid(r),t.callback(n)});var e=c(!0,{},i),o=v.serialize(r),s=E.post("Tables").withHeader(g.PREFER,g.PREFER_NO_CONTENT);d.setTableRequestHeadersAndBody(s,o,this.defaultPayloadFormat);this.performRequest(s,s.body,e,function(t,e){t.tableResponse={},t.tableResponse.isSuccessful=!t.error,t.tableResponse.statusCode=null===t.response||void 0===t.response?void 0:t.response.statusCode,t.error||(t.tableResponse.TableName=r);e(t,function(t){n(t.error,t.tableResponse,t.response)})})},I.prototype.createTableIfNotExists=function(i,t,o){var r;f.normalizeArgs(t,o,function(t,e){r=t,o=e}),h.validateArgs("createTableIfNotExists",function(t){t.string(i,"table"),t.tableNameIsValid(i),t.callback(o)});var s=c(!0,{},r),a=this;a._doesTableExist(i,!0,s,function(t,e,r){var n=e.exists;e.created=!1,delete e.exists,t?o(t,e,r):n?(r.isSuccessful=!0,o(t,e,r)):a.createTable(i,s,function(t,e,r){t?t&&t.statusCode===m.HttpConstants.HttpResponseCodes.Conflict&&t.code===m.TableErrorCodeStrings.TABLE_ALREADY_EXISTS&&(t=null,e.created=!1,e.isSuccessful=!0):e.created=!0,o(t,e,r)})})},I.prototype.deleteTable=function(e,t,r){var n;f.normalizeArgs(t,r,function(t,e){n=t,r=e}),h.validateArgs("deleteTable",function(t){t.string(e,"table"),t.tableNameIsValid(e),t.callback(r)});var i=c(!0,{},n),o=E.del("Tables('"+e+"')");d.setTableRequestHeadersAndBody(o,null,this.defaultPayloadFormat);this.performRequest(o,null,i,function(t,e){e(t,function(t){r(t.error,t.response)})})},I.prototype.deleteTableIfExists=function(n,t,i){var r;f.normalizeArgs(t,i,function(t,e){r=t,i=e}),h.validateArgs("deleteTableIfExists",function(t){t.string(n,"table"),t.tableNameIsValid(n),t.callback(i)});var o=c(!0,{},r),s=this;s._doesTableExist(n,!0,o,function(t,e,r){t?i(t,e.exists,r):e.exists?s.deleteTable(n,o,function(t,e){var r;t?t&&t.statusCode===m.HttpConstants.HttpResponseCodes.NotFound&&t.code===m.StorageErrorCodeStrings.RESOURCE_NOT_FOUND&&(r=!1,t=null,e.isSuccessful=!0):r=!0,i(t,r,e)}):(r.isSuccessful=!0,i(t,!1,r))})},I.prototype.queryEntities=function(e,t,r,n,i){var o;f.normalizeArgs(n,i,function(t,e){o=t,i=e}),h.validateArgs("queryEntities",function(t){t.string(e,"table"),t.callback(i)});var s=c(!0,{},o);s.payloadFormat=s.payloadFormat||this.defaultPayloadFormat;var a=E.get(e);if(d.setTableRequestHeadersAndBody(a,null,s.payloadFormat),t){var u=t.toQueryObject();Object.keys(u).forEach(function(t){a.withQueryOption(t,u[t])})}f.objectIsNull(r)||(a.withQueryOption(b.NEXT_PARTITION_KEY,r.nextPartitionKey),a.withQueryOption(b.NEXT_ROW_KEY,r.nextRowKey)),s.requestLocationMode=f.getNextListingLocationMode(r);this.performRequest(a,null,s,function(t,e){if(t.queryEntitiesResult=null,!t.error){t.queryEntitiesResult={entries:null,continuationToken:null},t.queryEntitiesResult.entries=S.parseQuery(t.response,s.autoResolveProperties,s.propertyResolver,s.entityResolver);var r={nextPartitionKey:t.response.headers[b.CONTINUATION_NEXT_PARTITION_KEY],nextRowKey:t.response.headers[b.CONTINUATION_NEXT_ROW_KEY],targetLocation:t.targetLocation};f.IsNullOrEmptyOrUndefinedOrWhiteSpace(r.nextPartitionKey)||(t.queryEntitiesResult.continuationToken=r)}e(t,function(t){i(t.error,t.queryEntitiesResult,t.response)})})},I.prototype.retrieveEntity=function(t,e,r,n,i){var o={PartitionKey:{_:e,$:"Edm.String"},RowKey:{_:r,$:"Edm.String"}};h.validateArgs("retrieveEntity",function(t){t.stringAllowEmpty(e,"partitionKey"),t.stringAllowEmpty(r,"rowKey")}),this._performEntityOperation(b.Operations.RETRIEVE,t,o,n,i)},I.prototype.insertEntity=function(t,e,r,n){this._performEntityOperation(b.Operations.INSERT,t,e,r,n)},I.prototype.insertOrReplaceEntity=function(t,e,r,n){this._performEntityOperation(b.Operations.INSERT_OR_REPLACE,t,e,r,n)},I.prototype.replaceEntity=function(t,e,r,n){this._performEntityOperation(b.Operations.REPLACE,t,e,r,n)},I.prototype.mergeEntity=function(t,e,r,n){this._performEntityOperation(b.Operations.MERGE,t,e,r,n)},I.prototype.insertOrMergeEntity=function(t,e,r,n){this._performEntityOperation(b.Operations.INSERT_OR_MERGE,t,e,r,n)},I.prototype.deleteEntity=function(t,e,r,n){this._performEntityOperation(b.Operations.DELETE,t,e,r,n)},I.prototype.executeBatch=function(e,r,t,i){var n;if(f.normalizeArgs(t,i,function(t,e){n=t,i=e}),h.validateArgs("executeBatch",function(t){t.string(e,"table"),t.tableNameIsValid(e),t.object(r,"batch"),t.callback(i)}),!r.hasOperations())throw new Error(p.EMPTY_BATCH);var o=c(!0,{},n),s=new A(this,e,r.operations),a=s.constructWebResource(),u=s.serialize();a.withBody(u),a.withHeader(g.CONTENT_LENGTH,l.byteLength(u,"utf8"));this.performRequest(a,a.body,o,function(e,t){var r=s.parse(e),n=!0;r&&0<r.length&&r.forEach(function(t){n&&!t.response.isSuccessful&&(e=t,n=!1)}),n&&(e.operationResponses=r);t(e,function(t){i(t.error,t.operationResponses,t.response)})})},I.prototype._doesTableExist=function(r,t,e,n){var i;f.normalizeArgs(e,n,function(t,e){i=t,n=e}),h.validateArgs("doesTableExist",function(t){t.string(r,"table"),t.tableNameIsValid(r),t.callback(n)});var o=c(!0,{},i);!1===t&&(o.requestLocationMode=T.PRIMARY_OR_SECONDARY);var s=E.get("Tables('"+r+"')");s.withHeader(g.ACCEPT,this.defaultPayloadFormat);this.performRequest(s,null,o,function(t,e){t.tableResult={},t.tableResult.isSuccessful=!t.error,t.tableResult.statusCode=null===t.response||void 0===t.response?void 0:t.response.statusCode,t.tableResult.TableName=r,t.error?t.error&&t.error.statusCode===m.HttpConstants.HttpResponseCodes.NotFound&&(t.error=null,t.tableResult.exists=!1,t.response.isSuccessful=!0):t.tableResult.exists=!0;e(t,function(t){n(t.error,t.tableResult,t.response)})})},I.prototype._performEntityOperation=function(n,e,r,t,i){var o;f.normalizeArgs(t,i,function(t,e){o=t,i=e}),h.validateArgs("entityOperation",function(t){t.string(e,"table"),t.tableNameIsValid(e),t.object(r,"entityDescriptor"),"string"!=typeof r.PartitionKey&&(t.object(r.PartitionKey,"entityDescriptor.PartitionKey"),t.stringAllowEmpty(r.PartitionKey._,"entityDescriptor.PartitionKey._")),"string"!=typeof r.RowKey&&(t.object(r.RowKey,"entityDescriptor.RowKey"),t.stringAllowEmpty(r.RowKey._,"entityDescriptor.RowKey._")),t.callback(i)});var s=c(!0,{},o);s.payloadFormat=s.payloadFormat||this.defaultPayloadFormat;var a=d.constructEntityWebResource(n,e,r,s);this.performRequest(a,a.body,s,function(t,e){var r;n===b.Operations.DELETE?r=function(t){i(t.error,t.response)}:(t.entityResponse=null,t.error||(t.entityResponse=S.parseEntity(t.response,s.autoResolveProperties,s.propertyResolver,s.entityResolver)),r=function(t){i(t.error,t.entityResponse,t.response)}),e(t,r)})},I.prototype.getUrl=function(e,t,r){return h.validateArgs("getUrl",function(t){t.string(e,"table"),t.tableNameIsValid(e)}),this._getUrl(e,t,r)},n.exports=I}).call(this,r("buffer").Buffer)},{"./../../common/common.core":3,"./internal/requesthandler":42,"./internal/sharedkeytable":43,"./models/batchresult":44,"./models/entityresult":45,"./models/tableresult":46,"./tablequery":48,"./tableutilities":50,buffer:55,extend:59,underscore:110,util:116}],50:[function(t,e,r){e.exports;var n,i={SharedAccessPermissions:{QUERY:"r",ADD:"a",UPDATE:"u",DELETE:"d"},PayloadFormat:{FULL_METADATA:"application/json;odata=fullmetadata",MINIMAL_METADATA:"application/json;odata=minimalmetadata",NO_METADATA:"application/json;odata=nometadata"},TableOperators:{AND:"and",NOT:"not",OR:"or"},QueryComparisons:{EQUAL:"eq",NOT_EQUAL:"ne",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL:"le"},EdmType:{STRING:"Edm.String",BINARY:"Edm.Binary",INT64:"Edm.Int64",INT32:"Edm.Int32",DOUBLE:"Edm.Double",DATETIME:"Edm.DateTime",GUID:"Edm.Guid",BOOLEAN:"Edm.Boolean"},entityGenerator:(n=function(t,e){var r={_:t};return e&&(r.$=e),r},{EntityProperty:n,Int32:function(t){return new n(t,"Edm.Int32")},Int64:function(t){return new n(t,"Edm.Int64")},Binary:function(t){return new n(t,"Edm.Binary")},Boolean:function(t){return new n(t,"Edm.Boolean")},String:function(t){return new n(t,"Edm.String")},Guid:function(t){return new n(t,"Edm.Guid")},Double:function(t){return new n(t,"Edm.Double")},DateTime:function(t){return new n(t,"Edm.DateTime")}})};e.exports=i},{}],51:[function(t,e,r){"use strict";r.byteLength=function(t){var e=p(t),r=e[0],n=e[1];return 3*(r+n)/4-n},r.toByteArray=function(t){var e,r,n=p(t),i=n[0],o=n[1],s=new h((l=i,c=o,3*(l+c)/4-c)),a=0,u=0<o?i-4:i;var l,c;for(r=0;r<u;r+=4)e=f[t.charCodeAt(r)]<<18|f[t.charCodeAt(r+1)]<<12|f[t.charCodeAt(r+2)]<<6|f[t.charCodeAt(r+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;2===o&&(e=f[t.charCodeAt(r)]<<2|f[t.charCodeAt(r+1)]>>4,s[a++]=255&e);1===o&&(e=f[t.charCodeAt(r)]<<10|f[t.charCodeAt(r+1)]<<4|f[t.charCodeAt(r+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e);return s},r.fromByteArray=function(t){for(var e,r=t.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(u(t,o,s<o+16383?s:o+16383));1===n?(e=t[r-1],i.push(a[e>>2]+a[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],i.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"="));return i.join("")};for(var a=[],f=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)a[i]=n[i],f[n.charCodeAt(i)]=i;function p(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,r){for(var n,i,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(a[(i=n)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},{}],52:[function(t,e,r){},{}],53:[function(t,M,D){(function(C){!function(t){var e="object"==typeof D&&D&&!D.nodeType&&D,r="object"==typeof M&&M&&!M.nodeType&&M,n="object"==typeof C&&C;n.global!==n&&n.window!==n&&n.self!==n||(t=n);var i,o,m=2147483647,y=36,g=1,b=26,s=38,a=700,T=72,v=128,S="-",u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=y-g,A=Math.floor,N=String.fromCharCode;function O(t){throw new RangeError(f[t])}function p(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function d(t,e){var r=t.split("@"),n="";return 1<r.length&&(n=r[0]+"@",t=r[1]),n+p((t=t.replace(c,".")).split("."),e).join(".")}function I(t){for(var e,r,n=[],i=0,o=t.length;i<o;)55296<=(e=t.charCodeAt(i++))&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function R(t){return p(t,function(t){var e="";return 65535<t&&(e+=N((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function L(t,e,r){var n=0;for(t=r?A(t/a):t>>1,t+=A(t/e);h*b>>1<t;n+=y)t=A(t/h);return A(n+(h+1)*t/(t+s))}function _(t){var e,r,n,i,o,s,a,u,l,c,f,h=[],p=t.length,d=0,_=v,E=T;for((r=t.lastIndexOf(S))<0&&(r=0),n=0;n<r;++n)128<=t.charCodeAt(n)&&O("not-basic"),h.push(t.charCodeAt(n));for(i=0<r?r+1:0;i<p;){for(o=d,s=1,a=y;p<=i&&O("invalid-input"),f=t.charCodeAt(i++),(y<=(u=f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:y)||u>A((m-d)/s))&&O("overflow"),d+=u*s,!(u<(l=a<=E?g:E+b<=a?b:a-E));a+=y)s>A(m/(c=y-l))&&O("overflow"),s*=c;E=L(d-o,e=h.length+1,0==o),A(d/e)>m-_&&O("overflow"),_+=A(d/e),d%=e,h.splice(d++,0,_)}return R(h)}function E(t){var e,r,n,i,o,s,a,u,l,c,f,h,p,d,_,E=[];for(h=(t=I(t)).length,e=v,o=T,s=r=0;s<h;++s)(f=t[s])<128&&E.push(N(f));for(n=i=E.length,i&&E.push(S);n<h;){for(a=m,s=0;s<h;++s)e<=(f=t[s])&&f<a&&(a=f);for(a-e>A((m-r)/(p=n+1))&&O("overflow"),r+=(a-e)*p,e=a,s=0;s<h;++s)if((f=t[s])<e&&++r>m&&O("overflow"),f==e){for(u=r,l=y;!(u<(c=l<=o?g:o+b<=l?b:l-o));l+=y)_=u-c,d=y-c,E.push(N(w(c+_%d,0))),u=A(_/d);E.push(N(w(u,0))),o=L(r,p,n==i),r=0,++n}++r,++e}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:I,encode:R},decode:_,encode:E,toASCII:function(t){return d(t,function(t){return l.test(t)?"xn--"+E(t):t})},toUnicode:function(t){return d(t,function(t){return u.test(t)?_(t.slice(4).toLowerCase()):t})}},e&&r)if(M.exports==e)r.exports=i;else for(o in i)i.hasOwnProperty(o)&&(e[o]=i[o]);else t.punycode=i}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],54:[function(t,e,r){"use strict";var n=t("safe-buffer").Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=f,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(1<t.lastNeed&&1<e.length){if(128!=(192&e[1]))return t.lastNeed=1,"";if(2<t.lastNeed&&2<e.length&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(55296<=n&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function c(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}(r.StringDecoder=o).prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(0<=i)return 0<i&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(0<=(i=s(e[n])))return 0<i&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(0<=(i=s(e[n])))return 0<i&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":85}],55:[function(t,e,U){(function(f){"use strict";var n=t("base64-js"),o=t("ieee754");U.Buffer=f,U.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},U.INSPECT_MAX_BYTES=50;var r=2147483647;function s(t){if(r<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(t)}return i(t,e,r)}function i(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|h(t,e),n=s(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return l(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(x(t,ArrayBuffer)||t&&x(t.buffer,ArrayBuffer))return function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return Object.setPrototypeOf(n,f.prototype),n}(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,r);var i=function(t){if(f.isBuffer(t)){var e=0|c(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||P(t.length)?s(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return a(t),s(t<0?0:0|c(t))}function l(t){for(var e=t.length<0?0:0|c(t.length),r=s(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function c(t){if(r<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function h(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||x(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return C(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(t).length;default:if(i)return n?-1:C(t).length;e=(""+e).toLowerCase(),i=!0}}function p(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function d(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),P(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:_(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a/=s=2,u/=2,r/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=r;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(a<r+u&&(r=a-u),o=r;0<=o;o--){for(var f=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){f=!1;break}if(f)return o}return-1}function E(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?i<(n=Number(n))&&(n=i):n=i;var o=e.length;o/2<n&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(P(a))return s;t[r+s]=a}return s}function m(t,e,r,n){return D(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function y(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function g(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,l=t[i],c=null,f=239<l?4:223<l?3:191<l?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&127<(u=(31&l)<<6|63&o)&&(c=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&2047<(u=(15&l)<<12|(63&o)<<6|63&s)&&(u<55296||57343<u)&&(c=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)&&u<1114112&&(c=u)}null===c?(c=65533,f=1):65535<c&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return function(t){var e=t.length;if(e<=b)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=b));return r}(n)}U.kMaxLength=r,(f.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(t,e,r){return i(t,e,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,r){return i=e,o=r,a(n=t),n<=0?s(n):void 0!==i?"string"==typeof o?s(n).fill(i,o):s(n).fill(i):s(n);var n,i,o},f.allocUnsafe=function(t){return u(t)},f.allocUnsafeSlow=function(t){return u(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(x(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),x(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;var n=f.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(x(o,Uint8Array)&&(o=f.from(o)),!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},f.byteLength=h,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?g(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,r);case"utf8":case"utf-8":return g(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return v(this,e,r);case"base64":return y(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",e=U.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},f.prototype.compare=function(t,e,r,n,i){if(x(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=e)return 0;if(i<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(n,i),l=t.slice(e,r),c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return d(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return d(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||i<r)&&(r=i),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o,s,a,u,l,c,f,h,p,d=!1;;)switch(n){case"hex":return E(this,t,e,r);case"utf8":case"utf-8":return h=e,p=r,D(C(t,(f=this).length-h),f,h,p);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return m(this,t,e,r);case"base64":return u=this,l=e,c=r,D(M(t),u,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=e,a=r,D(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,(o=this).length-s),o,s,a);default:if(d)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function v(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function S(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||n<r)&&(r=n);for(var i="",o=e;o<r;++o)i+=L(t[o]);return i}function A(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function I(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(t,e,r,n,i){return e=+e,r>>>=0,i||I(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function w(t,e,r,n,i){return e=+e,r>>>=0,i||I(t,0,r,8),o.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t+--e],i=1;0<e&&(i*=256);)n+=this[t+--e]*i;return n},f.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);for(var n=e,i=1,o=this[t+--n];0<n&&(i*=256);)o+=this[t+--n]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*e)),o},f.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),o.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),o.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),o.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),o.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},f.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;0<=--i&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;0<=--o&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,r){return R(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return R(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return w(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return w(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var o=i-1;0<=o;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=f.isBuffer(t)?t:f.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var e=/[^+/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function C(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&r<57344){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function M(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(e,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function D(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function x(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function P(t){return t!=t}}).call(this,t("buffer").Buffer)},{"base64-js":51,buffer:55,ieee754:62}],56:[function(t,e,r){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],57:[function(t,e,r){(function(t){function e(t){return Object.prototype.toString.call(t)}r.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},r.isBoolean=function(t){return"boolean"==typeof t},r.isNull=function(t){return null===t},r.isNullOrUndefined=function(t){return null==t},r.isNumber=function(t){return"number"==typeof t},r.isString=function(t){return"string"==typeof t},r.isSymbol=function(t){return"symbol"==typeof t},r.isUndefined=function(t){return void 0===t},r.isRegExp=function(t){return"[object RegExp]"===e(t)},r.isObject=function(t){return"object"==typeof t&&null!==t},r.isDate=function(t){return"[object Date]"===e(t)},r.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},r.isFunction=function(t){return"function"==typeof t},r.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},r.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":64}],58:[function(t,e,r){var u=Object.create||function(t){var e=function(){};return e.prototype=t,new e},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return r},o=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function n(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=u(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((e.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0;var i,a=10;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),i=0===l.x}catch(t){i=!1}function c(t){return void 0===t._maxListeners?n.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){var i,o,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]):(o=t._events=u(null),t._eventsCount=0),s){if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=c(t))&&0<i&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else s=o[e]=r,++t._eventsCount;return t}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function p(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=o.call(h,n);return i.listener=r,n.wrapFn=i}function d(t,e,r){var n=t._events;if(!n)return[];var i=n[e];return i?"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):E(i,i.length):[]}function _(t){var e=this._events;if(e){var r=e[t];if("function"==typeof r)return 1;if(r)return r.length}return 0}function E(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}i?Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');a=t}}):n.defaultMaxListeners=a,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},n.prototype.getMaxListeners=function(){return c(this)},n.prototype.emit=function(t){var e,r,n,i,o,s,a="error"===t;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(1<arguments.length&&(e=arguments[1]),e instanceof Error)throw e;var u=new Error('Unhandled "error" event. ('+e+")");throw u.context=e,u}if(!(r=s[t]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:!function(t,e,r){if(e)t.call(r);else for(var n=t.length,i=E(t,n),o=0;o<n;++o)i[o].call(r)}(r,l,this);break;case 2:!function(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,o=E(t,i),s=0;s<i;++s)o[s].call(r,n)}(r,l,this,arguments[1]);break;case 3:!function(t,e,r,n,i){if(e)t.call(r,n,i);else for(var o=t.length,s=E(t,o),a=0;a<o;++a)s[a].call(r,n,i)}(r,l,this,arguments[1],arguments[2]);break;case 4:!function(t,e,r,n,i,o){if(e)t.call(r,n,i,o);else for(var s=t.length,a=E(t,s),u=0;u<s;++u)a[u].call(r,n,i,o)}(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];!function(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,o=E(t,i),s=0;s<i;++s)o[s].apply(r,n)}(r,l,this,i)}return!0},n.prototype.on=n.prototype.addListener=function(t,e){return f(this,t,e,!1)},n.prototype.prependListener=function(t,e){return f(this,t,e,!0)},n.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,p(this,t,e)),this},n.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,p(this,t,e)),this},n.prototype.removeListener=function(t,e){var r,n,i,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=u(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;0<=o;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),n.removeListener&&this.emit("removeListener",t,s||e)}return this},n.prototype.removeAllListeners=function(t){var e,r,n;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=u(null),this._eventsCount=0):r[t]&&(0==--this._eventsCount?this._events=u(null):delete r[t]),this;if(0===arguments.length){var i,o=s(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=u(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(e)for(n=e.length-1;0<=n;n--)this.removeListener(t,e[n]);return this},n.prototype.listeners=function(t){return d(this,t,!0)},n.prototype.rawListeners=function(t){return d(this,t,!1)},n.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):_.call(t,e)},n.prototype.listenerCount=_,n.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],59:[function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,f=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},h=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,r=i.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&i.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;for(e in t);return void 0===e||i.call(t,e)},p=function(t,e){n&&"__proto__"===e.name?n(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},d=function(t,e){if("__proto__"===e){if(!i.call(t,e))return;if(s)return s(t,e).value}return t[e]};e.exports=function t(){var e,r,n,i,o,s,a=arguments[0],u=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},u=2),(null==a||"object"!=typeof a&&"function"!=typeof a)&&(a={});u<l;++u)if(null!=(e=arguments[u]))for(r in e)n=d(a,r),a!==(i=d(e,r))&&(c&&i&&(h(i)||(o=f(i)))?(o?(o=!1,s=n&&f(n)?n:[]):s=n&&h(n)?n:{},p(a,{name:r,newValue:t(c,s,i)})):void 0!==i&&p(a,{name:r,newValue:i}));return a}},{}],60:[function(t,e,r){"use strict";var a=t("safe-buffer").Buffer,n=t("stream").Transform;function i(t){n.call(this),this._block=a.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(i,n),i.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},i.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},i.prototype.update=function(t,e){if(function(t,e){if(!a.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(t)||(t=a.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,s=8*t.length;0<s;++o)this._length[o]+=s,0<(s=this._length[o]/4294967296|0)&&(this._length[o]-=4294967296*s);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0);for(var r=this._blockOffset=0;r<4;++r)this._length[r]=0;return e},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i},{inherits:63,"safe-buffer":85,stream:87}],61:[function(t,e,r){var n=t("http"),i=t("url"),o=e.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=a(t),n.request.call(this,t,e)},o.get=function(t,e){return t=a(t),n.get.call(this,t,e)}},{http:88,url:111}],62:[function(t,e,r){r.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,l=u>>1,c=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=a;0<c;o=256*o+t[e+f],f+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;0<c;s=256*s+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=l}return(p?-1:1)*s*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(e+=1<=s+f?h/u:h*Math.pow(2,1-f))*u&&(s++,u/=2),c<=s+f?(a=0,s=c):1<=s+f?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));8<=i;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;0<l;t[r+p]=255&s,p+=d,s/=256,l-=8);t[r+p-d]|=128*_}},{}],63:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},{}],64:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(n(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!t._isBuffer);var e}},{}],65:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],66:[function(t,e,r){"use strict";var n=t("util"),u=t("jsonparse");function i(){return this.internalParser=new u,this.originalOnToken=this.internalParser.onToken,this.internalParser.onToken=o.bind(this),this.internalParser}e.exports,n.inherits(i,u);var o=function(t,e){var r,n,i,o=this,s=!1;if((t===u.C.STRING||t===u.C.NUMBER||t===u.C.TRUE||t===u.C.FALSE||t===u.C.NULL)&&"number"==typeof e&&-1!=this.internalParser.string.indexOf(".")&&parseInt(this.internalParser.string)===e&&this.internalParser.mode!==u.C.ARRAY){var a=this.internalParser.key+"@odata.type";this.internalParser.value&&(this.internalParser.value[a]="Edm.Double"),r=a,n="Edm.Double",i=o.internalParser.key,o.internalParser.key=r,o.internalParser.onValue(n),o.internalParser.key=i,s=this.internalParser.string!==e.toString()}s?this.originalOnToken.call(this.internalParser,t,this.internalParser.string):this.originalOnToken.call(this.internalParser,t,e)};i.C=u.C,e.exports=i},{jsonparse:67,util:116}],67:[function(t,e,r){(function(a){var o={},u=o.LEFT_BRACE=1,l=o.RIGHT_BRACE=2,c=o.LEFT_BRACKET=3,f=o.RIGHT_BRACKET=4,h=o.COLON=5,p=o.COMMA=6,d=o.TRUE=7,_=o.FALSE=8,E=o.NULL=9,m=o.STRING=10,y=o.NUMBER=11,g=o.START=17,r=o.STOP=18,b=o.TRUE1=33,T=o.TRUE2=34,v=o.TRUE3=35,S=o.FALSE1=49,A=o.FALSE2=50,N=o.FALSE3=51,O=o.FALSE4=52,I=o.NULL1=65,R=o.NULL2=66,w=o.NULL3=67,L=o.NUMBER1=81,C=o.NUMBER3=83,M=o.STRING1=97,D=o.STRING2=98,x=o.STRING3=99,P=o.STRING4=100,U=o.STRING5=101,B=o.STRING6=102,n=o.VALUE=113,i=o.KEY=114,s=o.OBJECT=129,F=o.ARRAY=130;function k(){this.tState=g,this.value=void 0,this.string=void 0,this.unicode=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=n,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new a(2),3:new a(3),4:new a(4)},this.offset=-1}k.toknam=function(t){for(var e=Object.keys(o),r=0,n=e.length;r<n;r++){var i=e[r];if(o[i]===t)return i}return t&&"0x"+t.toString(16)};var t=k.prototype;t.onError=function(t){throw t},t.charError=function(t,e){this.tState=r,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+k.toknam(this.tState)))},t.write=function(t){var e;"string"==typeof t&&(t=new a(t));for(var r=0,n=t.length;r<n;r++)if(this.tState===g){if(e=t[r],this.offset++,123===e)this.onToken(u,"{");else if(125===e)this.onToken(l,"}");else if(91===e)this.onToken(c,"[");else if(93===e)this.onToken(f,"]");else if(58===e)this.onToken(h,":");else if(44===e)this.onToken(p,",");else if(116===e)this.tState=b;else if(102===e)this.tState=S;else if(110===e)this.tState=I;else if(34===e)this.string="",this.tState=M;else if(45===e)this.string="-",this.tState=L;else if(48<=e&&e<64)this.string=String.fromCharCode(e),this.tState=C;else if(32!==e&&9!==e&&10!==e&&13!==e)return this.charError(t,r)}else if(this.tState===M)if(e=t[r],0<this.bytes_remaining){for(var i=0;i<this.bytes_remaining;i++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+i]=t[i];this.string+=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,r=r+i-1}else if(0===this.bytes_remaining&&128<=e){if(e<=193||244<e)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+k.toknam(this.tState)));if(194<=e&&e<=223&&(this.bytes_in_sequence=2),224<=e&&e<=239&&(this.bytes_in_sequence=3),240<=e&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>t.length){for(var o=0;o<=t.length-1-r;o++)this.temp_buffs[this.bytes_in_sequence][o]=t[r+o];this.bytes_remaining=r+this.bytes_in_sequence-t.length,r=t.length-1}else this.string+=t.slice(r,r+this.bytes_in_sequence).toString(),r=r+this.bytes_in_sequence-1}else if(34===e)this.tState=g,this.onToken(m,this.string),this.offset+=a.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===e)this.tState=D;else{if(!(32<=e))return this.charError(t,r);this.string+=String.fromCharCode(e)}else if(this.tState===D)if(34===(e=t[r]))this.string+='"',this.tState=M;else if(92===e)this.string+="\\",this.tState=M;else if(47===e)this.string+="/",this.tState=M;else if(98===e)this.string+="\b",this.tState=M;else if(102===e)this.string+="\f",this.tState=M;else if(110===e)this.string+="\n",this.tState=M;else if(114===e)this.string+="\r",this.tState=M;else if(116===e)this.string+="\t",this.tState=M;else{if(117!==e)return this.charError(t,r);this.unicode="",this.tState=x}else if(this.tState===x||this.tState===P||this.tState===U||this.tState===B){if(!(48<=(e=t[r])&&e<64||64<e&&e<=70||96<e&&e<=102))return this.charError(t,r);this.unicode+=String.fromCharCode(e),this.tState++===B&&(this.string+=String.fromCharCode(parseInt(this.unicode,16)),this.unicode=void 0,this.tState=M)}else if(this.tState===L||this.tState===C)switch(e=t[r]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=C;break;default:this.tState=g;var s=Number(this.string);if(isNaN(s))return this.charError(t,r);this.string.match(/[0-9]+/)==this.string&&s.toString()!=this.string?this.onToken(m,this.string):this.onToken(y,s),this.offset+=this.string.length-1,this.string=void 0,r--}else if(this.tState===b){if(114!==t[r])return this.charError(t,r);this.tState=T}else if(this.tState===T){if(117!==t[r])return this.charError(t,r);this.tState=v}else if(this.tState===v){if(101!==t[r])return this.charError(t,r);this.tState=g,this.onToken(d,!0),this.offset+=3}else if(this.tState===S){if(97!==t[r])return this.charError(t,r);this.tState=A}else if(this.tState===A){if(108!==t[r])return this.charError(t,r);this.tState=N}else if(this.tState===N){if(115!==t[r])return this.charError(t,r);this.tState=O}else if(this.tState===O){if(101!==t[r])return this.charError(t,r);this.tState=g,this.onToken(_,!1),this.offset+=4}else if(this.tState===I){if(117!==t[r])return this.charError(t,r);this.tState=R}else if(this.tState===R){if(108!==t[r])return this.charError(t,r);this.tState=w}else if(this.tState===w){if(108!==t[r])return this.charError(t,r);this.tState=g,this.onToken(E,null),this.offset+=3}},t.onToken=function(t,e){},t.parseError=function(t,e){this.tState=r,this.onError(new Error("Unexpected "+k.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+k.toknam(this.state)))},t.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},t.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=n)},t.emit=function(t){this.mode&&(this.state=p),this.onValue(t)},t.onValue=function(t){},t.onToken=function(t,e){if(this.state===n)if(t===m||t===y||t===d||t===_||t===E)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===u)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=i,this.mode=s;else if(t===c)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=F,this.state=n;else if(t===l){if(this.mode!==s)return this.parseError(t,e);this.pop()}else{if(t!==f)return this.parseError(t,e);if(this.mode!==F)return this.parseError(t,e);this.pop()}else if(this.state===i)if(t===m)this.key=e,this.state=h;else{if(t!==l)return this.parseError(t,e);this.pop()}else if(this.state===h){if(t!==h)return this.parseError(t,e);this.state=n}else{if(this.state!==p)return this.parseError(t,e);if(t===p)this.mode===F?(this.key++,this.state=n):this.mode===s&&(this.state=i);else{if(!(t===f&&this.mode===F||t===l&&this.mode===s))return this.parseError(t,e);this.pop()}}},k.C=o,e.exports=k}).call(this,t("buffer").Buffer)},{buffer:55}],68:[function(i,o,t){(function(e){"use strict";var t=i("inherits"),r=i("hash-base"),s=new Array(16);function n(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function a(t,e){return t<<e|t>>>32-e}function u(t,e,r,n,i,o,s){return a(t+(e&r|~e&n)+i+o|0,s)+e|0}function l(t,e,r,n,i,o,s){return a(t+(e&n|r&~n)+i+o|0,s)+e|0}function c(t,e,r,n,i,o,s){return a(t+(e^r^n)+i+o|0,s)+e|0}function f(t,e,r,n,i,o,s){return a(t+(r^(e|~n))+i+o|0,s)+e|0}t(n,r),n.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,o=this._d;n=f(n=f(n=f(n=f(n=c(n=c(n=c(n=c(n=l(n=l(n=l(n=l(n=u(n=u(n=u(n=u(n,i=u(i,o=u(o,r=u(r,n,i,o,t[0],3614090360,7),n,i,t[1],3905402710,12),r,n,t[2],606105819,17),o,r,t[3],3250441966,22),i=u(i,o=u(o,r=u(r,n,i,o,t[4],4118548399,7),n,i,t[5],1200080426,12),r,n,t[6],2821735955,17),o,r,t[7],4249261313,22),i=u(i,o=u(o,r=u(r,n,i,o,t[8],1770035416,7),n,i,t[9],2336552879,12),r,n,t[10],4294925233,17),o,r,t[11],2304563134,22),i=u(i,o=u(o,r=u(r,n,i,o,t[12],1804603682,7),n,i,t[13],4254626195,12),r,n,t[14],2792965006,17),o,r,t[15],1236535329,22),i=l(i,o=l(o,r=l(r,n,i,o,t[1],4129170786,5),n,i,t[6],3225465664,9),r,n,t[11],643717713,14),o,r,t[0],3921069994,20),i=l(i,o=l(o,r=l(r,n,i,o,t[5],3593408605,5),n,i,t[10],38016083,9),r,n,t[15],3634488961,14),o,r,t[4],3889429448,20),i=l(i,o=l(o,r=l(r,n,i,o,t[9],568446438,5),n,i,t[14],3275163606,9),r,n,t[3],4107603335,14),o,r,t[8],1163531501,20),i=l(i,o=l(o,r=l(r,n,i,o,t[13],2850285829,5),n,i,t[2],4243563512,9),r,n,t[7],1735328473,14),o,r,t[12],2368359562,20),i=c(i,o=c(o,r=c(r,n,i,o,t[5],4294588738,4),n,i,t[8],2272392833,11),r,n,t[11],1839030562,16),o,r,t[14],4259657740,23),i=c(i,o=c(o,r=c(r,n,i,o,t[1],2763975236,4),n,i,t[4],1272893353,11),r,n,t[7],4139469664,16),o,r,t[10],3200236656,23),i=c(i,o=c(o,r=c(r,n,i,o,t[13],681279174,4),n,i,t[0],3936430074,11),r,n,t[3],3572445317,16),o,r,t[6],76029189,23),i=c(i,o=c(o,r=c(r,n,i,o,t[9],3654602809,4),n,i,t[12],3873151461,11),r,n,t[15],530742520,16),o,r,t[2],3299628645,23),i=f(i,o=f(o,r=f(r,n,i,o,t[0],4096336452,6),n,i,t[7],1126891415,10),r,n,t[14],2878612391,15),o,r,t[5],4237533241,21),i=f(i,o=f(o,r=f(r,n,i,o,t[12],1700485571,6),n,i,t[3],2399980690,10),r,n,t[10],4293915773,15),o,r,t[1],2240044497,21),i=f(i,o=f(o,r=f(r,n,i,o,t[8],1873313359,6),n,i,t[15],4264355552,10),r,n,t[6],2734768916,15),o,r,t[13],1309151649,21),i=f(i,o=f(o,r=f(r,n,i,o,t[4],4149444226,6),n,i,t[11],3174756917,10),r,n,t[2],718787259,15),o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},n.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new e(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},o.exports=n}).call(this,i("buffer").Buffer)},{buffer:55,"hash-base":60,inherits:63}],69:[function(t,e,r){r.endianness=function(){return"LE"},r.hostname=function(){return"undefined"!=typeof location?location.hostname:""},r.loadavg=function(){return[]},r.uptime=function(){return 0},r.freemem=function(){return Number.MAX_VALUE},r.totalmem=function(){return Number.MAX_VALUE},r.cpus=function(){return[]},r.type=function(){return"Browser"},r.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},r.networkInterfaces=r.getNetworkInterfaces=function(){return{}},r.arch=function(){return"javascript"},r.platform=function(){return"browser"},r.tmpdir=r.tmpDir=function(){return"/tmp"},r.EOL="\n",r.homedir=function(){return"/"}},{}],70:[function(t,e,r){(function(a){"use strict";!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?e.exports=function(t,e,r,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return a.nextTick(t);case 2:return a.nextTick(function(){t.call(null,e)});case 3:return a.nextTick(function(){t.call(null,e,r)});case 4:return a.nextTick(function(){t.call(null,e,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return a.nextTick(function(){t.apply(null,i)})}}:e.exports=a.nextTick}).call(this,t("_process"))},{_process:71}],71:[function(t,e,r){var n,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],f=!1,h=-1;function p(){f&&l&&(f=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!f){var t=u(p);f=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function E(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new _(t,e)),1!==c.length||f||u(d)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=E,o.addListener=E,o.once=E,o.off=E,o.removeListener=E,o.removeAllListeners=E,o.emit=E,o.prependListener=E,o.prependOnceListener=E,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],72:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var a,u,l=t.length;0<s&&s<l&&(l=s);for(var c=0;c<l;++c){var f,h,p,d,_=t[c].replace(o,"%20"),E=_.indexOf(r);0<=E?(f=_.substr(0,E),h=_.substr(E+1)):(f=_,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),a=i,u=p,Object.prototype.hasOwnProperty.call(a,u)?m(i[p])?i[p].push(d):i[p]=[i[p],d]:i[p]=d}return i};var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],73:[function(t,e,r){"use strict";var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(r,n,i,t){return n=n||"&",i=i||"=",null===r&&(r=void 0),"object"==typeof r?a(u(r),function(t){var e=encodeURIComponent(o(t))+i;return s(r[t])?a(r[t],function(t){return e+encodeURIComponent(o(t))}).join(n):e+encodeURIComponent(o(r[t]))}).join(n):t?encodeURIComponent(o(t))+i+encodeURIComponent(o(r)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var u=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],74:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":72,"./encode":73}],75:[function(t,e,r){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":76}],76:[function(t,e,r){"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=f;var i=t("process-nextick-args"),o=t("core-util-is");o.inherits=t("inherits");var s=t("./_stream_readable"),a=t("./_stream_writable");o.inherits(f,s);for(var u=n(a.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=a.prototype[c])}function f(t){if(!(this instanceof f))return new f(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i(p,this)}function p(t){t.end()}},{"./_stream_readable":78,"./_stream_writable":80,"core-util-is":57,inherits:63,"process-nextick-args":70}],77:[function(t,e,r){"use strict";e.exports=o;var n=t("./_stream_transform"),i=t("core-util-is");function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=t("inherits"),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},{"./_stream_transform":79,"core-util-is":57,inherits:63}],78:[function(N,O,t){(function(E){"use strict";O.exports=n;var m=N("process-nextick-args"),y=N("isarray"),h=N("buffer").Buffer;n.ReadableState=r;N("events");var i,g=function(t,e){return t.listeners(e).length};!function(){try{i=N("stream")}catch(t){}finally{i||(i=N("events").EventEmitter)}}();h=N("buffer").Buffer;var t=N("core-util-is");t.inherits=N("inherits");var o,s,e=N("util"),b=void 0;function r(t,e){s=s||N("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,e instanceof s&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o||(o=N("string_decoder/").StringDecoder),this.decoder=new o(t.encoding),this.encoding=t.encoding)}function n(t){if(s=s||N("./_stream_duplex"),!(this instanceof n))return new n(t);this._readableState=new r(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),i.call(this)}function a(t,e,r,n,i){var o,s,a,u=function(t,e){var r=null;h.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(e,r);if(u)t.emit("error",u);else if(null===r)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,f(t)}(t,e);else if(e.objectMode||r&&0<r.length)if(e.ended&&!i){var l=new Error("stream.push() after EOF");t.emit("error",l)}else if(e.endEmitted&&i){l=new Error("stream.unshift() after end event");t.emit("error",l)}else{var c;!e.decoder||i||n||(r=e.decoder.write(r),c=!e.objectMode&&0===r.length),i||(e.reading=!1),c||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&f(t))),o=t,(s=e).readingMore||(s.readingMore=!0,m(p,o,s))}else i||(e.reading=!1);return!(a=e).ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}b=e&&e.debuglog?e.debuglog("stream"):function(){},t.inherits(n,i),n.prototype.push=function(t,e){var r=this._readableState;return r.objectMode||"string"!=typeof t||(e=e||r.defaultEncoding)!==r.encoding&&(t=new h(t,e),e=""),a(this,r,t,e,!1)},n.prototype.unshift=function(t){return a(this,this._readableState,t,"",!0)},n.prototype.isPaused=function(){return!1===this._readableState.flowing},n.prototype.setEncoding=function(t){return o||(o=N("string_decoder/").StringDecoder),this._readableState.decoder=new o(t),this._readableState.encoding=t,this};var u=8388608;function l(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=(u<=(r=t)?r=u:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t);var r}function f(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(b("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?m(c,t):c(t))}function c(t){b("emit readable"),t.emit("readable"),T(t)}function p(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(b("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function d(t){b("readable nexttick read 0"),t.read(0)}function _(t,e){e.reading||(b("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;if(b("flow",e.flowing),e.flowing)do{var r=t.read()}while(null!==r&&e.flowing)}function v(t,e){var r,n=e.buffer,i=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(s)r=n.shift();else if(!t||i<=t)r=o?n.join(""):1===n.length?n[0]:h.concat(n,i),n.length=0;else{if(t<n[0].length)r=(c=n[0]).slice(0,t),n[0]=c.slice(t);else if(t===n[0].length)r=n.shift();else{r=o?"":new h(t);for(var a=0,u=0,l=n.length;u<l&&a<t;u++){var c=n[0],f=Math.min(t-a,c.length);o?r+=c.slice(0,f):c.copy(r,a,0,f),f<c.length?n[0]=c.slice(f):n.shift(),a+=f}}}return r}function S(t){var e=t._readableState;if(0<e.length)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,m(A,e,t))}function A(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}n.prototype.read=function(t){b("read",t);var e=this._readableState,r=t;if(("number"!=typeof t||0<t)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return b("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?S(this):f(this),null;if(0===(t=l(t,e))&&e.ended)return 0===e.length&&S(this),null;var n,i=e.needReadable;return b("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&b("length less than watermark",i=!0),(e.ended||e.reading)&&b("reading or ended",i=!1),i&&(b("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=l(r,e)),null===(n=0<t?v(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),r!==t&&e.ended&&0===e.length&&S(this),null!==n&&this.emit("data",n),n},n.prototype._read=function(t){this.emit("error",new Error("not implemented"))},n.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,b("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==E.stdout&&e!==E.stderr?s:c;function o(t){b("onunpipe"),t===r&&c()}function s(){b("onend"),e.end()}n.endEmitted?m(i):r.once("end",i),e.on("unpipe",o);var a,u=(a=r,function(){var t=a._readableState;b("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&g(a,"data")&&(t.flowing=!0,T(a))});e.on("drain",u);var l=!1;function c(){b("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",c),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}function f(t){b("ondata"),!1===e.write(t)&&(1!==n.pipesCount||n.pipes[0]!==e||1!==r.listenerCount("data")||l||(b("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++),r.pause())}function h(t){b("onerror",t),_(),e.removeListener("error",h),0===g(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",d),_()}function d(){b("onfinish"),e.removeListener("close",p),_()}function _(){b("unpipe"),r.unpipe(e)}return r.on("data",f),e._events&&e._events.error?y(e._events.error)?e._events.error.unshift(h):e._events.error=[h,e._events.error]:e.on("error",h),e.once("close",p),e.once("finish",d),e.emit("pipe",r),n.flowing||(b("pipe resume"),r.resume()),e},n.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},n.prototype.addListener=n.prototype.on=function(t,e){var r=i.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&f(this):m(d,this))}return r},n.prototype.resume=function(){var t,e,r=this._readableState;return r.flowing||(b("resume"),r.flowing=!0,t=this,(e=r).resumeScheduled||(e.resumeScheduled=!0,m(_,t,e))),this},n.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},n.prototype.wrap=function(e){var r=this._readableState,n=!1,i=this;for(var t in e.on("end",function(){if(b("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),e.on("data",function(t){(b("wrapped data"),r.decoder&&(t=r.decoder.write(t)),r.objectMode&&null==t)||(r.objectMode||t&&t.length)&&(i.push(t)||(n=!0,e.pause()))}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));return function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}(["error","close","destroy","pause","resume"],function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(t){b("wrapped _read",t),n&&(n=!1,e.resume())},i},n._fromList=v}).call(this,N("_process"))},{"./_stream_duplex":76,_process:71,buffer:55,"core-util-is":57,events:58,inherits:63,isarray:65,"process-nextick-args":70,"string_decoder/":108,util:52}],79:[function(t,e,r){"use strict";e.exports=s;var n=t("./_stream_duplex"),i=t("core-util-is");function o(r){this.afterTransform=function(t,e){return function(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,(n.writecb=null)!=r&&t.push(r);i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(r,t,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(t){if(!(this instanceof s))return new s(t);n.call(this,t),this._transformState=new o(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}i.inherits=t("inherits"),i.inherits(s,n),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,r){throw new Error("not implemented")},s.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":76,"core-util-is":57,inherits:63}],80:[function(b,T,t){(function(t,e){"use strict";T.exports=c;var u=b("process-nextick-args"),a=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?e:u,f=b("buffer").Buffer;c.WritableState=s;var r=b("core-util-is");r.inherits=b("inherits");var n,i={deprecate:b("util-deprecate")};!function(){try{n=b("stream")}catch(t){}finally{n||(n=b("events").EventEmitter)}}();var o;f=b("buffer").Buffer;function l(){}function h(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function s(t,e){o=o||b("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,e instanceof o&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1;var i=(this.finished=!1)===t.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(s=r,s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0,e)!function(t,e,r,n,i){--e.pendingcb,r?u(i,n):i(n);t._writableState.errorEmitted=!0,t.emit("error",n)}(t,r,n,e,i);else{var o=E(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||_(t,r),n?a(d,t,r,o,i):d(t,r,o,i)}var s}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new g(this),this.corkedRequestsFree.next=new g(this)}function c(t){if(o=o||b("./_stream_duplex"),!(this instanceof c||this instanceof o))return new c(t);this._writableState=new s(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),n.call(this)}function p(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function d(t,e,r,n){var i,o;r||(i=t,0===(o=e).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),e.pendingcb--,n(),y(t,e)}function _(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0;r;)r=(i[s]=r).next,s+=1;p(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,e.corkedRequestsFree=o.next,o.next=null}else{for(;r;){var a=r.chunk,u=r.encoding,l=r.callback;if(p(t,e,!1,e.objectMode?1:a.length,a,u,l),r=r.next,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function m(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function y(t,e){var r=E(e);return r&&(0===e.pendingcb?(m(t,e),e.finished=!0,t.emit("finish")):m(t,e)),r}function g(n){var i=this;this.next=null,this.entry=null,this.finish=function(t){var e=i.entry;for(i.entry=null;e;){var r=e.callback;n.pendingcb--,r(t),e=e.next}n.corkedRequestsFree?n.corkedRequestsFree.next=i:n.corkedRequestsFree=i}}r.inherits(c,n),s.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(s.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}(),c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},c.prototype.write=function(t,e,r){var n,i,o,s=this._writableState,a=!1;return"function"==typeof e&&(r=e,e=null),f.isBuffer(t)?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof r&&(r=l),s.ended?(n=this,i=r,o=new Error("write after end"),n.emit("error",o),u(i,o)):function(t,e,r,n){var i=!0;if(!f.isBuffer(r)&&"string"!=typeof r&&null!=r&&!e.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),u(n,o),i=!1}return i}(this,s,t,r)&&(s.pendingcb++,a=function(t,e,r,n,i){o=e,s=r,a=n,o.objectMode||!1===o.decodeStrings||"string"!=typeof s||(s=new f(s,a)),r=s,f.isBuffer(r)&&(n="buffer");var o,s,a;var u=e.objectMode?1:r.length;e.length+=u;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest=new h(r,n,i),c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else p(t,e,!1,u,r,n,i);return l}(this,s,t,e,r)),a},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},c.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},c.prototype._write=function(t,e,r){r(new Error("not implemented"))},c.prototype._writev=null,c.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,e=t=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,y(t,e),r&&(e.finished?u(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)}}).call(this,b("_process"),b("timers").setImmediate)},{"./_stream_duplex":76,_process:71,buffer:55,"core-util-is":57,events:58,inherits:63,"process-nextick-args":70,timers:109,"util-deprecate":113}],81:[function(t,e,r){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":77}],82:[function(t,e,r){var n=function(){try{return t("stream")}catch(t){}}();(r=e.exports=t("./lib/_stream_readable.js")).Stream=n||r,(r.Readable=r).Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":76,"./lib/_stream_passthrough.js":77,"./lib/_stream_readable.js":78,"./lib/_stream_transform.js":79,"./lib/_stream_writable.js":80}],83:[function(t,e,r){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":79}],84:[function(t,e,r){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":80}],85:[function(t,e,r){var n=t("buffer"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,r),r.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},{buffer:55}],86:[function(B,t,e){(function(U){!function(u){u.parser=function(t,e){return new n(t,e)},u.SAXParser=n,u.SAXStream=s,u.createStream=function(t,e){return new s(t,e)},u.MAX_BUFFER_LENGTH=65536;var l=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function n(t,e){if(!(this instanceof n))return new n(t,e);var r=this;!function(t){for(var e=0,r=l.length;e<r;e++)t[l[e]]=""}(r),r.q=r.c="",r.bufferCheckPosition=u.MAX_BUFFER_LENGTH,r.opt=e||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!t,r.noscript=!(!t&&!r.opt.noscript),r.state=v.BEGIN,r.ENTITIES=Object.create(u.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(m)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),S(r,"onready")}u.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){this.__proto__=t}return e.prototype=t,new e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__}),Object.keys||(Object.keys=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),n.prototype={end:function(){R(this)},write:function(t){var e=this;if(this.error)throw this.error;if(e.closed)return I(e,"Cannot write after close. Assign an onready handler.");if(null===t)return R(e);var r=0,n="";for(;e.c=n=t.charAt(r++);)switch(e.trackPosition&&(e.position++,"\n"===n?(e.line++,e.column=0):e.column++),e.state){case v.BEGIN:"<"===n?(e.state=v.OPEN_WAKA,e.startTagPosition=e.position):T(c,n)&&(w(e,"Non-whitespace before first tag."),e.textNode=n,e.state=v.TEXT);continue;case v.TEXT:if(e.sawRoot&&!e.closedRoot){for(var i=r-1;n&&"<"!==n&&"&"!==n;)(n=t.charAt(r++))&&e.trackPosition&&(e.position++,"\n"===n?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(i,r-1)}"<"===n?(e.state=v.OPEN_WAKA,e.startTagPosition=e.position):(!T(c,n)||e.sawRoot&&!e.closedRoot||w(e,"Text data outside of root node."),"&"===n?e.state=v.TEXT_ENTITY:e.textNode+=n);continue;case v.SCRIPT:"<"===n?e.state=v.SCRIPT_ENDING:e.script+=n;continue;case v.SCRIPT_ENDING:"/"===n?e.state=v.CLOSE_TAG:(e.script+="<"+n,e.state=v.SCRIPT);continue;case v.OPEN_WAKA:if("!"===n)e.state=v.SGML_DECL,e.sgmlDecl="";else if(b(c,n));else if(b(y,n))e.state=v.OPEN_TAG,e.tagName=n;else if("/"===n)e.state=v.CLOSE_TAG,e.tagName="";else if("?"===n)e.state=v.PROC_INST,e.procInstName=e.procInstBody="";else{if(w(e,"Unencoded <"),e.startTagPosition+1<e.position){var o=e.position-e.startTagPosition;n=new Array(o).join(" ")+n}e.textNode+="<"+n,e.state=v.TEXT}continue;case v.SGML_DECL:(e.sgmlDecl+n).toUpperCase()===d?(A(e,"onopencdata"),e.state=v.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+n==="--"?(e.state=v.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+n).toUpperCase()===_?(e.state=v.DOCTYPE,(e.doctype||e.sawRoot)&&w(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===n?(A(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=v.TEXT):(b(f,n)&&(e.state=v.SGML_DECL_QUOTED),e.sgmlDecl+=n);continue;case v.SGML_DECL_QUOTED:n===e.q&&(e.state=v.SGML_DECL,e.q=""),e.sgmlDecl+=n;continue;case v.DOCTYPE:">"===n?(e.state=v.TEXT,A(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=n,"["===n?e.state=v.DOCTYPE_DTD:b(f,n)&&(e.state=v.DOCTYPE_QUOTED,e.q=n));continue;case v.DOCTYPE_QUOTED:e.doctype+=n,n===e.q&&(e.q="",e.state=v.DOCTYPE);continue;case v.DOCTYPE_DTD:e.doctype+=n,"]"===n?e.state=v.DOCTYPE:b(f,n)&&(e.state=v.DOCTYPE_DTD_QUOTED,e.q=n);continue;case v.DOCTYPE_DTD_QUOTED:e.doctype+=n,n===e.q&&(e.state=v.DOCTYPE_DTD,e.q="");continue;case v.COMMENT:"-"===n?e.state=v.COMMENT_ENDING:e.comment+=n;continue;case v.COMMENT_ENDING:"-"===n?(e.state=v.COMMENT_ENDED,e.comment=O(e.opt,e.comment),e.comment&&A(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+n,e.state=v.COMMENT);continue;case v.COMMENT_ENDED:">"!==n?(w(e,"Malformed comment"),e.comment+="--"+n,e.state=v.COMMENT):e.state=v.TEXT;continue;case v.CDATA:"]"===n?e.state=v.CDATA_ENDING:e.cdata+=n;continue;case v.CDATA_ENDING:"]"===n?e.state=v.CDATA_ENDING_2:(e.cdata+="]"+n,e.state=v.CDATA);continue;case v.CDATA_ENDING_2:">"===n?(e.cdata&&A(e,"oncdata",e.cdata),A(e,"onclosecdata"),e.cdata="",e.state=v.TEXT):"]"===n?e.cdata+="]":(e.cdata+="]]"+n,e.state=v.CDATA);continue;case v.PROC_INST:"?"===n?e.state=v.PROC_INST_ENDING:b(c,n)?e.state=v.PROC_INST_BODY:e.procInstName+=n;continue;case v.PROC_INST_BODY:if(!e.procInstBody&&b(c,n))continue;"?"===n?e.state=v.PROC_INST_ENDING:e.procInstBody+=n;continue;case v.PROC_INST_ENDING:">"===n?(A(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=v.TEXT):(e.procInstBody+="?"+n,e.state=v.PROC_INST_BODY);continue;case v.OPEN_TAG:b(g,n)?e.tagName+=n:(L(e),">"===n?D(e):"/"===n?e.state=v.OPEN_TAG_SLASH:(T(c,n)&&w(e,"Invalid character in tag name"),e.state=v.ATTRIB));continue;case v.OPEN_TAG_SLASH:">"===n?(D(e,!0),x(e)):(w(e,"Forward-slash in opening tag not followed by >"),e.state=v.ATTRIB);continue;case v.ATTRIB:if(b(c,n))continue;">"===n?D(e):"/"===n?e.state=v.OPEN_TAG_SLASH:b(y,n)?(e.attribName=n,e.attribValue="",e.state=v.ATTRIB_NAME):w(e,"Invalid attribute name");continue;case v.ATTRIB_NAME:"="===n?e.state=v.ATTRIB_VALUE:">"===n?(w(e,"Attribute without value"),e.attribValue=e.attribName,M(e),D(e)):b(c,n)?e.state=v.ATTRIB_NAME_SAW_WHITE:b(g,n)?e.attribName+=n:w(e,"Invalid attribute name");continue;case v.ATTRIB_NAME_SAW_WHITE:if("="===n)e.state=v.ATTRIB_VALUE;else{if(b(c,n))continue;w(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",A(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===n?D(e):b(y,n)?(e.attribName=n,e.state=v.ATTRIB_NAME):(w(e,"Invalid attribute name"),e.state=v.ATTRIB)}continue;case v.ATTRIB_VALUE:if(b(c,n))continue;b(f,n)?(e.q=n,e.state=v.ATTRIB_VALUE_QUOTED):(w(e,"Unquoted attribute value"),e.state=v.ATTRIB_VALUE_UNQUOTED,e.attribValue=n);continue;case v.ATTRIB_VALUE_QUOTED:if(n!==e.q){"&"===n?e.state=v.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=n;continue}M(e),e.q="",e.state=v.ATTRIB_VALUE_CLOSED;continue;case v.ATTRIB_VALUE_CLOSED:b(c,n)?e.state=v.ATTRIB:">"===n?D(e):"/"===n?e.state=v.OPEN_TAG_SLASH:b(y,n)?(w(e,"No whitespace between attributes"),e.attribName=n,e.attribValue="",e.state=v.ATTRIB_NAME):w(e,"Invalid attribute name");continue;case v.ATTRIB_VALUE_UNQUOTED:if(T(p,n)){"&"===n?e.state=v.ATTRIB_VALUE_ENTITY_U:e.attribValue+=n;continue}M(e),">"===n?D(e):e.state=v.ATTRIB;continue;case v.CLOSE_TAG:if(e.tagName)">"===n?x(e):b(g,n)?e.tagName+=n:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=v.SCRIPT):(T(c,n)&&w(e,"Invalid tagname in closing tag"),e.state=v.CLOSE_TAG_SAW_WHITE);else{if(b(c,n))continue;T(y,n)?e.script?(e.script+="</"+n,e.state=v.SCRIPT):w(e,"Invalid tagname in closing tag."):e.tagName=n}continue;case v.CLOSE_TAG_SAW_WHITE:if(b(c,n))continue;">"===n?x(e):w(e,"Invalid characters in closing tag");continue;case v.TEXT_ENTITY:case v.ATTRIB_VALUE_ENTITY_Q:case v.ATTRIB_VALUE_ENTITY_U:switch(e.state){case v.TEXT_ENTITY:var s=v.TEXT,a="textNode";break;case v.ATTRIB_VALUE_ENTITY_Q:var s=v.ATTRIB_VALUE_QUOTED,a="attribValue";break;case v.ATTRIB_VALUE_ENTITY_U:var s=v.ATTRIB_VALUE_UNQUOTED,a="attribValue"}";"===n?(e[a]+=P(e),e.entity="",e.state=s):b(h,n)?e.entity+=n:(w(e,"Invalid character entity"),e[a]+="&"+e.entity+n,e.entity="",e.state=s);continue;default:throw new Error(e,"Unknown state: "+e.state)}e.position>=e.bufferCheckPosition&&function(t){for(var e=Math.max(u.MAX_BUFFER_LENGTH,10),r=0,n=0,i=l.length;n<i;n++){var o=t[l[n]].length;if(e<o)switch(l[n]){case"textNode":N(t);break;case"cdata":A(t,"oncdata",t.cdata),t.cdata="";break;case"script":A(t,"onscript",t.script),t.script="";break;default:I(t,"Max buffer length exceeded: "+l[n])}r=Math.max(r,o)}t.bufferCheckPosition=u.MAX_BUFFER_LENGTH-r+t.position}(e);return e},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;N(t=this),""!==t.cdata&&(A(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(A(t,"onscript",t.script),t.script="")}};try{var i=B("stream").Stream}catch(t){i=function(){}}var o=u.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});function s(t,e){if(!(this instanceof s))return new s(t,e);i.apply(this),this._parser=new n(t,e),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(t){r.emit("error",t),r._parser.error=null},this._decoder=null,o.forEach(function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t;r.on(e,t)},enumerable:!0,configurable:!1})})}(s.prototype=Object.create(i.prototype,{constructor:{value:s}})).write=function(t){if("function"==typeof U&&"function"==typeof U.isBuffer&&U.isBuffer(t)){if(!this._decoder){var e=B("string_decoder").StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},s.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===o.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),i.prototype.on.call(r,e,t)};var c="\r\n\t ",t="0124356789",e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",f="'\"",h=t+e+"#",p=c+">",d="[CDATA[",_="DOCTYPE",a="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",m={xml:a,xmlns:E};c=r(c),t=r(t),e=r(e);var y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function r(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function b(t,e){return r=t,"[object RegExp]"===Object.prototype.toString.call(r)?!!e.match(t):t[e];var r}function T(t,e){return!b(t,e)}f=r(f),h=r(h),p=r(p);var v=0;for(var v in u.STATE={BEGIN:v++,TEXT:v++,TEXT_ENTITY:v++,OPEN_WAKA:v++,SGML_DECL:v++,SGML_DECL_QUOTED:v++,DOCTYPE:v++,DOCTYPE_QUOTED:v++,DOCTYPE_DTD:v++,DOCTYPE_DTD_QUOTED:v++,COMMENT_STARTING:v++,COMMENT:v++,COMMENT_ENDING:v++,COMMENT_ENDED:v++,CDATA:v++,CDATA_ENDING:v++,CDATA_ENDING_2:v++,PROC_INST:v++,PROC_INST_BODY:v++,PROC_INST_ENDING:v++,OPEN_TAG:v++,OPEN_TAG_SLASH:v++,ATTRIB:v++,ATTRIB_NAME:v++,ATTRIB_NAME_SAW_WHITE:v++,ATTRIB_VALUE:v++,ATTRIB_VALUE_QUOTED:v++,ATTRIB_VALUE_CLOSED:v++,ATTRIB_VALUE_UNQUOTED:v++,ATTRIB_VALUE_ENTITY_Q:v++,ATTRIB_VALUE_ENTITY_U:v++,CLOSE_TAG:v++,CLOSE_TAG_SAW_WHITE:v++,SCRIPT:v++,SCRIPT_ENDING:v++},u.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(u.ENTITIES).forEach(function(t){var e=u.ENTITIES[t],r="number"==typeof e?String.fromCharCode(e):e;u.ENTITIES[t]=r}),u.STATE)u.STATE[u.STATE[v]]=v;function S(t,e,r){t[e]&&t[e](r)}function A(t,e,r){t.textNode&&N(t),S(t,e,r)}function N(t){t.textNode=O(t.opt,t.textNode),t.textNode&&S(t,"ontext",t.textNode),t.textNode=""}function O(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function I(t,e){return N(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,S(t,"onerror",e),t}function R(t){return t.closedRoot||w(t,"Unclosed root tag"),t.state!==v.BEGIN&&t.state!==v.TEXT&&I(t,"Unexpected end"),N(t),t.c="",t.closed=!0,S(t,"onend"),n.call(t,t.strict,t.opt),t}function w(t,e){if("object"!=typeof t||!(t instanceof n))throw new Error("bad call to strictFail");t.strict&&I(t,e)}function L(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,r=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(r.ns=e.ns),t.attribList.length=0}function C(t,e){var r=t.indexOf(":")<0?["",t]:t.split(":"),n=r[0],i=r[1];return e&&"xmlns"===t&&(n="xmlns",i=""),{prefix:n,local:i}}function M(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return t.attribName=t.attribValue="";if(t.opt.xmlns){var e=C(t.attribName,!0),r=e.prefix,n=e.local;if("xmlns"===r)if("xml"===n&&t.attribValue!==a)w(t,"xml: prefix must be bound to "+a+"\nActual: "+t.attribValue);else if("xmlns"===n&&t.attribValue!==E)w(t,"xmlns: prefix must be bound to "+E+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[n]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,A(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function D(e,t){if(e.opt.xmlns){var r=e.tag,n=C(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(w(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){A(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o],u=a[0],l=a[1],c=C(u,!0),f=c.prefix,h=c.local,p=""==f?"":r.ns[f]||"",d={name:u,value:l,prefix:f,local:h,uri:p};f&&"xmlns"!=f&&!p&&(w(e,"Unbound namespace prefix: "+JSON.stringify(f)),d.uri=f),e.tag.attributes[u]=d,A(e,"onattribute",d)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),A(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=v.TEXT:e.state=v.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function x(r){if(!r.tagName)return w(r,"Weird empty close tag."),r.textNode+="</>",void(r.state=v.TEXT);if(r.script){if("script"!==r.tagName)return r.script+="</"+r.tagName+">",r.tagName="",void(r.state=v.SCRIPT);A(r,"onscript",r.script),r.script=""}var t=r.tags.length,e=r.tagName;r.strict||(e=e[r.looseCase]());for(var n=e;t--;){if(r.tags[t].name===n)break;w(r,"Unexpected close tag")}if(t<0)return w(r,"Unmatched closing tag: "+r.tagName),r.textNode+="</"+r.tagName+">",void(r.state=v.TEXT);r.tagName=e;for(var i=r.tags.length;i-- >t;){var o=r.tag=r.tags.pop();r.tagName=r.tag.name,A(r,"onclosetag",r.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=r.tags[r.tags.length-1]||r;r.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var e=o.ns[t];A(r,"onclosenamespace",{prefix:t,uri:e})})}0===t&&(r.closedRoot=!0),r.tagName=r.attribValue=r.attribName="",r.attribList.length=0,r.state=v.TEXT}function P(t){var e,r=t.entity,n=r.toLowerCase(),i="";return t.ENTITIES[r]?t.ENTITIES[r]:t.ENTITIES[n]?t.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(e=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(e=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),i.toLowerCase()!==r?(w(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCharCode(e))}v=u.STATE}(void 0===e?sax={}:e)}).call(this,B("buffer").Buffer)},{buffer:55,stream:87,string_decoder:54}],87:[function(t,e,r){e.exports=n;var c=t("events").EventEmitter;function n(){c.call(this)}t("inherits")(n,c),n.Readable=t("readable-stream/readable.js"),n.Writable=t("readable-stream/writable.js"),n.Duplex=t("readable-stream/duplex.js"),n.Transform=t("readable-stream/transform.js"),n.PassThrough=t("readable-stream/passthrough.js"),(n.Stream=n).prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(t){if(l(),0===c.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",u),e.on("error",u),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},{events:58,inherits:63,"readable-stream/duplex.js":75,"readable-stream/passthrough.js":81,"readable-stream/readable.js":82,"readable-stream/transform.js":83,"readable-stream/writable.js":84}],88:[function(r,t,i){(function(u){var l=r("./lib/request"),t=r("./lib/response"),c=r("xtend"),e=r("builtin-status-codes"),f=r("url"),n=i;n.request=function(t,e){t="string"==typeof t?f.parse(t):c(t);var r=-1===u.location.protocol.search(/^https?:$/)?"http:":"",n=t.protocol||r,i=t.hostname||t.host,o=t.port,s=t.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),t.url=(i?n+"//"+i:"")+(o?":"+o:"")+s,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var a=new l(t);return e&&a.on("response",e),a},n.get=function(t,e){var r=n.request(t,e);return r.end(),r},n.ClientRequest=l,n.IncomingMessage=t.IncomingMessage,n.Agent=function(){},n.Agent.defaultMaxSockets=4,n.globalAgent=new n.Agent,n.STATUS_CODES=e,n.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":90,"./lib/response":91,"builtin-status-codes":56,url:111,xtend:216}],89:[function(t,e,o){(function(t){var e;function r(){if(void 0!==e)return e;if(t.XMLHttpRequest){e=new t.XMLHttpRequest;try{e.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){e=null}}else e=null;return e}function n(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}function i(t){return"function"==typeof t}o.fetch=i(t.fetch)&&i(t.ReadableStream),o.writableStream=i(t.WritableStream),o.abortController=i(t.AbortController),o.arraybuffer=o.fetch||n("arraybuffer"),o.msstream=!o.fetch&&n("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&n("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||!!r()&&i(r().overrideMimeType),e=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],90:[function(o,h,t){(function(u,l,s){var c=o("./capability"),t=o("inherits"),e=o("./response"),a=o("readable-stream"),r=e.IncomingMessage,f=e.readyStates;var n=h.exports=function(e){var t,r=this;a.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+s.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var n,i,o=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!c.abortController)t=!(o=!1);else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!c.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=(n=t,i=o,c.fetch&&i?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&n?"arraybuffer":"text"),r._fetchTimer=null,r.on("finish",function(){r._onFinish()})};t(n,a.Writable),n.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===i.indexOf(r)&&(this._headers[r]={name:t,value:e})},n.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},n.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},n.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,n=e._headers,r=null;"GET"!==t.method&&"HEAD"!==t.method&&(r=new Blob(e._body,{type:(n["content-type"]||{}).value||""}));var i=[];if(Object.keys(n).forEach(function(t){var e=n[t].name,r=n[t].value;Array.isArray(r)?r.forEach(function(t){i.push([e,t])}):i.push([e,r])}),"fetch"===e._mode){var o=null;if(c.abortController){var s=new AbortController;o=s.signal,e._fetchAbortController=s,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=l.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}l.fetch(e._opts.url,{method:e._opts.method,headers:i,body:r||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:o}).then(function(t){e._fetchResponse=t,e._connect()},function(t){l.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var a=e._xhr=new l.XMLHttpRequest;try{a.open(e._opts.method,e._opts.url,!0)}catch(t){return void u.nextTick(function(){e.emit("error",t)})}"responseType"in a&&(a.responseType=e._mode),"withCredentials"in a&&(a.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(a.timeout=t.requestTimeout,a.ontimeout=function(){e.emit("requestTimeout")}),i.forEach(function(t){a.setRequestHeader(t[0],t[1])}),e._response=null,a.onreadystatechange=function(){switch(a.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(a.onprogress=function(){e._onXHRProgress()}),a.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{a.send(r)}catch(t){return void u.nextTick(function(){e.emit("error",t)})}}}},n.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},n.prototype._connect=function(){var e=this;e._destroyed||(e._response=new r(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},n.prototype._write=function(t,e,r){this._body.push(t),r()},n.prototype.abort=n.prototype.destroy=function(){this._destroyed=!0,l.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},n.prototype.end=function(t,e,r){"function"==typeof t&&(r=t,t=void 0),a.Writable.prototype.end.call(this,t,e,r)},n.prototype.flushHeaders=function(){},n.prototype.setTimeout=function(){},n.prototype.setNoDelay=function(){},n.prototype.setSocketKeepAlive=function(){};var i=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,o("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},o("buffer").Buffer)},{"./capability":89,"./response":91,_process:71,buffer:55,inherits:63,"readable-stream":106}],91:[function(r,t,n){(function(l,c,f){var h=r("./capability"),t=r("inherits"),p=r("readable-stream"),a=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},e=n.IncomingMessage=function(t,e,r,n){var i=this;if(p.Readable.call(i),i._mode=r,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",function(){l.nextTick(function(){i.emit("close")})}),"fetch"===r){if(i._fetchResponse=e,i.url=e.url,i.statusCode=e.status,i.statusMessage=e.statusText,e.headers.forEach(function(t,e){i.headers[e.toLowerCase()]=t,i.rawHeaders.push(e,t)}),h.writableStream){var o=new WritableStream({write:function(r){return new Promise(function(t,e){i._destroyed?e():i.push(f.from(r))?t():i._resumeFetch=t})},close:function(){c.clearTimeout(n),i._destroyed||i.push(null)},abort:function(t){i._destroyed||i.emit("error",t)}});try{return void e.body.pipeTo(o).catch(function(t){c.clearTimeout(n),i._destroyed||i.emit("error",t)})}catch(t){}}var s=e.body.getReader();!function e(){s.read().then(function(t){if(!i._destroyed){if(t.done)return c.clearTimeout(n),void i.push(null);i.push(f.from(t.value)),e()}}).catch(function(t){c.clearTimeout(n),i._destroyed||i.emit("error",t)})}()}else{if(i._xhr=t,i._pos=0,i.url=t.responseURL,i.statusCode=t.status,i.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var r=e[1].toLowerCase();"set-cookie"===r?(void 0===i.headers[r]&&(i.headers[r]=[]),i.headers[r].push(e[2])):void 0!==i.headers[r]?i.headers[r]+=", "+e[2]:i.headers[r]=e[2],i.rawHeaders.push(e[1],e[2])}}),i._charset="x-user-defined",!h.overrideMimeType){var a=i.rawHeaders["mime-type"];if(a){var u=a.match(/;\s*charset=([^;])(;|$)/);u&&(i._charset=u[1].toLowerCase())}i._charset||(i._charset="utf-8")}}};t(e,p.Readable),e.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},e.prototype._onXHRProgress=function(){var t=this,e=t._xhr,r=null;switch(t._mode){case"text":if((r=e.responseText).length>t._pos){var n=r.substr(t._pos);if("x-user-defined"===t._charset){for(var i=f.alloc(n.length),o=0;o<n.length;o++)i[o]=255&n.charCodeAt(o);t.push(i)}else t.push(n,t._charset);t._pos=r.length}break;case"arraybuffer":if(e.readyState!==a.DONE||!e.response)break;r=e.response,t.push(f.from(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=e.response,e.readyState!==a.LOADING||!r)break;t.push(f.from(new Uint8Array(r)));break;case"ms-stream":if(r=e.response,e.readyState!==a.LOADING)break;var s=new c.MSStreamReader;s.onprogress=function(){s.result.byteLength>t._pos&&(t.push(f.from(new Uint8Array(s.result.slice(t._pos)))),t._pos=s.result.byteLength)},s.onload=function(){t.push(null)},s.readAsArrayBuffer(r)}t._xhr.readyState===a.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,r("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},r("buffer").Buffer)},{"./capability":89,_process:71,buffer:55,inherits:63,"readable-stream":106}],92:[function(t,e,r){"use strict";var n={};function i(t,a,e){e||(e=Error);var r=function(s){var t,e;function r(t,e,r){return s.call(this,(n=t,i=e,o=r,"string"==typeof a?a:a(n,i,o)))||this;var n,i,o}return e=s,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e,r}(e);r.prototype.name=e.name,r.prototype.code=t,n[t]=r}function d(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(t){return String(t)}),2<r?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(t,e,r){var n,i,o,s,a,u,l,c,f,h;if("string"==typeof e&&(i="not ",e.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",e=e.replace(/^not /,"")):n="must be",c=t,f=" argument",(void 0===h||h>c.length)&&(h=c.length),c.substring(h-f.length,h)===f)s="The ".concat(t," ").concat(n," ").concat(d(e,"type"));else{var p=("number"!=typeof l&&(l=0),l+(u=".").length>(a=t).length||-1===a.indexOf(u,l)?"argument":"property");s='The "'.concat(t,'" ').concat(p," ").concat(n," ").concat(d(e,"type"))}return s+=". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},{}],93:[function(t,e,r){(function(r){"use strict";var n=new Set;e.exports.emitExperimentalWarning=r.emitWarning?function(t){if(!n.has(t)){var e=t+" is an experimental feature. This feature could change at any time";n.add(t),r.emitWarning(e,"ExperimentalWarning")}}:function(){}}).call(this,t("_process"))},{_process:71}],94:[function(c,f,t){(function(t){"use strict";var e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};f.exports=a;var r=c("./_stream_readable"),n=c("./_stream_writable");c("inherits")(a,r);for(var i=e(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),n.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||t.nextTick(l,this)}function l(t){t.end()}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,c("_process"))},{"./_stream_readable":96,"./_stream_writable":98,_process:71,inherits:63}],95:[function(t,e,r){"use strict";e.exports=i;var n=t("./_stream_transform");function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}t("inherits")(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},{"./_stream_transform":97,inherits:63}],96:[function(k,j,t){(function(_,t){"use strict";var n;(j.exports=v).ReadableState=T;k("events").EventEmitter;var E=function(t,e){return t.listeners(e).length},i=k("./internal/streams/stream"),u=k("buffer").Buffer,l=t.Uint8Array||function(){};var m,e=k("util");m=e&&e.debuglog?e.debuglog("stream"):function(){};var o,r,s=k("./internal/streams/buffer_list"),a=k("./internal/streams/destroy"),c=k("./internal/streams/state").getHighWaterMark,f=k("../errors").codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_STREAM_PUSH_AFTER_EOF,d=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,g=k("../experimentalWarning").emitExperimentalWarning;k("inherits")(v,i);var b=["error","close","destroy","pause","resume"];function T(t,e,r){n=n||k("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=e instanceof n),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=c(this,t,"readableHighWaterMark",r),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o||(o=k("string_decoder/").StringDecoder),this.decoder=new o(t.encoding),this.encoding=t.encoding)}function v(t){if(n=n||k("./_stream_duplex"),!(this instanceof v))return new v(t);var e=this instanceof n;this._readableState=new T(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),i.call(this)}function S(t,e,r,n,i){m("readableAddChunk",e);var o,s,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?I(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}(t,a);else if(i||(o=function(t,e){var r;n=e,u.isBuffer(n)||n instanceof l||"string"==typeof e||void 0===e||t.objectMode||(r=new h("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(a,e)),o)t.emit("error",o);else if(a.objectMode||e&&0<e.length)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===u.prototype||(s=e,e=u.from(s)),n)a.endEmitted?t.emit("error",new y):A(t,a,e,!0);else if(a.ended)t.emit("error",new p);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?A(t,a,e,!1):w(t,a)):A(t,a,e,!1)}else n||(a.reading=!1,w(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function A(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&I(t)),w(t,e)}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=a.destroy,v.prototype._undestroy=a.undestroy,v.prototype._destroy=function(t,e){e(t)},v.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=u.from(t,e),e=""),r=!0),S(this,t,e,!1,r)},v.prototype.unshift=function(t){return S(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return o||(o=k("string_decoder/").StringDecoder),this._readableState.decoder=new o(t),this._readableState.encoding=this._readableState.decoder.encoding,this};var N=8388608;function O(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=(N<=(r=t)?r=N:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0));var r}function I(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(m("emitReadable",e.flowing),e.emittedReadable=!0,_.nextTick(R,t))}function R(t){var e=t._readableState;m("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||t.emit("readable"),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,x(t)}function w(t,e){e.readingMore||(e.readingMore=!0,_.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(m("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function C(t){var e=t._readableState;e.readableListening=0<t.listenerCount("readable"),e.resumeScheduled&&!e.paused?e.flowing=!0:0<t.listenerCount("data")&&t.resume()}function M(t){m("readable nexttick read 0"),t.read(0)}function D(t,e){m("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),x(t),e.flowing&&!e.reading&&t.read(0)}function x(t){var e=t._readableState;for(m("flow",e.flowing);e.flowing&&null!==t.read(););}function P(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function U(t){var e=t._readableState;m("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,_.nextTick(B,e,t))}function B(t,e){m("endReadableNT",t.endEmitted,t.length),t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function F(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}v.prototype.read=function(t){m("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:0<e.length)||e.ended))return m("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?U(this):I(this),null;if(0===(t=O(t,e))&&e.ended)return 0===e.length&&U(this),null;var n,i=e.needReadable;return m("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&m("length less than watermark",i=!0),e.ended||e.reading?m("reading or ended",i=!1):i&&(m("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=O(r,e))),null===(n=0<t?P(t,e):null)?(e.needReadable=!0,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&U(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(t){this.emit("error",new d("_read()"))},v.prototype.pipe=function(r,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r)}i.pipesCount+=1,m("pipe count=%d opts=%j",i.pipesCount,t);var e=(!t||!1!==t.end)&&r!==_.stdout&&r!==_.stderr?s:d;function o(t,e){m("onunpipe"),t===n&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,m("cleanup"),r.removeListener("close",h),r.removeListener("finish",p),r.removeListener("drain",u),r.removeListener("error",f),r.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",d),n.removeListener("data",c),l=!0,!i.awaitDrain||r._writableState&&!r._writableState.needDrain||u())}function s(){m("onend"),r.end()}i.endEmitted?_.nextTick(e):n.once("end",e),r.on("unpipe",o);var a,u=(a=n,function(){var t=a._readableState;m("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&E(a,"data")&&(t.flowing=!0,x(a))});r.on("drain",u);var l=!1;function c(t){m("ondata");var e=r.write(t);m("dest.write",e),!1===e&&((1===i.pipesCount&&i.pipes===r||1<i.pipesCount&&-1!==F(i.pipes,r))&&!l&&(m("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function f(t){m("onerror",t),d(),r.removeListener("error",f),0===E(r,"error")&&r.emit("error",t)}function h(){r.removeListener("finish",p),d()}function p(){m("onfinish"),r.removeListener("close",h),d()}function d(){m("unpipe"),n.unpipe(r)}return n.on("data",c),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(r,"error",f),r.once("close",h),r.once("finish",p),r.emit("pipe",n),i.flowing||(m("pipe resume"),n.resume()),r},v.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},v.prototype.addListener=v.prototype.on=function(t,e){var r=i.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=0<this.listenerCount("readable"),!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,m("on readable",n.length,n.reading),n.length?I(this):n.reading||_.nextTick(M,this))),r},v.prototype.removeListener=function(t,e){var r=i.prototype.removeListener.call(this,t,e);return"readable"===t&&_.nextTick(C,this),r},v.prototype.removeAllListeners=function(t){var e=i.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||_.nextTick(C,this),e},v.prototype.resume=function(){var t,e,r=this._readableState;return r.flowing||(m("resume"),r.flowing=!r.readableListening,t=this,(e=r).resumeScheduled||(e.resumeScheduled=!0,_.nextTick(D,t,e))),r.paused=!1,this},v.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},v.prototype.wrap=function(e){var r=this,n=this._readableState,i=!1;for(var t in e.on("end",function(){if(m("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),e.on("data",function(t){(m("wrapped data"),n.decoder&&(t=n.decoder.write(t)),n.objectMode&&null==t)||(n.objectMode||t&&t.length)&&(r.push(t)||(i=!0,e.pause()))}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){m("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(v.prototype[Symbol.asyncIterator]=function(){return g("Readable[Symbol.asyncIterator]"),void 0===r&&(r=k("./internal/streams/async_iterator")),r(this)}),Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(v.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(v.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),v._fromList=P,Object.defineProperty(v.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})}).call(this,k("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":92,"../experimentalWarning":93,"./_stream_duplex":94,"./internal/streams/async_iterator":99,"./internal/streams/buffer_list":100,"./internal/streams/destroy":101,"./internal/streams/state":104,"./internal/streams/stream":105,_process:71,buffer:55,events:58,inherits:63,"string_decoder/":107,util:52}],97:[function(t,e,r){"use strict";e.exports=l;var n=t("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,(r.writecb=null)!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function c(){var r=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,e){f(r,t,e)})}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}t("inherits")(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,function(t){e(t)})}},{"../errors":92,"./_stream_duplex":94,inherits:63}],98:[function(w,L,t){(function(E,t){"use strict";function f(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var i;(L.exports=_).WritableState=d;var e={deprecate:w("util-deprecate")},r=w("./internal/streams/stream"),m=w("buffer").Buffer,y=t.Uint8Array||function(){};var n,o=w("./internal/streams/destroy"),s=w("./internal/streams/state").getHighWaterMark,a=w("../errors").codes,g=a.ERR_INVALID_ARG_TYPE,u=a.ERR_METHOD_NOT_IMPLEMENTED,h=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_STREAM_CANNOT_PIPE,c=a.ERR_STREAM_DESTROYED,b=a.ERR_STREAM_NULL_VALUES,T=a.ERR_STREAM_WRITE_AFTER_END,p=a.ERR_UNKNOWN_ENCODING;function v(){}function d(t,e,r){i=i||w("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=e instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=s(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=(this.destroyed=!1)===t.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new h;if(f=r,f.writing=!1,f.writecb=null,f.length-=f.writelen,f.writelen=0,e)s=t,a=r,u=n,l=e,c=i,--a.pendingcb,u?(E.nextTick(c,l),E.nextTick(R,s,a),s._writableState.errorEmitted=!0,s.emit("error",l)):(c(l),s._writableState.errorEmitted=!0,s.emit("error",l),R(s,a));else{var o=O(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||N(t,r),n?E.nextTick(A,t,r,o,i):A(t,r,o,i)}var s,a,u,l,c;var f}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function _(t){var e=this instanceof(i=i||w("./_stream_duplex"));if(!e&&!n.call(_,this))return new _(t);this._writableState=new d(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),r.call(this)}function S(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new c("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function A(t,e,r,n){var i,o;r||(i=t,0===(o=e).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),e.pendingcb--,n(),R(t,e)}function N(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)(i[s]=r).isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,S(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new f(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,c=r.callback;if(S(t,e,!1,e.objectMode?1:u.length,u,l,c),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function O(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(e,r){e._final(function(t){r.pendingcb--,t&&e.emit("error",t),r.prefinished=!0,e.emit("prefinish"),R(e,r)})}function R(t,e){var r,n,i=O(e);return i&&(r=t,(n=e).prefinished||n.finalCalled||("function"!=typeof r._final||n.destroyed?(n.prefinished=!0,r.emit("prefinish")):(n.pendingcb++,n.finalCalled=!0,E.nextTick(I,r,n))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),i}w("inherits")(_,r),d.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(d.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(n=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!n.call(this,t)||this===_&&(t&&t._writableState instanceof d)}})):n=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new l)},_.prototype.write=function(t,e,r){var n,i,o,s,a,u,l,c,f,h,p=this._writableState,d=!1,_=!p.objectMode&&(n=t,m.isBuffer(n)||n instanceof y);return _&&!m.isBuffer(t)&&(i=t,t=m.from(i)),"function"==typeof e&&(r=e,e=null),_?e="buffer":e||(e=p.defaultEncoding),"function"!=typeof r&&(r=v),p.ending?(c=this,f=r,h=new T,c.emit("error",h),E.nextTick(f,h)):(_||(o=this,s=p,u=r,null===(a=t)?l=new b:"string"==typeof a||s.objectMode||(l=new g("chunk",["string","Buffer"],a)),!l||(o.emit("error",l),E.nextTick(u,l),0)))&&(p.pendingcb++,d=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=m.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,a,n,i,o);return u}(this,p,_,t,e,r)),d},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||N(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new p(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,r){r(new u("_write()"))},_.prototype._writev=null,_.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,e=t=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,R(t,e),r&&(e.finished?E.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=o.destroy,_.prototype._undestroy=o.undestroy,_.prototype._destroy=function(t,e){e(t)}}).call(this,w("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":92,"./_stream_duplex":94,"./internal/streams/destroy":101,"./internal/streams/state":104,"./internal/streams/stream":105,_process:71,buffer:55,inherits:63,"util-deprecate":113}],99:[function(n,E,t){(function(a){"use strict";var t;function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=n("./end-of-stream"),o=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function p(t,e){return{value:t,done:e}}function d(t){var e=t[o];if(null!==e){var r=t[h].read();null!==r&&(t[c]=null,t[o]=null,t[s]=null,e(p(r,!1)))}}var e=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((r(t={get stream(){return this[h]},next:function(){var r=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise(function(t,e){a.nextTick(function(){r[u]?e(r[u]):t(p(void 0,!0))})});var e,n,i,o=this[c];if(o)e=new Promise((n=o,i=this,function(t,e){n.then(function(){i[l]?t(p(void 0,!0)):i[f](t,e)},e)}));else{var s=this[h].read();if(null!==s)return Promise.resolve(p(s,!1));e=new Promise(this[f])}return this[c]=e}},Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var t=this;return new Promise(function(e,r){t[h].destroy(null,function(t){t?r(t):e(p(void 0,!0))})})}),t),e);E.exports=function(t){var e,n=Object.create(_,(r(e={},h,{value:t,writable:!0}),r(e,o,{value:null,writable:!0}),r(e,s,{value:null,writable:!0}),r(e,u,{value:null,writable:!0}),r(e,l,{value:t._readableState.endEmitted,writable:!0}),r(e,f,{value:function(t,e){var r=n[h].read();r?(n[c]=null,n[o]=null,n[s]=null,t(p(r,!1))):(n[o]=t,n[s]=e)},writable:!0}),e));return n[c]=null,i(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[s];return null!==e&&(n[c]=null,n[o]=null,n[s]=null,e(t)),void(n[u]=t)}var r=n[o];null!==r&&(n[c]=null,n[o]=null,r(p(void 0,!(n[s]=null)))),n[l]=!0}),t.on("readable",function(t){a.nextTick(d,t)}.bind(null,n)),n}}).call(this,n("_process"))},{"./end-of-stream":102,_process:71}],100:[function(t,e,r){"use strict";var a=t("buffer").Buffer,n=t("util").inspect,i=n&&n.custom||"inspect";e.exports=function(){function t(){this.head=null,this.tail=null,this.length=0}var e=t.prototype;return e.push=function(t){var e={data:t,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},e.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},e.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.clear=function(){this.head=this.tail=null,this.length=0},e.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},e.concat=function(t){if(0===this.length)return a.alloc(0);for(var e,r,n,i=a.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,r=i,n=s,a.prototype.copy.call(e,r,n),s+=o.data.length,o=o.next;return i},e.consume=function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r},e.first=function(){return this.head.data},e._getString=function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0===(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e).data=i.slice(o);break}++r}return this.length-=r,n},e._getBuffer=function(t){var e=a.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0===(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r).data=i.slice(o);break}++n}return this.length-=n,e},e[i]=function(t,e){return n(this,function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,r,n;e=i,n=o[r=t],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n})}return i}({},e,{depth:0,customInspect:!1}))},t}()},{buffer:55,util:52}],101:[function(t,e,r){(function(o){"use strict";function s(t,e){u(t,e),a(t)}function a(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function u(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||o.nextTick(u,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(o.nextTick(s,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e?(o.nextTick(a,r),e(t)):o.nextTick(a,r)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}).call(this,t("_process"))},{_process:71}],102:[function(t,e,r){"use strict";var m=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function y(){}e.exports=function t(e,r,n){if("function"==typeof r)return t(e,null,r);var i,o;r||(r={}),i=n||y,o=!1,n=function(){if(!o){o=!0;for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.apply(this,e)}};var s,a=r.readable||!1!==r.readable&&e.readable,u=r.writable||!1!==r.writable&&e.writable,l=function(){e.writable||f()},c=e._writableState&&e._writableState.finished,f=function(){c=!(u=!1),a||n.call(e)},h=e._readableState&&e._readableState.endEmitted,p=function(){h=!(a=!1),u||n.call(e)},d=function(t){n.call(e,t)},_=function(){var t;return a&&!h?(e._readableState&&e._readableState.ended||(t=new m),n.call(e,t)):u&&!c?(e._writableState&&e._writableState.ended||(t=new m),n.call(e,t)):void 0},E=function(){e.req.on("finish",f)};return(s=e).setHeader&&"function"==typeof s.abort?(e.on("complete",f),e.on("abort",_),e.req?E():e.on("request",E)):u&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",p),e.on("finish",f),!1!==r.error&&e.on("error",d),e.on("close",_),function(){e.removeListener("complete",f),e.removeListener("abort",_),e.removeListener("request",E),e.req&&e.req.removeListener("finish",f),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",f),e.removeListener("end",p),e.removeListener("error",d),e.removeListener("close",_)}}},{"../../../errors":92}],103:[function(u,t,e){"use strict";var l;var r=u("../../../errors").codes,a=r.ERR_MISSING_ARGS,c=r.ERR_STREAM_DESTROYED;function f(t){if(t)throw t}function h(t){t()}function p(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r,i,o=(r=n).length?"function"!=typeof r[r.length-1]?f:r.pop():f;if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new a("streams");var s=n.map(function(t,e){var r=e<n.length-1;return function(r,t,e,n){var i,o;i=n,o=!1;var s=!(n=function(){o||(o=!0,i.apply(void 0,arguments))});r.on("close",function(){s=!0}),void 0===l&&(l=u("./end-of-stream")),l(r,{readable:t,writable:e},function(t){if(t)return n(t);s=!0,n()});var a=!1;return function(t){var e;if(!s&&!a)return a=!0,(e=r).setHeader&&"function"==typeof e.abort?r.abort():"function"==typeof r.destroy?r.destroy():void n(t||new c("pipe"))}}(t,r,0<e,function(t){i||(i=t),t&&s.forEach(h),r||(s.forEach(h),o(i))})});return n.reduce(p)}},{"../../../errors":92,"./end-of-stream":102}],104:[function(t,e,r){"use strict";var u=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(t,e,r,n){var i,o,s,a=(o=n,s=r,null!=(i=e).highWaterMark?i.highWaterMark:o?i[s]:null);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new u(n?r:"highWaterMark",a);return Math.floor(a)}return t.objectMode?16:16384}}},{"../../../errors":92}],105:[function(t,e,r){e.exports=t("events").EventEmitter},{events:58}],106:[function(t,e,r){(((r=e.exports=t("./lib/_stream_readable.js")).Stream=r).Readable=r).Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js"),r.finished=t("./lib/internal/streams/end-of-stream.js"),r.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":94,"./lib/_stream_passthrough.js":95,"./lib/_stream_readable.js":96,"./lib/_stream_transform.js":97,"./lib/_stream_writable.js":98,"./lib/internal/streams/end-of-stream.js":102,"./lib/internal/streams/pipeline.js":103}],107:[function(t,e,r){arguments[4][54][0].apply(r,arguments)},{dup:54,"safe-buffer":85}],108:[function(t,e,r){var n=t("buffer").Buffer,i=n.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var o=r.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(t){if(t&&!i(t))throw new Error("Unknown encoding: "+t)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=u;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(t){return t.toString(this.encoding)}function a(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function u(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(t=t.slice(r,t.length),!(55296<=(i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived);var i;n=(e+=t.toString(this.encoding,0,n)).length-1;if(55296<=(i=e.charCodeAt(n))&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,n)}return e},o.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var r=t[t.length-e];if(1==e&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e},o.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e}},{buffer:55}],109:[function(u,t,l){(function(t,e){var n=u("process/browser.js").nextTick,r=Function.prototype.apply,i=Array.prototype.slice,o={},s=0;function a(t,e){this._id=t,this._clearFn=e}l.setTimeout=function(){return new a(r.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new a(r.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(t){t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},l.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},l._unrefActive=l.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},l.setImmediate="function"==typeof t?t:function(t){var e=s++,r=!(arguments.length<2)&&i.call(arguments,1);return o[e]=!0,n(function(){o[e]&&(r?t.apply(null,r):t.call(null),l.clearImmediate(e))}),e},l.clearImmediate="function"==typeof e?e:function(t){delete o[t]}}).call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":71,timers:109}],110:[function(t,V,G){(function(){var t=this,e=t._,n=Array.prototype,s=Object.prototype,r=Function.prototype,i=n.push,u=n.slice,f=s.toString,o=s.hasOwnProperty,a=Array.isArray,l=Object.keys,c=r.bind,h=Object.create,p=function(){},d=function(t){return t instanceof d?t:this instanceof d?void(this._wrapped=t):new d(t)};void 0!==G?(void 0!==V&&V.exports&&(G=V.exports=d),G._=d):t._=d,d.VERSION="1.8.3";var _=function(i,o,t){if(void 0===o)return i;switch(null==t?3:t){case 1:return function(t){return i.call(o,t)};case 2:return function(t,e){return i.call(o,t,e)};case 3:return function(t,e,r){return i.call(o,t,e,r)};case 4:return function(t,e,r,n){return i.call(o,t,e,r,n)}}return function(){return i.apply(o,arguments)}},E=function(t,e,r){return null==t?d.identity:d.isFunction(t)?_(t,e,r):d.isObject(t)?d.matcher(t):d.property(t)};d.iteratee=function(t,e){return E(t,e,1/0)};var m=function(u,l){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var r=1;r<e;r++)for(var n=arguments[r],i=u(n),o=i.length,s=0;s<o;s++){var a=i[s];l&&void 0!==t[a]||(t[a]=n[a])}return t}},y=function(t){if(!d.isObject(t))return{};if(h)return h(t);p.prototype=t;var e=new p;return p.prototype=null,e},g=function(e){return function(t){return null==t?void 0:t[e]}},b=Math.pow(2,53)-1,T=g("length"),v=function(t){var e=T(t);return"number"==typeof e&&0<=e&&e<=b};function S(a){return function(t,e,r,n){e=_(e,n,4);var i=!v(t)&&d.keys(t),o=(i||t).length,s=0<a?0:o-1;return arguments.length<3&&(r=t[i?i[s]:s],s+=a),function(t,e,r,n,i,o){for(;0<=i&&i<o;i+=a){var s=n?n[i]:i;r=e(r,t[s],s,t)}return r}(t,e,r,i,s,o)}}d.each=d.forEach=function(t,e,r){var n,i;if(e=_(e,r),v(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=d.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},d.map=d.collect=function(t,e,r){e=E(e,r);for(var n=!v(t)&&d.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},d.reduce=d.foldl=d.inject=S(1),d.reduceRight=d.foldr=S(-1),d.find=d.detect=function(t,e,r){var n;if(void 0!==(n=v(t)?d.findIndex(t,e,r):d.findKey(t,e,r))&&-1!==n)return t[n]},d.filter=d.select=function(t,n,e){var i=[];return n=E(n,e),d.each(t,function(t,e,r){n(t,e,r)&&i.push(t)}),i},d.reject=function(t,e,r){return d.filter(t,d.negate(E(e)),r)},d.every=d.all=function(t,e,r){e=E(e,r);for(var n=!v(t)&&d.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},d.some=d.any=function(t,e,r){e=E(e,r);for(var n=!v(t)&&d.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},d.contains=d.includes=d.include=function(t,e,r,n){return v(t)||(t=d.values(t)),("number"!=typeof r||n)&&(r=0),0<=d.indexOf(t,e,r)},d.invoke=function(t,r){var n=u.call(arguments,2),i=d.isFunction(r);return d.map(t,function(t){var e=i?r:t[r];return null==e?e:e.apply(t,n)})},d.pluck=function(t,e){return d.map(t,d.property(e))},d.where=function(t,e){return d.filter(t,d.matcher(e))},d.findWhere=function(t,e){return d.find(t,d.matcher(e))},d.max=function(t,n,e){var r,i,o=-1/0,s=-1/0;if(null==n&&null!=t)for(var a=0,u=(t=v(t)?t:d.values(t)).length;a<u;a++)r=t[a],o<r&&(o=r);else n=E(n,e),d.each(t,function(t,e,r){i=n(t,e,r),(s<i||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},d.min=function(t,n,e){var r,i,o=1/0,s=1/0;if(null==n&&null!=t)for(var a=0,u=(t=v(t)?t:d.values(t)).length;a<u;a++)(r=t[a])<o&&(o=r);else n=E(n,e),d.each(t,function(t,e,r){((i=n(t,e,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},d.shuffle=function(t){for(var e,r=v(t)?t:d.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=d.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},d.sample=function(t,e,r){return null==e||r?(v(t)||(t=d.values(t)),t[d.random(t.length-1)]):d.shuffle(t).slice(0,Math.max(0,e))},d.sortBy=function(t,n,e){return n=E(n,e),d.pluck(d.map(t,function(t,e,r){return{value:t,index:e,criteria:n(t,e,r)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(n<r||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(s){return function(n,i,t){var o={};return i=E(i,t),d.each(n,function(t,e){var r=i(t,e,n);s(o,t,r)}),o}};d.groupBy=A(function(t,e,r){d.has(t,r)?t[r].push(e):t[r]=[e]}),d.indexBy=A(function(t,e,r){t[r]=e}),d.countBy=A(function(t,e,r){d.has(t,r)?t[r]++:t[r]=1}),d.toArray=function(t){return t?d.isArray(t)?u.call(t):v(t)?d.map(t,d.identity):d.values(t):[]},d.size=function(t){return null==t?0:v(t)?t.length:d.keys(t).length},d.partition=function(t,n,e){n=E(n,e);var i=[],o=[];return d.each(t,function(t,e,r){(n(t,e,r)?i:o).push(t)}),[i,o]},d.first=d.head=d.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:d.initial(t,t.length-e)},d.initial=function(t,e,r){return u.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},d.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:d.rest(t,Math.max(0,t.length-e))},d.rest=d.tail=d.drop=function(t,e,r){return u.call(t,null==e||r?1:e)},d.compact=function(t){return d.filter(t,d.identity)};var N=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=T(t);s<a;s++){var u=t[s];if(v(u)&&(d.isArray(u)||d.isArguments(u))){e||(u=N(u,e,r));var l=0,c=u.length;for(i.length+=c;l<c;)i[o++]=u[l++]}else r||(i[o++]=u)}return i};function O(o){return function(t,e,r){e=E(e,r);for(var n=T(t),i=0<o?0:n-1;0<=i&&i<n;i+=o)if(e(t[i],i,t))return i;return-1}}function I(o,s,a){return function(t,e,r){var n=0,i=T(t);if("number"==typeof r)0<o?n=0<=r?r:Math.max(r+i,n):i=0<=r?Math.min(r+1,i):r+i+1;else if(a&&r&&i)return t[r=a(t,e)]===e?r:-1;if(e!=e)return 0<=(r=s(u.call(t,n,i),d.isNaN))?r+n:-1;for(r=0<o?n:i-1;0<=r&&r<i;r+=o)if(t[r]===e)return r;return-1}}d.flatten=function(t,e){return N(t,e,!1)},d.without=function(t){return d.difference(t,u.call(arguments,1))},d.uniq=d.unique=function(t,e,r,n){d.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=E(r,n));for(var i=[],o=[],s=0,a=T(t);s<a;s++){var u=t[s],l=r?r(u,s,t):u;e?(s&&o===l||i.push(u),o=l):r?d.contains(o,l)||(o.push(l),i.push(u)):d.contains(i,u)||i.push(u)}return i},d.union=function(){return d.uniq(N(arguments,!0,!0))},d.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=T(t);n<i;n++){var o=t[n];if(!d.contains(e,o)){for(var s=1;s<r&&d.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},d.difference=function(t){var e=N(arguments,!0,!0,1);return d.filter(t,function(t){return!d.contains(e,t)})},d.zip=function(){return d.unzip(arguments)},d.unzip=function(t){for(var e=t&&d.max(t,T).length||0,r=Array(e),n=0;n<e;n++)r[n]=d.pluck(t,n);return r},d.object=function(t,e){for(var r={},n=0,i=T(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},d.findIndex=O(1),d.findLastIndex=O(-1),d.sortedIndex=function(t,e,r,n){for(var i=(r=E(r,n,1))(e),o=0,s=T(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},d.indexOf=I(1,d.findIndex,d.sortedIndex),d.lastIndexOf=I(-1,d.findLastIndex),d.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var R=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=y(t.prototype),s=t.apply(o,i);return d.isObject(s)?s:o};d.bind=function(t,e){if(c&&t.bind===c)return c.apply(t,u.call(arguments,1));if(!d.isFunction(t))throw new TypeError("Bind must be called on a function");var r=u.call(arguments,2),n=function(){return R(t,n,e,this,r.concat(u.call(arguments)))};return n},d.partial=function(i){var o=u.call(arguments,1),s=function(){for(var t=0,e=o.length,r=Array(e),n=0;n<e;n++)r[n]=o[n]===d?arguments[t++]:o[n];for(;t<arguments.length;)r.push(arguments[t++]);return R(i,s,this,this,r)};return s},d.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=d.bind(t[r],t);return t},d.memoize=function(n,i){var o=function(t){var e=o.cache,r=""+(i?i.apply(this,arguments):t);return d.has(e,r)||(e[r]=n.apply(this,arguments)),e[r]};return o.cache={},o},d.delay=function(t,e){var r=u.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},d.defer=d.partial(d.delay,d,1),d.throttle=function(r,n,i){var o,s,a,u=null,l=0;i||(i={});var c=function(){l=!1===i.leading?0:d.now(),u=null,a=r.apply(o,s),u||(o=s=null)};return function(){var t=d.now();l||!1!==i.leading||(l=t);var e=n-(t-l);return o=this,s=arguments,e<=0||n<e?(u&&(clearTimeout(u),u=null),l=t,a=r.apply(o,s),u||(o=s=null)):u||!1===i.trailing||(u=setTimeout(c,e)),a}},d.debounce=function(e,r,n){var i,o,s,a,u,l=function(){var t=d.now()-a;t<r&&0<=t?i=setTimeout(l,r-t):(i=null,n||(u=e.apply(s,o),i||(s=o=null)))};return function(){s=this,o=arguments,a=d.now();var t=n&&!i;return i||(i=setTimeout(l,r)),t&&(u=e.apply(s,o),s=o=null),u}},d.wrap=function(t,e){return d.partial(e,t)},d.negate=function(t){return function(){return!t.apply(this,arguments)}},d.compose=function(){var r=arguments,n=r.length-1;return function(){for(var t=n,e=r[n].apply(this,arguments);t--;)e=r[t].call(this,e);return e}},d.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},d.before=function(t,e){var r;return function(){return 0<--t&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},d.once=d.partial(d.before,2);var w=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function C(t,e){var r=L.length,n=t.constructor,i=d.isFunction(n)&&n.prototype||s,o="constructor";for(d.has(t,o)&&!d.contains(e,o)&&e.push(o);r--;)(o=L[r])in t&&t[o]!==i[o]&&!d.contains(e,o)&&e.push(o)}d.keys=function(t){if(!d.isObject(t))return[];if(l)return l(t);var e=[];for(var r in t)d.has(t,r)&&e.push(r);return w&&C(t,e),e},d.allKeys=function(t){if(!d.isObject(t))return[];var e=[];for(var r in t)e.push(r);return w&&C(t,e),e},d.values=function(t){for(var e=d.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},d.mapObject=function(t,e,r){e=E(e,r);for(var n,i=d.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},d.pairs=function(t){for(var e=d.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},d.invert=function(t){for(var e={},r=d.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},d.functions=d.methods=function(t){var e=[];for(var r in t)d.isFunction(t[r])&&e.push(r);return e.sort()},d.extend=m(d.allKeys),d.extendOwn=d.assign=m(d.keys),d.findKey=function(t,e,r){e=E(e,r);for(var n,i=d.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},d.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;d.isFunction(e)?(i=d.allKeys(s),n=_(e,r)):(i=N(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var l=i[a],c=s[l];n(c,l,s)&&(o[l]=c)}return o},d.omit=function(t,e,r){if(d.isFunction(e))e=d.negate(e);else{var n=d.map(N(arguments,!1,!1,1),String);e=function(t,e){return!d.contains(n,e)}}return d.pick(t,e,r)},d.defaults=m(d.allKeys,!0),d.create=function(t,e){var r=y(t);return e&&d.extendOwn(r,e),r},d.clone=function(t){return d.isObject(t)?d.isArray(t)?t.slice():d.extend({},t):t},d.tap=function(t,e){return e(t),t},d.isMatch=function(t,e){var r=d.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var M=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof d&&(t=t._wrapped),e instanceof d&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(d.isFunction(s)&&s instanceof s&&d.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var u=(r=r||[]).length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!M(t[u],e[u],r,n))return!1}else{var l,c=d.keys(t);if(u=c.length,d.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!d.has(e,l)||!M(t[l],e[l],r,n))return!1}return r.pop(),n.pop(),!0};d.isEqual=function(t,e){return M(t,e)},d.isEmpty=function(t){return null==t||(v(t)&&(d.isArray(t)||d.isString(t)||d.isArguments(t))?0===t.length:0===d.keys(t).length)},d.isElement=function(t){return!(!t||1!==t.nodeType)},d.isArray=a||function(t){return"[object Array]"===f.call(t)},d.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},d.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){d["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(t){return d.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(d.isFunction=function(t){return"function"==typeof t||!1}),d.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},d.isNaN=function(t){return d.isNumber(t)&&t!==+t},d.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},d.isNull=function(t){return null===t},d.isUndefined=function(t){return void 0===t},d.has=function(t,e){return null!=t&&o.call(t,e)},d.noConflict=function(){return t._=e,this},d.identity=function(t){return t},d.constant=function(t){return function(){return t}},d.noop=function(){},d.property=g,d.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},d.matcher=d.matches=function(e){return e=d.extendOwn({},e),function(t){return d.isMatch(t,e)}},d.times=function(t,e,r){var n=Array(Math.max(0,t));e=_(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},d.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},d.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=d.invert(D),P=function(e){var r=function(t){return e[t]},t="(?:"+d.keys(e).join("|")+")",n=RegExp(t),i=RegExp(t,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,r):t}};d.escape=P(D),d.unescape=P(x),d.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),d.isFunction(n)?n.call(t):n};var U=0;d.uniqueId=function(t){var e=++U+"";return t?t+e:e},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},k=/\\|'|\r|\n|\u2028|\u2029/g,j=function(t){return"\\"+F[t]};d.template=function(o,t,e){!t&&e&&(t=e),t=d.defaults({},t,d.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(r,function(t,e,r,n,i){return a+=o.slice(s,i).replace(k,j),s=i+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":n&&(a+="';\n"+n+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var n=new Function(t.variable||"obj","_",a)}catch(t){throw t.source=a,t}var i=function(t){return n.call(this,t,d)},u=t.variable||"obj";return i.source="function("+u+"){\n"+a+"}",i},d.chain=function(t){var e=d(t);return e._chain=!0,e};var H=function(t,e){return t._chain?d(e).chain():e};d.mixin=function(r){d.each(d.functions(r),function(t){var e=d[t]=r[t];d.prototype[t]=function(){var t=[this._wrapped];return i.apply(t,arguments),H(this,e.apply(d,t))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var r=n[e];d.prototype[e]=function(){var t=this._wrapped;return r.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],H(this,t)}}),d.each(["concat","join","slice"],function(t){var e=n[t];d.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},d.prototype.valueOf=d.prototype.toJSON=d.prototype.value,d.prototype.toString=function(){return""+this._wrapped}}).call(this)},{}],111:[function(t,e,r){"use strict";var D=t("punycode"),x=t("./util");function I(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=o,r.resolve=function(t,e){return o(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?o(t,!1,!0).resolveObject(e):e},r.format=function(t){x.isString(t)&&(t=o(t));return t instanceof I?t.format():I.prototype.format.call(t)},r.Url=I;var P=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,U=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),B=["'"].concat(i),F=["%","/","?",";","#"].concat(B),k=["/","?","#"],j=/^[+a-z0-9A-Z_-]{0,63}$/,H=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,V={javascript:!0,"javascript:":!0},G={javascript:!0,"javascript:":!0},Y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},q=t("querystring");function o(t,e,r){if(t&&x.isObject(t)&&t instanceof I)return t;var n=new I;return n.parse(t,e,r),n}I.prototype.parse=function(t,e,r){if(!x.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",o=t.split(i);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(i);if(s=s.trim(),!r&&1===t.split("#").length){var a=U.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?q.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=P.exec(s);if(u){var l=(u=u[0]).toLowerCase();this.protocol=l,s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===s.substr(0,2);!c||u&&G[u]||(s=s.substr(2),this.slashes=!0)}if(!G[u]&&(c||u&&!Y[u])){for(var f,h,p=-1,d=0;d<k.length;d++){-1!==(_=s.indexOf(k[d]))&&(-1===p||_<p)&&(p=_)}-1!==(h=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(f=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(f)),p=-1;for(d=0;d<F.length;d++){var _;-1!==(_=s.indexOf(F[d]))&&(-1===p||_<p)&&(p=_)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var m=this.hostname.split(/\./),y=(d=0,m.length);d<y;d++){var g=m[d];if(g&&!g.match(j)){for(var b="",T=0,v=g.length;T<v;T++)127<g.charCodeAt(T)?b+="x":b+=g[T];if(!b.match(j)){var S=m.slice(0,d),A=m.slice(d+1),N=g.match(H);N&&(S.push(N[1]),A.unshift(N[2])),A.length&&(s="/"+A.join(".")+s),this.hostname=S.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=D.toASCII(this.hostname));var O=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+O,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!V[l])for(d=0,y=B.length;d<y;d++){var R=B[d];if(-1!==s.indexOf(R)){var w=encodeURIComponent(R);w===R&&(w=escape(R)),s=s.split(R).join(w)}}var L=s.indexOf("#");-1!==L&&(this.hash=s.substr(L),s=s.slice(0,L));var C=s.indexOf("?");if(-1!==C?(this.search=s.substr(C),this.query=s.substr(C+1),e&&(this.query=q.parse(this.query)),s=s.slice(0,C)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Y[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){O=this.pathname||"";var M=this.search||"";this.path=O+M}return this.href=this.format(),this},I.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&x.isObject(this.query)&&Object.keys(this.query).length&&(o=q.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||Y[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+n},I.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},I.prototype.resolveObject=function(t){if(x.isString(t)){var e=new I;e.parse(t,!1,!0),t=e}for(var r=new I,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(r[u]=t[u])}return Y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Y[t.protocol]){for(var l=Object.keys(t),c=0;c<l.length;c++){var f=l[c];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||G[t.protocol])r.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",d=r.search||"";r.path=p+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),E=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=E||_||r.host&&t.pathname,y=m,g=r.pathname&&r.pathname.split("/")||[],b=(h=t.pathname&&t.pathname.split("/")||[],r.protocol&&!Y[r.protocol]);if(b&&(r.hostname="",r.port=null,r.host&&(""===g[0]?g[0]=r.host:g.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),m=m&&(""===h[0]||""===g[0])),E)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,g=h;else if(h.length)g||(g=[]),g.pop(),g=g.concat(h),r.search=t.search,r.query=t.query;else if(!x.isNullOrUndefined(t.search)){if(b)r.hostname=r.host=g.shift(),(N=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=N.shift(),r.host=r.hostname=N.shift());return r.search=t.search,r.query=t.query,x.isNull(r.pathname)&&x.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!g.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=g.slice(-1)[0],v=(r.host||t.host||1<g.length)&&("."===T||".."===T)||""===T,S=0,A=g.length;0<=A;A--)"."===(T=g[A])?g.splice(A,1):".."===T?(g.splice(A,1),S++):S&&(g.splice(A,1),S--);if(!m&&!y)for(;S--;S)g.unshift("..");!m||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),v&&"/"!==g.join("/").substr(-1)&&g.push("");var N,O=""===g[0]||g[0]&&"/"===g[0].charAt(0);b&&(r.hostname=r.host=O?"":g.length?g.shift():"",(N=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=N.shift(),r.host=r.hostname=N.shift()));return(m=m||r.host&&g.length)&&!O&&g.unshift(""),g.length?r.pathname=g.join("/"):(r.pathname=null,r.path=null),x.isNull(r.pathname)&&x.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},I.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":112,punycode:53,querystring:74}],112:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],113:[function(t,e,r){(function(r){function n(t){try{if(!r.localStorage)return!1}catch(t){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],114:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],115:[function(t,e,r){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],116:[function(h,t,I){(function(n,i){var a=/%[sdj%]/g;I.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(u(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(t).replace(a,function(t){if("%%"===t)return"%";if(i<=r)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),s=n[r];r<i;s=n[++r])y(s)||!c(s)?o+=" "+s:o+=" "+u(s);return o},I.deprecate=function(t,e){if(T(i.process))return function(){return I.deprecate(t,e).apply(this,arguments)};if(!0===n.noDeprecation)return t;var r=!1;return function(){if(!r){if(n.throwDeprecation)throw new Error(e);n.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}};var t,o={};function u(t,e){var r={seen:[],stylize:l};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),m(e)?r.showHidden=e:e&&I._extend(r,e),T(r.showHidden)&&(r.showHidden=!1),T(r.depth)&&(r.depth=2),T(r.colors)&&(r.colors=!1),T(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,t,r.depth)}function s(t,e){var r=u.styles[e];return r?"["+u.colors[r][0]+"m"+t+"["+u.colors[r][1]+"m":t}function l(t,e){return t}function p(e,r,n){if(e.customInspect&&r&&N(r.inspect)&&r.inspect!==I.inspect&&(!r.constructor||r.constructor.prototype!==r)){var t=r.inspect(n,e);return b(t)||(t=p(e,t,n)),t}var i=function(t,e){if(T(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(g(e))return t.stylize(""+e,"number");if(m(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(e,r);if(i)return i;var o,s=Object.keys(r),a=(o={},s.forEach(function(t,e){o[t]=!0}),o);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),A(r)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return d(r);if(0===s.length){if(N(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(v(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(A(r))return d(r)}var l,c="",f=!1,h=["{","}"];(E(r)&&(f=!0,h=["[","]"]),N(r))&&(c=" [Function"+(r.name?": "+r.name:"")+"]");return v(r)&&(c=" "+RegExp.prototype.toString.call(r)),S(r)&&(c=" "+Date.prototype.toUTCString.call(r)),A(r)&&(c=" "+d(r)),0!==s.length||f&&0!=r.length?n<0?v(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=f?function(e,r,n,i,t){for(var o=[],s=0,a=r.length;s<a;++s)O(r,String(s))?o.push(_(e,r,n,i,String(s),!0)):o.push("");return t.forEach(function(t){t.match(/^\d+$/)||o.push(_(e,r,n,i,t,!0))}),o}(e,r,n,a,s):s.map(function(t){return _(e,r,n,a,t,f)}),e.seen.pop(),function(t,e,r){if(60<t.reduce(function(t,e){return 0,0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(l,c,h)):h[0]+c+h[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function _(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),O(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?-1<(a=y(r)?p(t,u.value,null):p(t,u.value,r-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),T(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function E(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return"number"==typeof t}function b(t){return"string"==typeof t}function T(t){return void 0===t}function v(t){return c(t)&&"[object RegExp]"===e(t)}function c(t){return"object"==typeof t&&null!==t}function S(t){return c(t)&&"[object Date]"===e(t)}function A(t){return c(t)&&("[object Error]"===e(t)||t instanceof Error)}function N(t){return"function"==typeof t}function e(t){return Object.prototype.toString.call(t)}function r(t){return t<10?"0"+t.toString(10):t.toString(10)}I.debuglog=function(e){if(T(t)&&(t=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(t)){var r=n.pid;o[e]=function(){var t=I.format.apply(I,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},(I.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},I.isArray=E,I.isBoolean=m,I.isNull=y,I.isNullOrUndefined=function(t){return null==t},I.isNumber=g,I.isString=b,I.isSymbol=function(t){return"symbol"==typeof t},I.isUndefined=T,I.isRegExp=v,I.isObject=c,I.isDate=S,I.isError=A,I.isFunction=N,I.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},I.isBuffer=h("./support/isBuffer");var f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[r(t.getHours()),r(t.getMinutes()),r(t.getSeconds())].join(":"),[t.getDate(),f[t.getMonth()],e].join(" ")),I.format.apply(I,arguments))},I.inherits=h("inherits"),I._extend=function(t,e){if(!e||!c(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,h("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":115,_process:71,inherits:114}],117:[function(t,e,r){var n=t("./v1"),i=t("./v4"),o=i;o.v1=n,o.v4=i,e.exports=o},{"./v1":120,"./v4":121}],118:[function(t,e,r){for(var i=[],n=0;n<256;++n)i[n]=(n+256).toString(16).substr(1);e.exports=function(t,e){var r=e||0,n=i;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}},{}],119:[function(t,e,r){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var o=new Array(16);e.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},{}],120:[function(t,e,r){var d,_,E=t("./lib/rng"),m=t("./lib/bytesToUuid"),y=0,g=0;e.exports=function(t,e,r){var n=e&&r||0,i=e||[],o=(t=t||{}).node||d,s=void 0!==t.clockseq?t.clockseq:_;if(null==o||null==s){var a=E();null==o&&(o=d=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=_=16383&(a[6]<<8|a[7]))}var u=void 0!==t.msecs?t.msecs:(new Date).getTime(),l=void 0!==t.nsecs?t.nsecs:g+1,c=u-y+(l-g)/1e4;if(c<0&&void 0===t.clockseq&&(s=s+1&16383),(c<0||y<u)&&void 0===t.nsecs&&(l=0),1e4<=l)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=u,_=s;var f=(1e4*(268435455&(u+=122192928e5))+(g=l))%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=255&f;var h=u/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=255&h,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var p=0;p<6;++p)i[n+p]=o[p];return e||m(i)}},{"./lib/bytesToUuid":118,"./lib/rng":119}],121:[function(t,e,r){var s=t("./lib/rng"),a=t("./lib/bytesToUuid");e.exports=function(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[n+o]=i[o];return e||a(i)}},{"./lib/bytesToUuid":118,"./lib/rng":119}],122:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Et(t("./lib/toDate")),i=Et(t("./lib/toFloat")),o=Et(t("./lib/toInt")),s=Et(t("./lib/toBoolean")),a=Et(t("./lib/equals")),u=Et(t("./lib/contains")),l=Et(t("./lib/matches")),c=Et(t("./lib/isEmail")),f=Et(t("./lib/isURL")),h=Et(t("./lib/isMACAddress")),p=Et(t("./lib/isIP")),d=Et(t("./lib/isFQDN")),_=Et(t("./lib/isBoolean")),E=Et(t("./lib/isAlpha")),m=Et(t("./lib/isAlphanumeric")),y=Et(t("./lib/isNumeric")),g=Et(t("./lib/isPort")),b=Et(t("./lib/isLowercase")),T=Et(t("./lib/isUppercase")),v=Et(t("./lib/isAscii")),S=Et(t("./lib/isFullWidth")),A=Et(t("./lib/isHalfWidth")),N=Et(t("./lib/isVariableWidth")),O=Et(t("./lib/isMultibyte")),I=Et(t("./lib/isSurrogatePair")),R=Et(t("./lib/isInt")),w=Et(t("./lib/isFloat")),L=Et(t("./lib/isDecimal")),C=Et(t("./lib/isHexadecimal")),M=Et(t("./lib/isDivisibleBy")),D=Et(t("./lib/isHexColor")),x=Et(t("./lib/isISRC")),P=Et(t("./lib/isMD5")),U=Et(t("./lib/isHash")),B=Et(t("./lib/isJSON")),F=Et(t("./lib/isEmpty")),k=Et(t("./lib/isLength")),j=Et(t("./lib/isByteLength")),H=Et(t("./lib/isUUID")),V=Et(t("./lib/isMongoId")),G=Et(t("./lib/isAfter")),Y=Et(t("./lib/isBefore")),q=Et(t("./lib/isIn")),X=Et(t("./lib/isCreditCard")),W=Et(t("./lib/isISIN")),K=Et(t("./lib/isISBN")),z=Et(t("./lib/isISSN")),$=Et(t("./lib/isMobilePhone")),Q=Et(t("./lib/isCurrency")),Z=Et(t("./lib/isISO8601")),J=Et(t("./lib/isISO31661Alpha2")),tt=Et(t("./lib/isBase64")),et=Et(t("./lib/isDataURI")),rt=Et(t("./lib/isMimeType")),nt=Et(t("./lib/isLatLong")),it=Et(t("./lib/isPostalCode")),ot=Et(t("./lib/ltrim")),st=Et(t("./lib/rtrim")),at=Et(t("./lib/trim")),ut=Et(t("./lib/escape")),lt=Et(t("./lib/unescape")),ct=Et(t("./lib/stripLow")),ft=Et(t("./lib/whitelist")),ht=Et(t("./lib/blacklist")),pt=Et(t("./lib/isWhitelisted")),dt=Et(t("./lib/normalizeEmail")),_t=Et(t("./lib/util/toString"));function Et(t){return t&&t.__esModule?t:{default:t}}var mt={version:"9.4.1",toDate:n.default,toFloat:i.default,toInt:o.default,toBoolean:s.default,equals:a.default,contains:u.default,matches:l.default,isEmail:c.default,isURL:f.default,isMACAddress:h.default,isIP:p.default,isFQDN:d.default,isBoolean:_.default,isAlpha:E.default,isAlphanumeric:m.default,isNumeric:y.default,isPort:g.default,isLowercase:b.default,isUppercase:T.default,isAscii:v.default,isFullWidth:S.default,isHalfWidth:A.default,isVariableWidth:N.default,isMultibyte:O.default,isSurrogatePair:I.default,isInt:R.default,isFloat:w.default,isDecimal:L.default,isHexadecimal:C.default,isDivisibleBy:M.default,isHexColor:D.default,isISRC:x.default,isMD5:P.default,isHash:U.default,isJSON:B.default,isEmpty:F.default,isLength:k.default,isByteLength:j.default,isUUID:H.default,isMongoId:V.default,isAfter:G.default,isBefore:Y.default,isIn:q.default,isCreditCard:X.default,isISIN:W.default,isISBN:K.default,isISSN:z.default,isMobilePhone:$.default,isPostalCode:it.default,isCurrency:Q.default,isISO8601:Z.default,isISO31661Alpha2:J.default,isBase64:tt.default,isDataURI:et.default,isMimeType:rt.default,isLatLong:nt.default,ltrim:ot.default,rtrim:st.default,trim:at.default,escape:ut.default,unescape:lt.default,stripLow:ct.default,whitelist:ft.default,blacklist:ht.default,isWhitelisted:pt.default,normalizeEmail:dt.default,toString:_t.default};r.default=mt,e.exports=r.default},{"./lib/blacklist":124,"./lib/contains":125,"./lib/equals":126,"./lib/escape":127,"./lib/isAfter":128,"./lib/isAlpha":129,"./lib/isAlphanumeric":130,"./lib/isAscii":131,"./lib/isBase64":132,"./lib/isBefore":133,"./lib/isBoolean":134,"./lib/isByteLength":135,"./lib/isCreditCard":136,"./lib/isCurrency":137,"./lib/isDataURI":138,"./lib/isDecimal":139,"./lib/isDivisibleBy":140,"./lib/isEmail":141,"./lib/isEmpty":142,"./lib/isFQDN":143,"./lib/isFloat":144,"./lib/isFullWidth":145,"./lib/isHalfWidth":146,"./lib/isHash":147,"./lib/isHexColor":148,"./lib/isHexadecimal":149,"./lib/isIP":150,"./lib/isISBN":151,"./lib/isISIN":152,"./lib/isISO31661Alpha2":153,"./lib/isISO8601":154,"./lib/isISRC":155,"./lib/isISSN":156,"./lib/isIn":157,"./lib/isInt":158,"./lib/isJSON":159,"./lib/isLatLong":160,"./lib/isLength":161,"./lib/isLowercase":162,"./lib/isMACAddress":163,"./lib/isMD5":164,"./lib/isMimeType":165,"./lib/isMobilePhone":166,"./lib/isMongoId":167,"./lib/isMultibyte":168,"./lib/isNumeric":169,"./lib/isPort":170,"./lib/isPostalCode":171,"./lib/isSurrogatePair":172,"./lib/isURL":173,"./lib/isUUID":174,"./lib/isUppercase":175,"./lib/isVariableWidth":176,"./lib/isWhitelisted":177,"./lib/ltrim":178,"./lib/matches":179,"./lib/normalizeEmail":180,"./lib/rtrim":181,"./lib/stripLow":182,"./lib/toBoolean":183,"./lib/toDate":184,"./lib/toFloat":185,"./lib/toInt":186,"./lib/trim":187,"./lib/unescape":188,"./lib/util/toString":191,"./lib/whitelist":192}],123:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});for(var n,i=r.alpha={"en-US":/^[A-Z]+$/i,"bg-BG":/^[-]+$/i,"cs-CZ":/^[A-Z]+$/i,"da-DK":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"el-GR":/^[-]+$/i,"es-ES":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"it-IT":/^[A-Z]+$/i,"nb-NO":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"nn-NO":/^[A-Z]+$/i,"hu-HU":/^[A-Z]+$/i,"pl-PL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[-]+$/i,"sk-SK":/^[A-Z]+$/i,"sr-RS@latin":/^[A-Z]+$/i,"sr-RS":/^[-]+$/i,"sv-SE":/^[A-Z]+$/i,"tr-TR":/^[A-Z]+$/i,"uk-UA":/^[-I]+$/i,ar:/^[]+$/},o=r.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"bg-BG":/^[0-9-]+$/i,"cs-CZ":/^[0-9A-Z]+$/i,"da-DK":/^[0-9A-Z]+$/i,"de-DE":/^[0-9A-Z]+$/i,"el-GR":/^[0-9-]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"it-IT":/^[0-9A-Z]+$/i,"hu-HU":/^[0-9A-Z]+$/i,"nb-NO":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"nn-NO":/^[0-9A-Z]+$/i,"pl-PL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9-]+$/i,"sk-SK":/^[0-9A-Z]+$/i,"sr-RS@latin":/^[0-9A-Z]+$/i,"sr-RS":/^[0-9-]+$/i,"sv-SE":/^[0-9A-Z]+$/i,"tr-TR":/^[0-9A-Z]+$/i,"uk-UA":/^[0-9-I]+$/i,ar:/^[0-9]+$/},s=r.decimal={"en-US":".",ar:""},a=r.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],u=0;u<a.length;u++)i[n="en-"+a[u]]=i["en-US"],o[n]=o["en-US"],s[n]=s["en-US"];for(var l,c=r.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],f=0;f<c.length;f++)i[l="ar-"+c[f]]=i.ar,o[l]=o.ar,s[l]=s.ar;for(var h=r.dotDecimal=[],p=r.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","es-ES","fr-FR","it-IT","hu-HU","nb-NO","nn-NO","nl-NL","pl-Pl","pt-PT","ru-RU","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA"],d=0;d<h.length;d++)s[h[d]]=s["en-US"];for(var _=0;_<p.length;_++)s[p[_]]=",";i["pt-BR"]=i["pt-PT"],o["pt-BR"]=o["pt-PT"],s["pt-BR"]=s["pt-PT"]},{}],124:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return(0,o.default)(t),t.replace(new RegExp("["+e+"]+","g"),"")};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],125:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return(0,n.default)(t),0<=t.indexOf((0,i.default)(e))};var n=o(t("./util/assertString")),i=o(t("./util/toString"));function o(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default},{"./util/assertString":189,"./util/toString":191}],126:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return(0,o.default)(t),t===e};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],127:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],128:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,i.default)(t);var r=(0,o.default)(e),n=(0,o.default)(t);return!!(n&&r&&r<n)};var i=n(t("./util/assertString")),o=n(t("./toDate"));function n(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default},{"./toDate":184,"./util/assertString":189}],129:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,o.default)(t),e in s.alpha)return s.alpha[e].test(t);throw new Error("Invalid locale '"+e+"'")};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n},s=t("./alpha");e.exports=r.default},{"./alpha":123,"./util/assertString":189}],130:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,o.default)(t),e in s.alphanumeric)return s.alphanumeric[e].test(t);throw new Error("Invalid locale '"+e+"'")};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n},s=t("./alpha");e.exports=r.default},{"./alpha":123,"./util/assertString":189}],131:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^[\x00-\x7F]+$/;e.exports=r.default},{"./util/assertString":189}],132:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){(0,o.default)(t);var e=t.length;if(!e||e%4!=0||s.test(t))return!1;var r=t.indexOf("=");return-1===r||r===e-1||r===e-2&&"="===t[e-1]};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/[^A-Z0-9+\/=]/i;e.exports=r.default},{"./util/assertString":189}],133:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,i.default)(t);var r=(0,o.default)(e),n=(0,o.default)(t);return!!(n&&r&&n<r)};var i=n(t("./util/assertString")),o=n(t("./toDate"));function n(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default},{"./toDate":184,"./util/assertString":189}],134:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),0<=["true","false","1","0"].indexOf(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],135:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t,e){(0,s.default)(t);var r=void 0,n=void 0;"object"===(void 0===e?"undefined":o(e))?(r=e.min||0,n=e.max):(r=e,n=arguments[2]);var i=encodeURI(t).split(/%..|./).length-1;return r<=i&&(void 0===n||i<=n)};var n,i=t("./util/assertString"),s=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],136:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){(0,a.default)(t);var e=t.replace(/[- ]+/g,"");if(!u.test(e))return!1;for(var r=0,n=void 0,i=void 0,o=void 0,s=e.length-1;0<=s;s--)n=e.substring(s,s+1),i=parseInt(n,10),r+=o&&10<=(i*=2)?i%10+1:i,o=!o;return!(r%10!=0||!e)};var n,i=t("./util/assertString"),a=(n=i)&&n.__esModule?n:{default:n};var u=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|62[0-9]{14})$/;e.exports=r.default},{"./util/assertString":189}],137:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return(0,i.default)(t),function(t){var r="\\d{"+t.digits_after_decimal[0]+"}";t.digits_after_decimal.forEach(function(t,e){0!==e&&(r=r+"|\\d{"+t+"}")});var e="(\\"+t.symbol.replace(/\./g,"\\.")+")"+(t.require_symbol?"":"?"),n="[1-9]\\d{0,2}(\\"+t.thousands_separator+"\\d{3})*",i="("+["0","[1-9]\\d*",n].join("|")+")?",o="(\\"+t.decimal_separator+"("+r+"))"+(t.require_decimal?"":"?"),s=i+(t.allow_decimal||t.require_decimal?o:"");return t.allow_negatives&&!t.parens_for_negatives&&(t.negative_sign_after_digits?s+="-?":t.negative_sign_before_digits&&(s="-?"+s)),t.allow_negative_sign_placeholder?s="( (?!\\-))?"+s:t.allow_space_after_symbol?s=" ?"+s:t.allow_space_after_digits&&(s+="( (?!$))?"),t.symbol_after_digits?s+=e:s=e+s,t.allow_negatives&&(t.parens_for_negatives?s="(\\("+s+"\\)|"+s+")":t.negative_sign_before_digits||t.negative_sign_after_digits||(s="-?"+s)),new RegExp("^(?!-? )(?=.*\\d)"+s+"$")}(e=(0,n.default)(e,s)).test(t)};var n=o(t("./util/merge")),i=o(t("./util/assertString"));function o(t){return t&&t.__esModule?t:{default:t}}var s={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};e.exports=r.default},{"./util/assertString":189,"./util/merge":190}],138:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){(0,a.default)(t);var e=t.split(",");if(e.length<2)return!1;var r=e.shift().trim().split(";"),n=r.shift();if("data:"!==n.substr(0,5))return!1;var i=n.substr(5);if(""!==i&&!u.test(i))return!1;for(var o=0;o<r.length;o++)if(o===r.length-1&&"base64"===r[o].toLowerCase());else if(!l.test(r[o]))return!1;for(var s=0;s<e.length;s++)if(!c.test(e[s]))return!1;return!0};var n,i=t("./util/assertString"),a=(n=i)&&n.__esModule?n:{default:n};var u=/^[a-z]+\/[a-z0-9\-\+]+$/i,l=/^[a-z\-]+=[a-z0-9\-]+$/i,c=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;e.exports=r.default},{"./util/assertString":189}],139:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){if((0,i.default)(t),(e=(0,n.default)(e,a)).locale in o.decimal)return!u.includes(t.replace(/ /g,""))&&(r=e,new RegExp("^[-+]?([0-9]+)?(\\"+o.decimal[r.locale]+"[0-9]{"+r.decimal_digits+"})"+(r.force_decimal?"":"?")+"$")).test(t);var r;throw new Error("Invalid locale '"+e.locale+"'")};var n=s(t("./util/merge")),i=s(t("./util/assertString")),o=t("./alpha");function s(t){return t&&t.__esModule?t:{default:t}}var a={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},u=["","-","+"];e.exports=r.default},{"./alpha":123,"./util/assertString":189,"./util/merge":190}],140:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return(0,n.default)(t),(0,i.default)(t)%parseInt(e,10)==0};var n=o(t("./util/assertString")),i=o(t("./toFloat"));function o(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default},{"./toFloat":185,"./util/assertString":189}],141:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){if((0,c.default)(t),(e=(0,f.default)(e,d)).require_display_name||e.allow_display_name){var r=t.match(_);if(r)t=r[1];else if(e.require_display_name)return!1}var n=t.split("@"),i=n.pop(),o=n.join("@"),s=i.toLowerCase();"gmail.com"!==s&&"googlemail.com"!==s||(o=o.replace(/\./g,"").toLowerCase());if(!(0,h.default)(o,{max:64})||!(0,h.default)(i,{max:254}))return!1;if(!(0,p.default)(i,{require_tld:e.require_tld}))return!1;if('"'===o[0])return o=o.slice(1,o.length-1),e.allow_utf8_local_part?g.test(o):m.test(o);for(var a=e.allow_utf8_local_part?y:E,u=o.split("."),l=0;l<u.length;l++)if(!a.test(u[l]))return!1;return!0};var c=n(t("./util/assertString")),f=n(t("./util/merge")),h=n(t("./isByteLength")),p=n(t("./isFQDN"));function n(t){return t&&t.__esModule?t:{default:t}}var d={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},_=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,E=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,y=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=r.default},{"./isByteLength":135,"./isFQDN":143,"./util/assertString":189,"./util/merge":190}],142:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),0===t.length};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],143:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){(0,s.default)(t),(e=(0,a.default)(e,u)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var r=t.split(".");if(e.require_tld){var n=r.pop();if(!r.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(n))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(n))return!1}for(var i,o=0;o<r.length;o++){if(i=r[o],e.allow_underscores&&(i=i.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(i))return!1;if(/[\uff01-\uff5e]/.test(i))return!1;if("-"===i[0]||"-"===i[i.length-1])return!1}return!0};var s=n(t("./util/assertString")),a=n(t("./util/merge"));function n(t){return t&&t.__esModule?t:{default:t}}var u={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=r.default},{"./util/assertString":189,"./util/merge":190}],144:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){(0,o.default)(t),e=e||{};var r=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\"+(e.locale?s.decimal[e.locale]:".")+"[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$");if(""===t||"."===t||"-"===t||"+"===t)return!1;return r.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)&&(!e.hasOwnProperty("lt")||t<e.lt)&&(!e.hasOwnProperty("gt")||t>e.gt)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n},s=t("./alpha");e.exports=r.default},{"./alpha":123,"./util/assertString":189}],145:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fullWidth=void 0,r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=r.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},{"./util/assertString":189}],146:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.halfWidth=void 0,r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=r.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},{"./util/assertString":189}],147:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return(0,o.default)(t),new RegExp("^[a-f0-9]{"+s[e]+"}$").test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};e.exports=r.default},{"./util/assertString":189}],148:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;e.exports=r.default},{"./util/assertString":189}],149:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^[0-9A-F]+$/i;e.exports=r.default},{"./util/assertString":189}],150:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function t(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";(0,l.default)(e);r=String(r);{if(!r)return t(e,4)||t(e,6);if("4"===r){if(!c.test(e))return!1;var n=e.split(".").sort(function(t,e){return t-e});return n[3]<=255}if("6"===r){var i=e.split(":"),o=!1,s=t(i[i.length-1],4),a=s?7:8;if(i.length>a)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(i.shift(),i.shift(),o=!0):"::"===e.substr(e.length-2)&&(i.pop(),i.pop(),o=!0);for(var u=0;u<i.length;++u)if(""===i[u]&&0<u&&u<i.length-1){if(o)return!1;o=!0}else if(s&&u===i.length-1);else if(!f.test(i[u]))return!1;return o?1<=i.length:i.length===a}}return!1};var n,i=t("./util/assertString"),l=(n=i)&&n.__esModule?n:{default:n};var c=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,f=/^[0-9A-F]{1,4}$/i;e.exports=r.default},{"./util/assertString":189}],151:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function t(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";(0,s.default)(e);r=String(r);if(!r)return t(e,10)||t(e,13);var n=e.replace(/[\s-]+/g,"");var i=0;var o=void 0;if("10"===r){if(!a.test(n))return!1;for(o=0;o<9;o++)i+=(o+1)*n.charAt(o);if("X"===n.charAt(9)?i+=100:i+=10*n.charAt(9),i%11==0)return!!n}else if("13"===r){if(!u.test(n))return!1;for(o=0;o<12;o++)i+=l[o%2]*n.charAt(o);if(n.charAt(12)-(10-i%10)%10==0)return!!n}return!1};var n,i=t("./util/assertString"),s=(n=i)&&n.__esModule?n:{default:n};var a=/^(?:[0-9]{9}X|[0-9]{10})$/,u=/^(?:[0-9]{13})$/,l=[1,3];e.exports=r.default},{"./util/assertString":189}],152:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){if((0,a.default)(t),!u.test(t))return!1;for(var e=t.replace(/[A-Z]/g,function(t){return parseInt(t,36)}),r=0,n=void 0,i=void 0,o=!0,s=e.length-2;0<=s;s--)n=e.substring(s,s+1),i=parseInt(n,10),r+=o&&10<=(i*=2)?i+1:i,o=!o;return parseInt(t.substr(t.length-1),10)===(1e4-r)%10};var n,i=t("./util/assertString"),a=(n=i)&&n.__esModule?n:{default:n};var u=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=r.default},{"./util/assertString":189}],153:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.includes(t.toUpperCase())};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];e.exports=r.default},{"./util/assertString":189}],154:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;e.exports=r.default},{"./util/assertString":189}],155:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;e.exports=r.default},{"./util/assertString":189}],156:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,p.default)(t);var r=d;if(r=e.require_hyphen?r.replace("?",""):r,!(r=e.case_sensitive?new RegExp(r):new RegExp(r,"i")).test(t))return!1;var n=t.replace("-",""),i=8,o=0,s=!0,a=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var f=l.value,h="X"===f.toUpperCase()?10:+f;o+=h*i,--i}}catch(t){a=!0,u=t}finally{try{!s&&c.return&&c.return()}finally{if(a)throw u}}return o%11==0};var n,i=t("./util/assertString"),p=(n=i)&&n.__esModule?n:{default:n};var d="^\\d{4}-?\\d{3}[\\dX]$";e.exports=r.default},{"./util/assertString":189}],157:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t,e){(0,o.default)(t);var r=void 0;{if("[object Array]"===Object.prototype.toString.call(e)){var n=[];for(r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=(0,s.default)(e[r]));return 0<=n.indexOf(t)}if("object"===(void 0===e?"undefined":i(e)))return e.hasOwnProperty(t);if(e&&"function"==typeof e.indexOf)return 0<=e.indexOf(t)}return!1};var o=n(t("./util/assertString")),s=n(t("./util/toString"));function n(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default},{"./util/assertString":189,"./util/toString":191}],158:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){(0,a.default)(t);var r=(e=e||{}).hasOwnProperty("allow_leading_zeroes")&&!e.allow_leading_zeroes?u:l,n=!e.hasOwnProperty("min")||t>=e.min,i=!e.hasOwnProperty("max")||t<=e.max,o=!e.hasOwnProperty("lt")||t<e.lt,s=!e.hasOwnProperty("gt")||t>e.gt;return r.test(t)&&n&&i&&o&&s};var n,i=t("./util/assertString"),a=(n=i)&&n.__esModule?n:{default:n};var u=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,l=/^[-+]?[0-9]+$/;e.exports=r.default},{"./util/assertString":189}],159:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t){(0,s.default)(t);try{var e=JSON.parse(t);return!!e&&"object"===(void 0===e?"undefined":n(e))}catch(t){}return!1};var i,o=t("./util/assertString"),s=(i=o)&&i.__esModule?i:{default:i};e.exports=r.default},{"./util/assertString":189}],160:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){if((0,o.default)(t),!t.includes(","))return!1;var e=t.split(",");return s.test(e[0])&&a.test(e[1])};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,a=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/;e.exports=r.default},{"./util/assertString":189}],161:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t,e){(0,a.default)(t);var r=void 0,n=void 0;"object"===(void 0===e?"undefined":s(e))?(r=e.min||0,n=e.max):(r=e,n=arguments[2]);var i=t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],o=t.length-i.length;return r<=o&&(void 0===n||o<=n)};var n,i=t("./util/assertString"),a=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],162:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),t===t.toLowerCase()};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],163:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;e.exports=r.default},{"./util/assertString":189}],164:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^[a-f0-9]{32}$/;e.exports=r.default},{"./util/assertString":189}],165:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)||a.test(t)||u.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,a=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,u=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;e.exports=r.default},{"./util/assertString":189}],166:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e,r){if((0,o.default)(t),r&&r.strictMode&&!t.startsWith("+"))return!1;{if(e in s)return s[e].test(t);if("any"===e){for(var n in s)if(s.hasOwnProperty(n)){var i=s[n];if(i.test(t))return!0}return!1}}throw new Error("Invalid locale '"+e+"'")};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[012]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)?[7]\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0[1-9])[\s|\d]+$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^(\+?55|0)\-?[1-9]{2}\-?[2-9]{1}\d{3,4}\-?\d{4}$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"zh-CN":/^(\+?0?86\-?)?1[3456789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};s["en-CA"]=s["en-US"],s["fr-BE"]=s["nl-BE"],s["zh-HK"]=s["en-HK"],e.exports=r.default},{"./util/assertString":189}],167:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,n.default)(t),(0,i.default)(t)&&24===t.length};var n=o(t("./util/assertString")),i=o(t("./isHexadecimal"));function o(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default},{"./isHexadecimal":149,"./util/assertString":189}],168:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/[^\x00-\x7F]/;e.exports=r.default},{"./util/assertString":189}],169:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^[-+]?[0-9]+$/;e.exports=r.default},{"./util/assertString":189}],170:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t,{min:0,max:65535})};var n,i=t("./isInt"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./isInt":158}],171:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.locales=void 0,r.default=function(t,e){if((0,o.default)(t),e in l)return l[e].test(t);if("any"===e){for(var r in l){if(l.hasOwnProperty(r))if(l[r].test(t))return!0}return!1}throw new Error("Invalid locale '"+e+"'")};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/^\d{4}$/,a=/^\d{5}$/,u=/^\d{6}$/,l={AT:s,AU:s,BE:s,BG:s,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:s,CZ:/^\d{3}\s?\d{2}$/,DE:a,DK:s,DZ:a,ES:a,FI:a,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,IL:a,IN:u,IS:/^\d{3}$/,IT:a,JP:/^\d{3}\-\d{4}$/,KE:a,LI:/^(948[5-9]|949[0-7])$/,MX:a,NL:/^\d{4}\s?[a-z]{2}$/i,NO:s,PL:/^\d{2}\-\d{3}$/,PT:/^\d{4}\-\d{3}?$/,RO:u,RU:u,SA:a,SE:/^\d{3}\s?\d{2}$/,TW:/^\d{3}(\d{2})?$/,US:/^\d{5}(-\d{4})?$/,ZA:s,ZM:a};r.locales=Object.keys(l)},{"./util/assertString":189}],172:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=r.default},{"./util/assertString":189}],173:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){if((0,f.default)(t),!t||2083<=t.length||/[\s<>]/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;e=(0,d.default)(e,_);var r=void 0,n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,u=void 0,l=void 0;if(1<(u=(t=(u=(t=(u=t.split("#")).shift()).split("?")).shift()).split("://")).length){if(r=u.shift(),e.require_valid_protocol&&-1===e.protocols.indexOf(r))return!1}else{if(e.require_protocol)return!1;e.allow_protocol_relative_urls&&"//"===t.substr(0,2)&&(u[0]=t.substr(2))}if(""===(t=u.join("://")))return!1;if(""===(t=(u=t.split("/")).shift())&&!e.require_host)return!0;if(1<(u=t.split("@")).length&&0<=(n=u.shift()).indexOf(":")&&2<n.split(":").length)return!1;o=u.join("@"),l=a=null;var c=o.match(E);c?(i="",l=c[1],a=c[2]||null):(u=o.split(":"),i=u.shift(),u.length&&(a=u.join(":")));if(null!==a&&(s=parseInt(a,10),!/^[0-9]+$/.test(a)||s<=0||65535<s))return!1;if(!((0,p.default)(i)||(0,h.default)(i,e)||l&&(0,p.default)(l,6)))return!1;if(i=i||l,e.host_whitelist&&!m(i,e.host_whitelist))return!1;if(e.host_blacklist&&m(i,e.host_blacklist))return!1;return!0};var f=n(t("./util/assertString")),h=n(t("./isFQDN")),p=n(t("./isIP")),d=n(t("./util/merge"));function n(t){return t&&t.__esModule?t:{default:t}}var _={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},E=/^\[([^\]]+)\](?::([0-9]+))?$/;function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(t===n||(i=n,"[object RegExp]"===Object.prototype.toString.call(i)&&n.test(t)))return!0}var i;return!1}e.exports=r.default},{"./isFQDN":143,"./isIP":150,"./util/assertString":189,"./util/merge":190}],174:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"all";(0,o.default)(t);var r=s[e];return r&&r.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};var s={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=r.default},{"./util/assertString":189}],175:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),t===t.toUpperCase()};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],176:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),s.fullWidth.test(t)&&a.halfWidth.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n},s=t("./isFullWidth"),a=t("./isHalfWidth");e.exports=r.default},{"./isFullWidth":145,"./isHalfWidth":146,"./util/assertString":189}],177:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){(0,o.default)(t);for(var r=t.length-1;0<=r;r--)if(-1===e.indexOf(t[r]))return!1;return!0};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],178:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){(0,o.default)(t);var r=e?new RegExp("^["+e+"]+","g"):/^\s+/g;return t.replace(r,"")};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],179:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e,r){(0,o.default)(t),"[object RegExp]"!==Object.prototype.toString.call(e)&&(e=new RegExp(e,r));return e.test(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],180:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){e=(0,s.default)(e,a);var r=t.split("@"),n=r.pop(),i=[r.join("@"),n];if(i[1]=i[1].toLowerCase(),"gmail.com"===i[1]||"googlemail.com"===i[1]){if(e.gmail_remove_subaddress&&(i[0]=i[0].split("+")[0]),e.gmail_remove_dots&&(i[0]=i[0].replace(/\./g,"")),!i[0].length)return!1;(e.all_lowercase||e.gmail_lowercase)&&(i[0]=i[0].toLowerCase()),i[1]=e.gmail_convert_googlemaildotcom?"gmail.com":i[1]}else if(~u.indexOf(i[1])){if(e.icloud_remove_subaddress&&(i[0]=i[0].split("+")[0]),!i[0].length)return!1;(e.all_lowercase||e.icloud_lowercase)&&(i[0]=i[0].toLowerCase())}else if(~l.indexOf(i[1])){if(e.outlookdotcom_remove_subaddress&&(i[0]=i[0].split("+")[0]),!i[0].length)return!1;(e.all_lowercase||e.outlookdotcom_lowercase)&&(i[0]=i[0].toLowerCase())}else if(~c.indexOf(i[1])){if(e.yahoo_remove_subaddress){var o=i[0].split("-");i[0]=1<o.length?o.slice(0,-1).join("-"):o[0]}if(!i[0].length)return!1;(e.all_lowercase||e.yahoo_lowercase)&&(i[0]=i[0].toLowerCase())}else e.all_lowercase&&(i[0]=i[0].toLowerCase());return i.join("@")};var n,i=t("./util/merge"),s=(n=i)&&n.__esModule?n:{default:n};var a={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},u=["icloud.com","me.com"],l=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],c=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"];e.exports=r.default},{"./util/merge":190}],181:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){(0,o.default)(t);var r=e?new RegExp("["+e+"]"):/\s/,n=t.length-1;for(;0<=n&&r.test(t[n]);)n--;return n<t.length?t.substr(0,n+1):t};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],182:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){(0,n.default)(t);var r=e?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,i.default)(t,r)};var n=o(t("./util/assertString")),i=o(t("./blacklist"));function o(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default},{"./blacklist":124,"./util/assertString":189}],183:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){if((0,o.default)(t),e)return"1"===t||"true"===t;return"0"!==t&&"false"!==t&&""!==t};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],184:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),t=Date.parse(t),isNaN(t)?null:new Date(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],185:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),parseFloat(t)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],186:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return(0,o.default)(t),parseInt(t,e||10)};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],187:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return(0,n.default)((0,i.default)(t,e),e)};var n=o(t("./rtrim")),i=o(t("./ltrim"));function o(t){return t&&t.__esModule?t:{default:t}}e.exports=r.default},{"./ltrim":178,"./rtrim":181}],188:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return(0,o.default)(t),t.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`")};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],189:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){if(!("string"==typeof t||t instanceof String))throw new TypeError("This library (validator.js) validates strings only")},e.exports=r.default},{}],190:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t},e.exports=r.default},{}],191:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t){"object"===(void 0===t?"undefined":n(t))&&null!==t?t="function"==typeof t.toString?t.toString():"[object Object]":(null==t||isNaN(t)&&!t.length)&&(t="");return String(t)},e.exports=r.default},{}],192:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e){return(0,o.default)(t),t.replace(new RegExp("[^"+e+"]+","g"),"")};var n,i=t("./util/assertString"),o=(n=i)&&n.__esModule?n:{default:n};e.exports=r.default},{"./util/assertString":189}],193:[function(e,t,a){(function(s){(function(){var t,h,n,o={}.hasOwnProperty,r=function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i=function(t,e){return function(){return t.apply(e,arguments)}};n=e("sax"),t=e("events"),h=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},a.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,async:!1,strict:!0},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,childkey:"$$",charsAsChildren:!1,async:!1,strict:!0}},a.ValidationError=function(t){function e(t){this.message=t}return r(e,t),e}(Error),a.Parser=function(t){function e(t){var e,r,n;if(this.parseString=i(this.parseString,this),this.reset=i(this.reset,this),!(this instanceof a.Parser))return new a.Parser(t);for(e in this.options={},n=a.defaults[.2])o.call(n,e)&&(r=n[e],this.options[e]=r);for(e in t)o.call(t,e)&&(r=t[e],this.options[e]=r);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.reset()}return r(e,t),e.prototype.reset=function(){var i,u,l,r,c,f=this;return this.removeAllListeners(),this.saxParser=n.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),l=!1,this.saxParser.onerror=function(t){if(!l)return l=!0,f.emit("error",t)},this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,c=[],i=this.options.attrkey,u=this.options.charkey,this.saxParser.onopentag=function(t){var e,r,n;if((r={})[u]="",!f.options.ignoreAttrs)for(e in n=t.attributes)o.call(n,e)&&(i in r||f.options.mergeAttrs||(r[i]={}),f.options.mergeAttrs?r[e]=t.attributes[e]:r[i][e]=t.attributes[e]);return r["#name"]=f.options.normalizeTags?t.name.toLowerCase():t.name,f.options.xmlns&&(r[f.options.xmlnskey]={uri:t.uri,local:t.local}),c.push(r)},this.saxParser.onclosetag=function(){var t,e,n,r,i,o,s,a;if(r=(i=c.pop())["#name"],delete i["#name"],t=i.cdata,delete i.cdata,s=c[c.length-1],i[u].match(/^\s*$/)&&!t?(e=i[u],delete i[u]):(f.options.trim&&(i[u]=i[u].trim()),f.options.normalize&&(i[u]=i[u].replace(/\s{2,}/g," ").trim()),1===Object.keys(i).length&&u in i&&!f.EXPLICIT_CHARKEY&&(i=i[u])),h(i)&&(i=void 0!==f.options.emptyTag?f.options.emptyTag:e),null!=f.options.validator){a="/"+function(){var t,e,r;for(r=[],t=0,e=c.length;t<e;t++)n=c[t],r.push(n["#name"]);return r}().concat(r).join("/");try{i=f.options.validator(a,s&&s[r],i)}catch(t){l=t,f.emit("error",l)}}return f.options.explicitChildren&&!f.options.mergeAttrs&&"object"==typeof i&&(n={},f.options.attrkey in i&&(n[f.options.attrkey]=i[f.options.attrkey],delete i[f.options.attrkey]),!f.options.charsAsChildren&&f.options.charkey in i&&(n[f.options.charkey]=i[f.options.charkey],delete i[f.options.charkey]),0<Object.getOwnPropertyNames(i).length&&(n[f.options.childkey]=i),i=n),0<c.length?f.options.explicitArray?(s[r]instanceof Array||(s[r]=[]),s[r].push(i)):r in s?(s[r]instanceof Array||(o=s[r],s[r]=[o]),s[r].push(i)):s[r]=i:(f.options.explicitRoot&&(o=i,(i={})[r]=o),f.resultObject=i,f.emit("end",f.resultObject))},r=function(t){var e;if(e=c[c.length-1])return e[u]+=t,e},this.saxParser.ontext=r,this.saxParser.oncdata=function(t){var e;if(e=r(t))return e.cdata=!0}},e.prototype.parseString=function(t,e){return null!=e&&"function"==typeof e&&(this.on("end",function(t){return this.reset(),this.options.async?s.nextTick(function(){return e(null,t)}):e(null,t)}),this.on("error",function(t){return this.reset(),this.options.async?s.nextTick(function(){return e(t)}):e(t)})),""===t.toString().trim()?(this.emit("end",null),!0):this.saxParser.write(t.toString())},e}(t.EventEmitter),a.parseString=function(t,e,r){var n,i;return null!=r?("function"==typeof r&&(n=r),"object"==typeof e&&(i=e)):("function"==typeof e&&(n=e),i={}),new a.Parser(i).parseString(t,n)}}).call(this)}).call(this,e("_process"))},{_process:71,events:58,sax:86}],194:[function(t,o,e){(function(){var t,r,e,s,n,i,a=[].slice,u={}.hasOwnProperty;t=function(){var t,e,r,n,i,o;if(o=arguments[0],i=2<=arguments.length?a.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(t=0,r=i.length;t<r;t++)if(null!=(n=i[t]))for(e in n)u.call(n,e)&&(o[e]=n[e]);return o},s=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},n=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},r=function(t){return s(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},e=function(t){var e;if(r(t))return!t.length;for(e in t)if(u.call(t,e))return!1;return!0},i=function(t){var e,r;return n(t)&&(r=Object.getPrototypeOf(t))&&(e=r.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},o.exports.assign=t,o.exports.isFunction=s,o.exports.isObject=n,o.exports.isArray=r,o.exports.isEmpty=e,o.exports.isPlainObject=i}).call(this)},{}],195:[function(t,e,r){(function(){e.exports=function(){function t(t,e,r){if(this.options=t.options,this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==r)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},t}()}).call(this)},{}],196:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(e)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).cdata(this)},r}()}).call(this)},{"./XMLNode":207}],197:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing comment text");this.text=this.stringify.comment(e)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).comment(this)},r}()}).call(this)},{"./XMLNode":207}],198:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function s(t,e,r,n,i,o){if(s.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name");if(null==r)throw new Error("Missing DTD attribute name");if(!n)throw new Error("Missing DTD attribute type");if(!i)throw new Error("Missing DTD attribute default");if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(o&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(e),this.attributeName=this.stringify.attName(r),this.attributeType=this.stringify.dtdAttType(n),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=i}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(s,e),s.prototype.toString=function(t){return this.options.writer.set(t).dtdAttList(this)},s}()}).call(this)},{"./XMLNode":207}],199:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function n(t,e,r){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing DTD element name");r||(r="(#PCDATA)"),Array.isArray(r)&&(r="("+r.join(",")+")"),this.name=this.stringify.eleName(e),this.value=this.stringify.dtdElementValue(r)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,e),n.prototype.toString=function(t){return this.options.writer.set(t).dtdElement(this)},n}()}).call(this)},{"./XMLNode":207}],200:[function(t,r,e){(function(){var e,o,s={}.hasOwnProperty;o=t("./Utility").isObject,e=t("./XMLNode"),r.exports=function(t){function i(t,e,r,n){if(i.__super__.constructor.call(this,t),null==r)throw new Error("Missing entity name");if(null==n)throw new Error("Missing entity value");if(this.pe=!!e,this.name=this.stringify.eleName(r),o(n)){if(!n.pubID&&!n.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(n.pubID&&!n.sysID)throw new Error("System identifier is required for a public external entity");if(null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID)),null!=n.nData&&(this.nData=this.stringify.dtdNData(n.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(n)}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(i,e),i.prototype.toString=function(t){return this.options.writer.set(t).dtdEntity(this)},i}()}).call(this)},{"./Utility":194,"./XMLNode":207}],201:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function n(t,e,r){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing notation name");if(!r.pubID&&!r.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(e),null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID))}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,e),n.prototype.toString=function(t){return this.options.writer.set(t).dtdNotation(this)},n}()}).call(this)},{"./XMLNode":207}],202:[function(t,r,e){(function(){var e,s,i={}.hasOwnProperty;s=t("./Utility").isObject,e=t("./XMLNode"),r.exports=function(t){function o(t,e,r,n){var i;o.__super__.constructor.call(this,t),s(e)&&(e=(i=e).version,r=i.encoding,n=i.standalone),e||(e="1.0"),this.version=this.stringify.xmlVersion(e),null!=r&&(this.encoding=this.stringify.xmlEncoding(r)),null!=n&&(this.standalone=this.stringify.xmlStandalone(n))}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(o,e),o.prototype.toString=function(t){return this.options.writer.set(t).declaration(this)},o}()}).call(this)},{"./Utility":194,"./XMLNode":207}],203:[function(t,r,e){(function(){var s,n,i,a,e,u,l={}.hasOwnProperty;u=t("./Utility").isObject,e=t("./XMLNode"),s=t("./XMLDTDAttList"),i=t("./XMLDTDEntity"),n=t("./XMLDTDElement"),a=t("./XMLDTDNotation"),r.exports=function(t){function o(t,e,r){var n,i;o.__super__.constructor.call(this,t),this.documentObject=t,u(e)&&(e=(n=e).pubID,r=n.sysID),null==r&&(r=(i=[e,r])[0],e=i[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=r&&(this.sysID=this.stringify.dtdSysID(r))}return function(t,e){for(var r in e)l.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(o,e),o.prototype.element=function(t,e){var r;return r=new n(this,t,e),this.children.push(r),this},o.prototype.attList=function(t,e,r,n,i){var o;return o=new s(this,t,e,r,n,i),this.children.push(o),this},o.prototype.entity=function(t,e){var r;return r=new i(this,!1,t,e),this.children.push(r),this},o.prototype.pEntity=function(t,e){var r;return r=new i(this,!0,t,e),this.children.push(r),this},o.prototype.notation=function(t,e){var r;return r=new a(this,t,e),this.children.push(r),this},o.prototype.toString=function(t){return this.options.writer.set(t).docType(this)},o.prototype.ele=function(t,e){return this.element(t,e)},o.prototype.att=function(t,e,r,n,i){return this.attList(t,e,r,n,i)},o.prototype.ent=function(t,e){return this.entity(t,e)},o.prototype.pent=function(t,e){return this.pEntity(t,e)},o.prototype.not=function(t,e){return this.notation(t,e)},o.prototype.up=function(){return this.root()||this.documentObject},o}()}).call(this)},{"./Utility":194,"./XMLDTDAttList":198,"./XMLDTDElement":199,"./XMLDTDEntity":200,"./XMLDTDNotation":201,"./XMLNode":207}],204:[function(t,e,r){(function(){var r,n,i,o,s={}.hasOwnProperty;o=t("./Utility").isPlainObject,r=t("./XMLNode"),i=t("./XMLStringifier"),n=t("./XMLStringWriter"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,null),t||(t={}),t.writer||(t.writer=new n),this.options=t,this.stringify=new i(t),this.isDocument=!0}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.end=function(t){var e;return t?o(t)&&(e=t,t=this.options.writer.set(e)):t=this.options.writer,t.document(this)},e.prototype.toString=function(t){return this.options.writer.set(t).document(this)},e}()}).call(this)},{"./Utility":194,"./XMLNode":207,"./XMLStringWriter":211,"./XMLStringifier":212}],205:[function(e,T,t){(function(){var i,r,n,s,o,a,u,l,c,f,h,p,d,_,E,m,y,g,t,b={}.hasOwnProperty;t=e("./Utility"),y=t.isObject,m=t.isFunction,g=t.isPlainObject,f=e("./XMLElement"),r=e("./XMLCData"),n=e("./XMLComment"),p=e("./XMLRaw"),E=e("./XMLText"),h=e("./XMLProcessingInstruction"),l=e("./XMLDeclaration"),c=e("./XMLDocType"),s=e("./XMLDTDAttList"),a=e("./XMLDTDEntity"),o=e("./XMLDTDElement"),u=e("./XMLDTDNotation"),i=e("./XMLAttribute"),_=e("./XMLStringifier"),d=e("./XMLStringWriter"),T.exports=function(){function t(t,e,r){var n;t||(t={}),t.writer?g(t.writer)&&(n=t.writer,t.writer=new d(n)):t.writer=new d(t),this.options=t,this.writer=t.writer,this.stringify=new _(t),this.onDataCallback=e||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.node=function(t,e,r){var n;if(null==t)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),t=t.valueOf(),null==e&&(e={}),e=e.valueOf(),y(e)||(r=(n=[e,r])[0],e=n[1]),this.currentNode=new f(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},t.prototype.element=function(t,e,r){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(t,e,r)},t.prototype.attribute=function(t,e){var r,n;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=t&&(t=t.valueOf()),y(t))for(r in t)b.call(t,r)&&(n=t[r],this.attribute(r,n));else m(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.currentNode.attributes[t]=new i(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new E(this,t),this.onData(this.writer.text(e,this.currentLevel+1)),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new r(this,t),this.onData(this.writer.cdata(e,this.currentLevel+1)),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new n(this,t),this.onData(this.writer.comment(e,this.currentLevel+1)),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new p(this,t),this.onData(this.writer.raw(e,this.currentLevel+1)),this},t.prototype.instruction=function(t,e){var r,n,i,o,s;if(this.openCurrent(),null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(r=0,o=t.length;r<o;r++)n=t[r],this.instruction(n);else if(y(t))for(n in t)b.call(t,n)&&(i=t[n],this.instruction(n,i));else m(e)&&(e=e.apply()),s=new h(this,t,e),this.onData(this.writer.processingInstruction(s,this.currentLevel+1));return this},t.prototype.declaration=function(t,e,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return n=new l(this,t,e,r),this.onData(this.writer.declaration(n,this.currentLevel+1)),this},t.prototype.doctype=function(t,e,r){if(this.openCurrent(),null==t)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new c(this,e,r),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var r;return this.openCurrent(),r=new o(this,t,e),this.onData(this.writer.dtdElement(r,this.currentLevel+1)),this},t.prototype.attList=function(t,e,r,n,i){var o;return this.openCurrent(),o=new s(this,t,e,r,n,i),this.onData(this.writer.dtdAttList(o,this.currentLevel+1)),this},t.prototype.entity=function(t,e){var r;return this.openCurrent(),r=new a(this,!1,t,e),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},t.prototype.pEntity=function(t,e){var r;return this.openCurrent(),r=new a(this,!0,t,e),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},t.prototype.notation=function(t,e){var r;return this.openCurrent(),r=new u(this,t,e),this.onData(this.writer.dtdNotation(r,this.currentLevel+1)),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;0<=this.currentLevel;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){if(!t.isOpen)return!this.root&&0===this.currentLevel&&t instanceof f&&(this.root=t),this.onData(this.writer.openNode(t,this.currentLevel)),t.isOpen=!0},t.prototype.closeNode=function(t){if(!t.isClosed)return this.onData(this.writer.closeNode(t,this.currentLevel)),t.isClosed=!0},t.prototype.onData=function(t){return this.documentStarted=!0,this.onDataCallback(t)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.dtd=function(t,e,r){return this.doctype(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},{"./Utility":194,"./XMLAttribute":195,"./XMLCData":196,"./XMLComment":197,"./XMLDTDAttList":198,"./XMLDTDElement":199,"./XMLDTDEntity":200,"./XMLDTDNotation":201,"./XMLDeclaration":202,"./XMLDocType":203,"./XMLElement":206,"./XMLProcessingInstruction":208,"./XMLRaw":209,"./XMLStringWriter":211,"./XMLStringifier":212,"./XMLText":213}],206:[function(r,n,t){(function(){var i,e,o,s,t,a={}.hasOwnProperty;t=r("./Utility"),s=t.isObject,o=t.isFunction,e=r("./XMLNode"),i=r("./XMLAttribute"),n.exports=function(t){function n(t,e,r){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing element name");this.name=this.stringify.eleName(e),this.attributes={},null!=r&&this.attribute(r),t.isDocument&&(this.isRoot=!0,(this.documentObject=t).rootObject=this)}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,e),n.prototype.clone=function(){var t,e,r,n;for(e in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attributes={},n=this.attributes)a.call(n,e)&&(t=n[e],r.attributes[e]=t.clone());return r.children=[],this.children.forEach(function(t){var e;return((e=t.clone()).parent=r).children.push(e)}),r},n.prototype.attribute=function(t,e){var r,n;if(null!=t&&(t=t.valueOf()),s(t))for(r in t)a.call(t,r)&&(n=t[r],this.attribute(r,n));else o(e)&&(e=e.apply()),this.options.skipNullAttributes&&null==e||(this.attributes[t]=new i(this,t,e));return this},n.prototype.removeAttribute=function(t){var e,r,n;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(r=0,n=t.length;r<n;r++)e=t[r],delete this.attributes[e];else delete this.attributes[t];return this},n.prototype.toString=function(t){return this.options.writer.set(t).element(this)},n.prototype.att=function(t,e){return this.attribute(t,e)},n.prototype.a=function(t,e){return this.attribute(t,e)},n}()}).call(this)},{"./Utility":194,"./XMLAttribute":195,"./XMLNode":207}],207:[function(e,l,t){(function(){var r,n,o,f,s,a,i,u,p,d,_,t,E={}.hasOwnProperty;t=e("./Utility"),_=t.isObject,d=t.isFunction,p=t.isEmpty,a=u=i=f=o=n=r=s=null,l.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=e("./XMLElement"),r=e("./XMLCData"),n=e("./XMLComment"),o=e("./XMLDeclaration"),f=e("./XMLDocType"),i=e("./XMLRaw"),u=e("./XMLText"),a=e("./XMLProcessingInstruction"))}return t.prototype.element=function(t,e,r){var n,i,o,s,a,u,l,c,f,h;if((u=null)==e&&(e={}),e=e.valueOf(),_(e)||(r=(f=[e,r])[0],e=f[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(o=0,l=t.length;o<l;o++)i=t[o],u=this.element(i);else if(d(t))u=this.element(t.apply());else if(_(t)){for(a in t)if(E.call(t,a))if(h=t[a],d(h)&&(h=h.apply()),_(h)&&p(h)&&(h=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))u=this.attribute(a.substr(this.stringify.convertAttKey.length),h);else if(!this.options.separateArrayItems&&Array.isArray(h))for(s=0,c=h.length;s<c;s++)i=h[s],(n={})[a]=i,u=this.element(n);else _(h)?(u=this.element(a)).element(h):u=this.element(a,h)}else u=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),r):this.node(t,e,r);if(null==u)throw new Error("Could not create any elements with: "+t);return u},t.prototype.insertBefore=function(t,e,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,o),n},t.prototype.insertAfter=function(t,e,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,o),n},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,r){var n,i;return null!=t&&(t=t.valueOf()),e||(e={}),e=e.valueOf(),_(e)||(r=(i=[e,r])[0],e=i[1]),n=new s(this,t,e),null!=r&&n.text(r),this.children.push(n),n},t.prototype.text=function(t){var e;return e=new u(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new r(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new n(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.commentAfter=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.raw=function(t){var e;return e=new i(this,t),this.children.push(e),this},t.prototype.instruction=function(t,e){var r,n,i,o,s;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(o=0,s=t.length;o<s;o++)r=t[o],this.instruction(r);else if(_(t))for(r in t)E.call(t,r)&&(n=t[r],this.instruction(r,n));else d(e)&&(e=e.apply()),i=new a(this,t,e),this.children.push(i);return this},t.prototype.instructionBefore=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.instructionAfter=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.declaration=function(t,e,r){var n,i;return n=this.document(),i=new o(n,t,e,r),n.children[0]instanceof o?n.children[0]=i:n.children.unshift(i),n.root()||n},t.prototype.doctype=function(t,e){var r,n,i,o,s,a,u,l,c;for(r=this.document(),n=new f(r,t,e),i=o=0,a=(l=r.children).length;o<a;i=++o)if(l[i]instanceof f)return r.children[i]=n;for(i=s=0,u=(c=r.children).length;s<u;i=++s)if(c[i].isRoot)return r.children.splice(i,0,n),n;return r.children.push(n),n},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.isDocument)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.isDocument)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.ele=function(t,e,r){return this.element(t,e,r)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.dtd=function(t,e){return this.doctype(t,e)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t}()}).call(this)},{"./Utility":194,"./XMLCData":196,"./XMLComment":197,"./XMLDeclaration":202,"./XMLDocType":203,"./XMLElement":206,"./XMLProcessingInstruction":208,"./XMLRaw":209,"./XMLText":213}],208:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function n(t,e,r){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(e),r&&(this.value=this.stringify.insValue(r))}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.set(t).processingInstruction(this)},n}()}).call(this)},{"./XMLNode":207}],209:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing raw text");this.value=this.stringify.raw(e)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).raw(this)},r}()}).call(this)},{"./XMLNode":207}],210:[function(t,r,e){(function(){var c,f,s,a,u,l,h,p,d,_,E,m,e,y={}.hasOwnProperty;h=t("./XMLDeclaration"),p=t("./XMLDocType"),c=t("./XMLCData"),f=t("./XMLComment"),d=t("./XMLElement"),E=t("./XMLRaw"),m=t("./XMLText"),_=t("./XMLProcessingInstruction"),s=t("./XMLDTDAttList"),a=t("./XMLDTDElement"),u=t("./XMLDTDEntity"),l=t("./XMLDTDNotation"),e=t("./XMLWriterBase"),r.exports=function(t){function r(t,e){r.__super__.constructor.call(this,e),this.stream=t}return function(t,e){for(var r in e)y.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.document=function(t){var e,r,n,i,o,s,a,u;for(r=0,i=(s=t.children).length;r<i;r++)(e=s[r]).isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,u=[],n=0,o=(a=t.children).length;n<o;n++)switch(e=a[n],!1){case!(e instanceof h):u.push(this.declaration(e));break;case!(e instanceof p):u.push(this.docType(e));break;case!(e instanceof f):u.push(this.comment(e));break;case!(e instanceof _):u.push(this.processingInstruction(e));break;default:u.push(this.element(e))}return u},r.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},r.prototype.cdata=function(t,e){return this.stream.write(this.space(e)+"<![CDATA["+t.text+"]]>"+this.endline(t))},r.prototype.comment=function(t,e){return this.stream.write(this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.endline(t))},r.prototype.declaration=function(t,e){return this.stream.write(this.space(e)),this.stream.write('<?xml version="'+t.version+'"'),null!=t.encoding&&this.stream.write(' encoding="'+t.encoding+'"'),null!=t.standalone&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(t))},r.prototype.docType=function(t,e){var r,n,i,o;if(e||(e=0),this.stream.write(this.space(e)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),0<t.children.length){for(this.stream.write(" ["),this.stream.write(this.endline(t)),n=0,i=(o=t.children).length;n<i;n++)switch(r=o[n],!1){case!(r instanceof s):this.dtdAttList(r,e+1);break;case!(r instanceof a):this.dtdElement(r,e+1);break;case!(r instanceof u):this.dtdEntity(r,e+1);break;case!(r instanceof l):this.dtdNotation(r,e+1);break;case!(r instanceof c):this.cdata(r,e+1);break;case!(r instanceof f):this.comment(r,e+1);break;case!(r instanceof _):this.processingInstruction(r,e+1);break;default:throw new Error("Unknown DTD node type: "+r.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(t))},r.prototype.element=function(t,e){var r,n,i,o,s,a,u,l;for(s in e||(e=0),l=this.space(e),this.stream.write(l+"<"+t.name),a=t.attributes)y.call(a,s)&&(r=a[s],this.attribute(r));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),i=0,o=(u=t.children).length;i<o;i++)switch(n=u[i],!1){case!(n instanceof c):this.cdata(n,e+1);break;case!(n instanceof f):this.comment(n,e+1);break;case!(n instanceof d):this.element(n,e+1);break;case!(n instanceof E):this.raw(n,e+1);break;case!(n instanceof m):this.text(n,e+1);break;case!(n instanceof _):this.processingInstruction(n,e+1);break;default:throw new Error("Unknown XML node type: "+n.constructor.name)}this.stream.write(l+"</"+t.name+">")}return this.stream.write(this.endline(t))},r.prototype.processingInstruction=function(t,e){return this.stream.write(this.space(e)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(t))},r.prototype.raw=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},r.prototype.text=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},r.prototype.dtdAttList=function(t,e){return this.stream.write(this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),"#DEFAULT"!==t.defaultValueType&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},r.prototype.dtdElement=function(t,e){return this.stream.write(this.space(e)+"<!ELEMENT "+t.name+" "+t.value),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},r.prototype.dtdEntity=function(t,e){return this.stream.write(this.space(e)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},r.prototype.dtdNotation=function(t,e){return this.stream.write(this.space(e)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},r.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},r}()}).call(this)},{"./XMLCData":196,"./XMLComment":197,"./XMLDTDAttList":198,"./XMLDTDElement":199,"./XMLDTDEntity":200,"./XMLDTDNotation":201,"./XMLDeclaration":202,"./XMLDocType":203,"./XMLElement":206,"./XMLProcessingInstruction":208,"./XMLRaw":209,"./XMLText":213,"./XMLWriterBase":214}],211:[function(t,e,r){(function(){var _,E,a,u,l,c,s,f,m,y,g,b,r,T={}.hasOwnProperty;s=t("./XMLDeclaration"),f=t("./XMLDocType"),_=t("./XMLCData"),E=t("./XMLComment"),m=t("./XMLElement"),g=t("./XMLRaw"),b=t("./XMLText"),y=t("./XMLProcessingInstruction"),a=t("./XMLDTDAttList"),u=t("./XMLDTDElement"),l=t("./XMLDTDEntity"),c=t("./XMLDTDNotation"),r=t("./XMLWriterBase"),e.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var r in e)T.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,r),e.prototype.document=function(t){var e,r,n,i,o;for(this.textispresent=!1,i="",r=0,n=(o=t.children).length;r<n;r++)e=o[r],i+=function(){switch(!1){case!(e instanceof s):return this.declaration(e);case!(e instanceof f):return this.docType(e);case!(e instanceof E):return this.comment(e);case!(e instanceof y):return this.processingInstruction(e);default:return this.element(e,0)}}.call(this);return this.pretty&&i.slice(-this.newline.length)===this.newline&&(i=i.slice(0,-this.newline.length)),i},e.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},e.prototype.cdata=function(t,e){return this.space(e)+"<![CDATA["+t.text+"]]>"+this.newline},e.prototype.comment=function(t,e){return this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.newline},e.prototype.declaration=function(t,e){var r;return r=this.space(e),r+='<?xml version="'+t.version+'"',null!=t.encoding&&(r+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(r+=' standalone="'+t.standalone+'"'),r+=this.spacebeforeslash+"?>",r+=this.newline},e.prototype.docType=function(t,e){var r,n,i,o,s;if(e||(e=0),o=this.space(e),o+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),0<t.children.length){for(o+=" [",o+=this.newline,n=0,i=(s=t.children).length;n<i;n++)r=s[n],o+=function(){switch(!1){case!(r instanceof a):return this.dtdAttList(r,e+1);case!(r instanceof u):return this.dtdElement(r,e+1);case!(r instanceof l):return this.dtdEntity(r,e+1);case!(r instanceof c):return this.dtdNotation(r,e+1);case!(r instanceof _):return this.cdata(r,e+1);case!(r instanceof E):return this.comment(r,e+1);case!(r instanceof y):return this.processingInstruction(r,e+1);default:throw new Error("Unknown DTD node type: "+r.constructor.name)}}.call(this);o+="]"}return o+=this.spacebeforeslash+">",o+=this.newline},e.prototype.element=function(t,e){var r,n,i,o,s,a,u,l,c,f,h,p,d;for(u in e||(e=0),d=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),l="",l+=(p=this.space(e))+"<"+t.name,c=t.attributes)T.call(c,u)&&(r=c[u],l+=this.attribute(r));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?l+="></"+t.name+">"+this.newline:l+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)l+=">",l+=t.children[0].value,l+="</"+t.name+">"+this.newline;else{if(this.dontprettytextnodes)for(i=0,s=(f=t.children).length;i<s;i++)if(null!=(n=f[i]).value){this.textispresent++,d=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,p=this.space(e)),l+=">"+this.newline,o=0,a=(h=t.children).length;o<a;o++)n=h[o],l+=function(){switch(!1){case!(n instanceof _):return this.cdata(n,e+1);case!(n instanceof E):return this.comment(n,e+1);case!(n instanceof m):return this.element(n,e+1);case!(n instanceof g):return this.raw(n,e+1);case!(n instanceof b):return this.text(n,e+1);case!(n instanceof y):return this.processingInstruction(n,e+1);default:throw new Error("Unknown XML node type: "+n.constructor.name)}}.call(this);d&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),l+=p+"</"+t.name+">"+this.newline}return l},e.prototype.processingInstruction=function(t,e){var r;return r=this.space(e)+"<?"+t.target,t.value&&(r+=" "+t.value),r+=this.spacebeforeslash+"?>"+this.newline},e.prototype.raw=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.text=function(t,e){return this.space(e)+t.value+this.newline},e.prototype.dtdAttList=function(t,e){var r;return r=this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(r+=" "+t.defaultValueType),t.defaultValue&&(r+=' "'+t.defaultValue+'"'),r+=this.spacebeforeslash+">"+this.newline},e.prototype.dtdElement=function(t,e){return this.space(e)+"<!ELEMENT "+t.name+" "+t.value+this.spacebeforeslash+">"+this.newline},e.prototype.dtdEntity=function(t,e){var r;return r=this.space(e)+"<!ENTITY",t.pe&&(r+=" %"),r+=" "+t.name,t.value?r+=' "'+t.value+'"':(t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),t.nData&&(r+=" NDATA "+t.nData)),r+=this.spacebeforeslash+">"+this.newline},e.prototype.dtdNotation=function(t,e){var r;return r=this.space(e)+"<!NOTATION "+t.name,t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?r+=' PUBLIC "'+t.pubID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),r+=this.spacebeforeslash+">"+this.newline},e.prototype.openNode=function(t,e){var r,n,i,o;if(e||(e=0),t instanceof m){for(n in i=this.space(e)+"<"+t.name,o=t.attributes)T.call(o,n)&&(r=o[n],i+=this.attribute(r));return i+=(t.children?">":"/>")+this.newline}return i=this.space(e)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),i+=(t.children?" [":">")+this.newline},e.prototype.closeNode=function(t,e){switch(e||(e=0),!1){case!(t instanceof m):return this.space(e)+"</"+t.name+">"+this.newline;case!(t instanceof f):return this.space(e)+"]>"+this.newline}},e}()}).call(this)},{"./XMLCData":196,"./XMLComment":197,"./XMLDTDAttList":198,"./XMLDTDElement":199,"./XMLDTDEntity":200,"./XMLDTDNotation":201,"./XMLDeclaration":202,"./XMLDocType":203,"./XMLElement":206,"./XMLProcessingInstruction":208,"./XMLRaw":209,"./XMLText":213,"./XMLWriterBase":214}],212:[function(t,e,r){(function(){var s={}.hasOwnProperty;e.exports=function(){function t(t){var e,r,n,i,o;for(n in this.assertLegalChar=(e=this.assertLegalChar,r=this,function(){return e.apply(r,arguments)}),t||(t={}),this.noDoubleEncoding=t.noDoubleEncoding,i=t.stringify||{})s.call(i,n)&&(o=i[n],this[n]=o)}return t.prototype.eleName=function(t){return t=""+t||"",this.assertLegalChar(t)},t.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},t.prototype.cdata=function(t){return t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t)},t.prototype.comment=function(t){if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return""+t||""},t.prototype.attName=function(t){return""+t||""},t.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},t.prototype.insTarget=function(t){return""+t||""},t.prototype.insValue=function(t){if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},t.prototype.xmlVersion=function(t){if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return t},t.prototype.xmlStandalone=function(t){return t?"yes":"no"},t.prototype.dtdPubID=function(t){return""+t||""},t.prototype.dtdSysID=function(t){return""+t||""},t.prototype.dtdElementValue=function(t){return""+t||""},t.prototype.dtdAttType=function(t){return""+t||""},t.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},t.prototype.dtdEntityValue=function(t){return""+t||""},t.prototype.dtdNData=function(t){return""+t||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e;if(e=t.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+t+" at index "+e.index);return t},t.prototype.elEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(this)},{}],213:[function(t,r,e){(function(){var e,i={}.hasOwnProperty;e=t("./XMLNode"),r.exports=function(t){function r(t,e){if(r.__super__.constructor.call(this,t),null==e)throw new Error("Missing element text");this.value=this.stringify.eleText(e)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.set(t).text(this)},r}()}).call(this)},{"./XMLNode":207}],214:[function(t,e,r){(function(){var c={}.hasOwnProperty;e.exports=function(){function t(t){var e,r,n,i,o,s,a,u,l;for(e in t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=null!=(r=t.allowEmpty)&&r,this.pretty?(this.indent=null!=(n=t.indent)?n:"  ",this.newline=null!=(i=t.newline)?i:"\n",this.offset=null!=(o=t.offset)?o:0,this.dontprettytextnodes=null!=(s=t.dontprettytextnodes)?s:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(a=t.spacebeforeslash)?a:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=t.writer||{})c.call(u,e)&&(l=u[e],this[e]=l)}return t.prototype.set=function(t){var e,r,n;for(e in t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:"\n",this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=t.writer||{})c.call(r,e)&&(n=r[e],this[e]=n);return this},t.prototype.space=function(t){var e;return this.pretty&&0<(e=(t||0)+this.offset+1)?new Array(e).join(this.indent):""},t}()}).call(this)},{}],215:[function(n,u,t){(function(){var s,i,r,e,a,o,t;t=n("./Utility"),a=t.assign,o=t.isFunction,s=n("./XMLDocument"),i=n("./XMLDocumentCB"),e=n("./XMLStringWriter"),r=n("./XMLStreamWriter"),u.exports.create=function(t,e,r,n){var i,o;if(null==t)throw new Error("Root element needs a name");return n=a({},e,r,n),o=(i=new s(n)).element(t),n.headless||(i.declaration(n),null==n.pubID&&null==n.sysID||i.doctype(n)),o},u.exports.begin=function(t,e,r){var n;return o(t)&&(e=(n=[t,e])[0],r=n[1],t={}),e?new i(t,e,r):new s(t)},u.exports.stringWriter=function(t){return new e(t)},u.exports.streamWriter=function(t,e){return new r(t,e)}}).call(this)},{"./Utility":194,"./XMLDocument":204,"./XMLDocumentCB":205,"./XMLStreamWriter":210,"./XMLStringWriter":211}],216:[function(t,e,r){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)i.call(r,n)&&(t[n]=r[n])}return t};var i=Object.prototype.hasOwnProperty},{}]},{},[1])(1)});